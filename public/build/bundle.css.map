{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "..\\..\\SimpleAutocomplete.svelte",
    "..\\..\\fa.svelte",
    "..\\..\\Email.svelte",
    "..\\..\\Facebook.svelte",
    "..\\..\\HackerNews.svelte",
    "..\\..\\LinkedIn.svelte",
    "..\\..\\Pinterest.svelte",
    "..\\..\\Reddit.svelte",
    "..\\..\\ShareButton.svelte",
    "..\\..\\Telegram.svelte",
    "..\\..\\Tumblr.svelte",
    "..\\..\\Twitter.svelte",
    "..\\..\\Vk.svelte",
    "..\\..\\WhatsApp.svelte",
    "..\\..\\Xing.svelte",
    "..\\..\\App.svelte",
    "..\\..\\LegendIcon.svelte",
    "..\\..\\MapMouseCoordControl.svelte",
    "..\\..\\ConsultaPopUp.svelte",
    "..\\..\\InfoBox.svelte",
    "..\\..\\Map.svelte",
    "..\\..\\LeftMenu.svelte",
    "..\\..\\EnllacaModal.svelte",
    "..\\..\\Footer.svelte",
    "..\\..\\InfoBox.svelte",
    "..\\..\\LayerCheckBox.svelte",
    "..\\..\\LayerGroup.svelte",
    "..\\..\\LegendLayers.svelte",
    "..\\..\\PanelBaseMap.svelte",
    "..\\..\\PanelIconMenu.svelte",
    "..\\..\\PanelOverLayers.svelte",
    "..\\..\\SliderOpacity.svelte",
    "..\\..\\PanelSearchBar.svelte",
    "..\\..\\PanelSearchResults.svelte",
    "..\\..\\CrossSection.svelte",
    "..\\..\\DrawerBottom.svelte",
    "..\\..\\ButtonHome.svelte",
    "..\\..\\PanelTopBar.svelte",
    "..\\..\\Title.svelte",
    "..\\..\\Logo.svelte",
    "..\\..\\Logo_map.svelte",
    "..\\..\\Modal.svelte",
    "..\\..\\ModalInfo.svelte"
  ],
  "sourcesContent": [
    "<script>\n  // the list of items  the user can select from\n  export let items;\n\n  // field of each item that's used for the labels in the list\n  export let labelFieldName = undefined;\n  export let keywordsFieldName = labelFieldName;\n  export let valueFieldName = undefined;\n\n  export let labelFunction = function(item) {\n    if (item === undefined || item === null) {\n      return \"\";\n    }\n    return labelFieldName ? item[labelFieldName] : item;\n  };\n\n  export let keywordsFunction = function(item) {\n    if (item === undefined || item === null) {\n      return \"\";\n    }\n    return keywordsFieldName ? item[keywordsFieldName] : item;\n  };\n\n  export let valueFunction = function(item) {\n    if (item === undefined || item === null) {\n      return item;\n    }\n    return valueFieldName ? item[valueFieldName] : item;\n  };\n\n  export let keywordsCleanFunction = function(keywords) {\n    return keywords;\n  };\n\n  export let textCleanFunction = function(userEnteredText) {\n    return userEnteredText;\n  };\n\n  export let beforeChange = function(oldSelectedItem, newSelectedItem) {\n    return true;\n  };\n  export let onChange = function(newSelectedItem) {};\n\n  export let selectFirstIfEmpty = false;\n\n  export let minCharactersToSearch = 1;\n  export let maxItemsToShowInList = 0;\n  export let noResultsText = \"No results found\";\n\n  const uniqueId = \"sautocomplete-\" + Math.floor(Math.random() * 1000);\n\n  function safeStringFunction(theFunction, argument) {\n    if (typeof theFunction !== \"function\") {\n      console.error(\n        \"Not a function: \" + theFunction + \", argument: \" + argument\n      );\n    }\n    let originalResult;\n    try {\n      originalResult = theFunction(argument);\n    } catch (error) {\n      console.warn(\n        \"Error executing Autocomplete function on value: \" +\n          argument +\n          \" function: \" +\n          theFunction\n      );\n    }\n    let result = originalResult;\n    if (result === undefined || result === null) {\n      result = \"\";\n    }\n    if (typeof result !== \"string\") {\n      result = result.toString();\n    }\n    return result;\n  }\n\n  function safeLabelFunction(item) {\n    // console.log(\"labelFunction: \" + labelFunction);\n    // console.log(\"safeLabelFunction, item: \" + item);\n    return safeStringFunction(labelFunction, item);\n  }\n\n  function safeKeywordsFunction(item) {\n    // console.log(\"safeKeywordsFunction\");\n    const keywords = safeStringFunction(keywordsFunction, item);\n    let result = safeStringFunction(keywordsCleanFunction, keywords);\n    result = result.toLowerCase().trim();\n    if (debug) {\n      console.log(\n        \"Extracted keywords: '\" +\n          result +\n          \"' from item: \" +\n          JSON.stringify(item)\n      );\n    }\n    return result;\n  }\n\n  // the text displayed when no option is selected\n  export let placeholder = undefined;\n  // apply a className to the control\n  export let className = undefined;\n  // generate an HTML input with this name, containing the current value\n  export let name = undefined;\n  // adds the disabled tag to the HTML input\n  export let disabled = false;\n  // add the title to the HTML input\n  export let title = undefined;\n  export let debug = false;\n\n  // selected item state\n  export let selectedItem = undefined;\n  export let value = undefined;\n  let text;\n  let filteredTextLength = 0;\n\n  function onSelectedItemChanged() {\n    value = valueFunction(selectedItem);\n    text = safeLabelFunction(selectedItem);\n    onChange(selectedItem);\n  }\n\n  $: selectedItem, onSelectedItemChanged();\n\n  // HTML elements\n  let input;\n  let list;\n\n  // UI state\n  let opened = false;\n  let highlightIndex = -1;\n\n  // view model\n  let filteredListItems;\n\n  let listItems = [];\n\n  function prepareListItems() {\n    let tStart;\n    if (debug) {\n      tStart = performance.now();\n      console.log(\"prepare items to search\");\n      console.log(\"items: \" + JSON.stringify(items));\n    }\n    const length = items ? items.length : 0;\n    listItems = new Array(length);\n\n    if (length > 0) {\n      items.forEach((item, i) => {\n        listItems[i] = getListItem(item);\n      });\n    }\n\n    if (debug) {\n      const tEnd = performance.now();\n      console.log(\n        listItems.length +\n          \" items to search prepared in \" +\n          (tEnd - tStart) +\n          \" milliseconds\"\n      );\n    }\n  }\n\n  function getListItem(item) {\n    return {\n      // keywords representation of the item\n      keywords: safeKeywordsFunction(item),\n      // item label\n      label: safeLabelFunction(item),\n      // store reference to the origial item\n      item: item\n    };\n  }\n\n  $: items, prepareListItems();\n\n  function prepareUserEnteredText(userEnteredText) {\n    if (userEnteredText === undefined || userEnteredText === null) {\n      return \"\";\n    }\n\n    const textFiltered = userEnteredText\n      .replace(/[&/\\\\#,+()$~%.'\":*?<>{}]/g, \" \")\n      .trim();\n\n    filteredTextLength = textFiltered.length;\n\n    if (minCharactersToSearch > 1) {\n      if (filteredTextLength < minCharactersToSearch) {\n        return \"\";\n      }\n    }\n\n    const cleanUserEnteredText = textCleanFunction(textFiltered);\n    const textFilteredLowerCase = cleanUserEnteredText.toLowerCase().trim();\n\n    if (debug) {\n      console.log(\n        \"Change user entered text '\" +\n          userEnteredText +\n          \"' into '\" +\n          textFilteredLowerCase +\n          \"'\"\n      );\n    }\n    return textFilteredLowerCase;\n  }\n\n  function search() {\n    let tStart;\n    if (debug) {\n      tStart = performance.now();\n      console.log(\"Searching user entered text: '\" + text + \"'\");\n    }\n\n    const textFiltered = prepareUserEnteredText(text);\n\n    if (textFiltered === \"\") {\n      filteredListItems = listItems;\n      closeIfMinCharsToSearchReached();\n      if (debug) {\n        console.log(\n          \"User entered text is empty set the list of items to all items\"\n        );\n      }\n      return;\n    }\n\n    const searchWords = textFiltered.split(\" \");\n\n    let tempfilteredListItems = listItems.filter(listItem => {\n      const itemKeywords = listItem.keywords;\n\n      let matches = 0;\n      searchWords.forEach(searchWord => {\n        if (itemKeywords.includes(searchWord)) {\n          matches++;\n        }\n      });\n\n      return matches >= searchWords.length;\n    });\n\n    const hlfilter = highlightFilter(textFiltered, [\"label\"]);\n    const filteredListItemsHighlighted = tempfilteredListItems.map(hlfilter);\n\n    filteredListItems = filteredListItemsHighlighted;\n    closeIfMinCharsToSearchReached();\n    if (debug) {\n      const tEnd = performance.now();\n      console.log(\n        \"Search took \" +\n          (tEnd - tStart) +\n          \" milliseconds, found \" +\n          filteredListItems.length +\n          \" items\"\n      );\n    }\n  }\n\n  // $: text, search();\n\n  function selectListItem(listItem) {\n    if (debug) {\n      console.log(\"selectListItem\");\n    }\n    const newSelectedItem = listItem.item;\n    if (beforeChange(selectedItem, newSelectedItem)) {\n      selectedItem = newSelectedItem;\n    }\n  }\n\n  function selectItem() {\n    if (debug) {\n      console.log(\"selectItem\");\n    }\n    const listItem = filteredListItems[highlightIndex];\n    selectListItem(listItem);\n    close();\n  }\n\n  function up() {\n    if (debug) {\n      console.log(\"up\");\n    }\n\n    open();\n    if (highlightIndex > 0) highlightIndex--;\n    highlight();\n  }\n\n  function down() {\n    if (debug) {\n      console.log(\"down\");\n    }\n\n    open();\n    if (highlightIndex < filteredListItems.length - 1) highlightIndex++;\n    highlight();\n  }\n\n  function highlight() {\n    if (debug) {\n      console.log(\"highlight\");\n    }\n\n    const query = \".selected\";\n    if (debug) {\n      console.log(\"Seaching DOM element: \" + query + \" in \" + list);\n    }\n    const el = list.querySelector(query);\n    if (el) {\n      if (typeof el.scrollIntoViewIfNeeded === \"function\") {\n        if (debug) {\n          console.log(\"Scrolling selected item into view\");\n        }\n        el.scrollIntoViewIfNeeded();\n      } else {\n        if (debug) {\n          console.warn(\n            \"Could not scroll selected item into view, scrollIntoViewIfNeeded not supported\"\n          );\n        }\n      }\n    } else {\n      if (debug) {\n        console.warn(\"Selected item not found to scroll into view\");\n      }\n    }\n  }\n\n  function onListItemClick(listItem) {\n    if (debug) {\n      console.log(\"onListItemClick\");\n    }\n\n    selectListItem(listItem);\n    close();\n  }\n\n  function onDocumentClick(e) {\n    if (debug) {\n      console.log(\"onDocumentClick: \" + JSON.stringify(e.target));\n    }\n    if (e.target.closest(\".\" + uniqueId)) {\n      if (debug) {\n        console.log(\"onDocumentClick inside\");\n      }\n      // resetListToAllItemsAndOpen();\n      highlight();\n    } else {\n      if (debug) {\n        console.log(\"onDocumentClick outside\");\n      }\n      close();\n    }\n  }\n\n  function onKeyDown(e) {\n    if (debug) {\n      console.log(\"onKeyDown\");\n    }\n\n    let key = e.key;\n    if (key === \"Tab\" && e.shiftKey) key = \"ShiftTab\";\n    const fnmap = {\n      Tab: opened ? down.bind(this) : null,\n      ShiftTab: opened ? up.bind(this) : null,\n      ArrowDown: down.bind(this),\n      ArrowUp: up.bind(this),\n      Escape: onEsc.bind(this)\n    };\n    const fn = fnmap[key];\n    if (typeof fn === \"function\") {\n      e.preventDefault();\n      fn(e);\n    }\n  }\n\n  function onKeyPress(e) {\n    if (debug) {\n      console.log(\"onKeyPress\");\n    }\n\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      selectItem();\n    }\n  }\n\n  function onInput(e) {\n    if (debug) {\n      console.log(\"onInput\");\n    }\n\n    text = e.target.value;\n    search();\n    highlightIndex = 0;\n    open();\n  }\n\n  function onInputClick() {\n    if (debug) {\n      console.log(\"onInputClick\");\n    }\n    resetListToAllItemsAndOpen();\n  }\n\n  function onEsc(e) {\n    if (debug) {\n      console.log(\"onEsc\");\n    }\n\n    //if (text) return clear();\n    e.stopPropagation();\n    if (opened) {\n      input.focus();\n      close();\n    }\n  }\n\n  function onFocus() {\n    if (debug) {\n      console.log(\"onFocus\");\n    }\n\n    resetListToAllItemsAndOpen();\n  }\n\n  function resetListToAllItemsAndOpen() {\n    if (debug) {\n      console.log(\"resetListToAllItemsAndOpen\");\n    }\n\n    filteredListItems = listItems;\n\n    open();\n\n    // find selected item\n    if (selectedItem) {\n      if (debug) {\n        console.log(\n          \"Searching currently selected item: \" + JSON.stringify(selectedItem)\n        );\n      }\n      for (let i = 0; i < listItems.length; i++) {\n        const listItem = listItems[i];\n        if (debug) {\n          console.log(\"Item \" + i + \": \" + JSON.stringify(listItem));\n        }\n        if (selectedItem == listItem.item) {\n          highlightIndex = i;\n          if (debug) {\n            console.log(\n              \"Found selected item: \" + i + \": \" + JSON.stringify(listItem)\n            );\n          }\n          highlight();\n          break;\n        }\n      }\n    }\n  }\n\n  function open() {\n    if (debug) {\n      console.log(\"open\");\n    }\n\n    // check if the search text has more than the min chars required\n    if (isMinCharsToSearchReached()) {\n      return;\n    }\n\n    opened = true;\n  }\n\n  function close() {\n    if (debug) {\n      console.log(\"close\");\n    }\n    opened = false;\n\n    if (!text && selectFirstIfEmpty) {\n      highlightFilter = 0;\n      selectItem();\n    }\n  }\n\n  function isMinCharsToSearchReached() {\n    return (\n      minCharactersToSearch > 1 && filteredTextLength < minCharactersToSearch\n    );\n  }\n\n  function closeIfMinCharsToSearchReached() {\n    if (isMinCharsToSearchReached()) {\n      close();\n    }\n  }\n\n  function clear() {\n    if (debug) {\n      console.log(\"clear\");\n    }\n\n    text = \"\";\n    setTimeout(() => input.focus());\n  }\n\n  function onBlur() {\n    if (debug) {\n      console.log(\"onBlur\");\n    }\n    close();\n  }\n  // 'item number one'.replace(/(it)(.*)(nu)(.*)(one)/ig, '<b>$1</b>$2 <b>$3</b>$4 <b>$5</b>')\n  function highlightFilter(q, fields) {\n    const qs = \"(\" + q.trim().replace(/\\s/g, \")(.*)(\") + \")\";\n    const reg = new RegExp(qs, \"ig\");\n    let n = 1;\n    const len = qs.split(\")(\").length + 1;\n    let repl = \"\";\n    for (; n < len; n++) repl += n % 2 ? `<b>$${n}</b>` : `$${n}`;\n\n    return i => {\n      const newI = Object.assign({ highlighted: {} }, i);\n      if (fields) {\n        fields.forEach(f => {\n          if (!newI[f]) return;\n          newI.highlighted[f] = newI[f].replace(reg, repl);\n        });\n      }\n      return newI;\n    };\n  }\n</script>\n\n<style>\n  .autocomplete {\n    min-width: 200px;\n  }\n  .autocomplete * {\n    box-sizing: border-box;\n  }\n  .autocomplete-input {\n    font: inherit;\n    width: 100%;\n    height: 100%;\n    padding: 5px 11px;\n  }\n  .autocomplete-list {\n    background: #fff;\n    position: relative;\n    width: 100%;\n    overflow-y: auto;\n    z-index: 99;\n    padding: 10px 0;\n    top: 0px;\n    border: 1px solid #999;\n    max-height: calc(15 * (1rem + 10px) + 15px);\n    user-select: none;\n  }\n  .autocomplete-list:empty {\n    padding: 0;\n  }\n  .autocomplete-list-item {\n    padding: 5px 15px;\n    color: #333;\n    cursor: pointer;\n    line-height: 1;\n  }\n\n  .autocomplete-list-item:hover,\n  .autocomplete-list-item.selected {\n    background-color: #2e69e2;\n    color: #fff;\n  }\n  .autocomplete-list-item-no-results {\n    padding: 5px 15px;\n    color: #999;\n    line-height: 1;\n  }\n\n  .autocomplete-list.hidden {\n    display: none;\n  }\n</style>\n\n<div class=\"{className} autocomplete select is-fullwidth {uniqueId}\">\n  <input\n    type=\"text\"\n    class=\"input autocomplete-input\"\n    {placeholder}\n    {name}\n    {disabled}\n    {title}\n    bind:this={input}\n    bind:value={text}\n    on:input={onInput}\n    on:focus={onFocus}\n    on:keydown={onKeyDown}\n    on:click={onInputClick}\n    on:keypress={onKeyPress} />\n  <div\n    class=\"autocomplete-list {opened ? '' : 'hidden'} is-fullwidth\"\n    bind:this={list}>\n    {#if filteredListItems && filteredListItems.length > 0}\n      {#each filteredListItems as listItem, i}\n        {#if maxItemsToShowInList <= 0 || i < maxItemsToShowInList}\n          <div\n            class=\"autocomplete-list-item {i === highlightIndex ? 'selected' : ''}\"\n            on:click={() => onListItemClick(listItem)}>\n            {#if listItem.highlighted}\n              {@html listItem.highlighted.label}\n            {:else}\n              {@html listItem.label}\n            {/if}\n          </div>\n        {/if}\n      {/each}\n\n      {#if maxItemsToShowInList > 0 && filteredListItems.length > maxItemsToShowInList}\n        <div class=\"autocomplete-list-item-no-results\">\n          ...{filteredListItems.length - maxItemsToShowInList} results not shown\n        </div>\n      {/if}\n    {:else if noResultsText}\n      <div class=\"autocomplete-list-item-no-results\">{noResultsText}</div>\n    {/if}\n  </div>\n</div>\n\n<svelte:window on:click={onDocumentClick} />\n",
    "<script>\nimport {\n  joinCss,\n  getStyles,\n  getTransform,\n} from './utils';\n\nlet clazz = '';\nexport { clazz as class };\nexport let id = '';\nexport let style = '';\n\nexport let icon;\n\nexport let size = '';\nexport let color = '';\n\nexport let fw = false;\nexport let pull = '';\n\nexport let scale = 1;\nexport let translateX = 0;\nexport let translateY = 0;\nexport let rotate = '';\nexport let flip = false;\n\nexport let spin = false;\nexport let pulse = false;\n\n// Duotone Icons\nexport let primaryColor = '';\nexport let secondaryColor = '';\nexport let primaryOpacity = 1;\nexport let secondaryOpacity = 0.4;\nexport let swapOpacity = false;\n\nlet i;\nlet c;\nlet s;\nlet transform;\n\n$: i = (icon && icon.icon) || [0, 0, '', [], ''];\n\n$: c = joinCss(\n  [\n    clazz,\n    'fa',\n    spin && 'spin',\n    pulse && 'pulse',\n  ],\n  ' ',\n);\n\n$: s = getStyles(style, size, pull, fw);\n\n$: transform = getTransform(scale, translateX, translateY, rotate, flip, 512);\n</script>\n\n<style>\n.spin {\n  animation: spin 2s 0s infinite linear;\n}\n\n.pulse {\n  animation: spin 1s infinite steps(8);\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n</style>\n\n{#if i[4]}\n  <svg\n    {id}\n    class={c}\n    style={s}\n    viewBox={`0 0 ${i[0]} ${i[1]}`}\n    aria-hidden=\"true\"\n    role=\"img\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <g\n      transform={`translate(${i[0] / 2} ${i[1] / 2})`}\n      transform-origin={`${i[0] / 4} 0`}\n    >\n      <g {transform}>\n        {#if typeof i[4] == 'string'}\n          <path\n            d={i[4]}\n            fill={color || primaryColor || 'currentColor'}\n            transform={`translate(${i[0] / -2} ${i[1] / -2})`}\n          />\n        {:else}\n          <path\n            d={i[4][0]}\n            fill={secondaryColor || color || 'currentColor'}\n            fill-opacity={swapOpacity != false ? primaryOpacity : secondaryOpacity}\n            transform={`translate(${i[0] / -2} ${i[1] / -2})`}\n          />\n          <path\n            d={i[4][1]}\n            fill={primaryColor || color || 'currentColor'}\n            fill-opacity={swapOpacity != false ? secondaryOpacity : primaryOpacity}\n            transform={`translate(${i[0] / -2} ${i[1] / -2})`}\n          />\n        {/if}\n      </g>\n    </g>\n  </svg>\n{/if}\n",
    "<script>\n  import IconButton, { Icon } from \"@smui/icon-button\";\n  export let subject;\n  export let body;\n  export let ariaLabel = 'Comparteix per correu';\n  let classes = '';\n\n  export { classes as class };\n\n  import ShareButton from './ShareButton.svelte';\n  let href;\n  \n  $: href = encodeURI(`mailto:?subject=${subject}&body=${body}`);\n</script>\n\n<style>\n:global(.ssbc-button--email) {\n  background-color: transparent;\n  color: #000;\n  font-size: x-large;\n  \n}\n\n:global(.ssbc-button--email:active),\n:global(.ssbc-button--email:hover) {\n  background-color: #d15555;\n  font-size: large;\n}\n</style>\n\n<ShareButton class=\"ssbc-button--email {classes}\" {...$$restProps} {ariaLabel} {href}>\n\n    <!-- <Icon class=\"material-icons icono\" tabindex=\"1\" on>menu</Icon> -->\n    <i class=\"fa fa-envelope\"></i>\n    \n\n  <!-- <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n    <path d=\"M22 4H2C.9 4 0 4.9 0 6v12c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7.25 14.43l-3.5 2c-.08.05-.17.07-.25.07-.17 0-.34-.1-.43-.25-.14-.24-.06-.55.18-.68l3.5-2c.24-.14.55-.06.68.18.14.24.06.55-.18.68zm4.75.07c-.1 0-.2-.03-.27-.08l-8.5-5.5c-.23-.15-.3-.46-.15-.7.15-.22.46-.3.7-.14L12 13.4l8.23-5.32c.23-.15.54-.08.7.15.14.23.07.54-.16.7l-8.5 5.5c-.08.04-.17.07-.27.07zm8.93 1.75c-.1.16-.26.25-.43.25-.08 0-.17-.02-.25-.07l-3.5-2c-.24-.13-.32-.44-.18-.68s.44-.32.68-.18l3.5 2c.24.13.32.44.18.68z\"/>\n  </svg> -->\n</ShareButton>",
    "<script>\n  export let url;\n  export let ariaLabel = 'Comparteix a Facebook';\n  let classes = '';\n\n  export { classes as class };\n\n  import ShareButton from './ShareButton.svelte';\n  let href;\n  \n  $: href = encodeURI(`https://facebook.com/sharer/sharer.php?u=${url}`);\n</script>\n\n<style>\n:global(.ssbc-button--facebook) {\n  background-color: transparent;\n  color: #000;\n  font-size: x-large;\n  \n}\n\n:global(.ssbc-button--facebook:active),\n:global(.ssbc-button--facebook:hover) {\n  background-color: #648be0;\n  font-size: large;\n}\n</style>\n\n<ShareButton class=\"ssbc-button--facebook {classes}\" {...$$restProps} {ariaLabel} {href}>\n  <!-- <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n    <path d=\"M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z\"/>\n  </svg> -->\n  <i class=\"fa fa-facebook\"></i>\n</ShareButton>",
    "<script>\n  export let title;\n  export let url;\n  export let ariaLabel = 'Share on HackerNews';\n  let classes = '';\n\n  export { classes as class };\n\n  import ShareButton from './ShareButton.svelte';\n  let href;\n  \n  $: href = encodeURI(`https://news.ycombinator.com/submitlink?u=${url}&t=${title}`);\n</script>\n\n<style>\n:global(.ssbc-button--hacker-news) {\n  background-color: #FF6600;\n}\n\n:global(.ssbc-button--hacker-news:active),\n:global(.ssbc-button--hacker-news:hover) {\n  background-color: #FB6200;\n}\n</style>\n\n<ShareButton class=\"ssbc-button--hacker-news {classes}\" {...$$restProps} {ariaLabel} {href}>\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 140 140\">\n    <path fill-rule=\"evenodd\" d=\"M60.94 82.314L17 0h20.08l25.85 52.093c.397.927.86 1.888 1.39 2.883.53.994.995 2.02 1.393 3.08.265.4.463.764.596 1.095.13.334.262.63.395.898.662 1.325 1.26 2.618 1.79 3.877.53 1.26.993 2.42 1.39 3.48 1.06-2.254 2.22-4.673 3.48-7.258 1.26-2.585 2.552-5.27 3.877-8.052L103.49 0h18.69L77.84 83.308v53.087h-16.9v-54.08z\"></path>\n  </svg>\n</ShareButton>",
    "<script>\n  export let url;\n  export let ariaLabel = 'Comparteix a LinkedIn';\n  let classes = '';\n\n  export { classes as class };\n\n  import ShareButton from './ShareButton.svelte';\n  let href;\n\n  $: href = encodeURI(`https://www.linkedin.com/sharing/share-offsite/?url=${url}`);\n</script>\n\n<style>\n:global(.ssbc-button--linkedin) {\n  background-color: transparent;\n  color: #000;\n  font-size: x-large;\n  \n}\n\n:global(.ssbc-button--linkedin:active),\n:global(.ssbc-button--linkedin:hover) {\n  background-color: #5857a0;\n  font-size: large;\n}\n</style>\n\n<ShareButton class=\"ssbc-button--linkedin {classes}\" {...$$restProps} {ariaLabel} {href}>\n  <!-- <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n    <path d=\"M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6 0 2.5 1 2.6 2.5 0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z\"/>\n  </svg> -->\n  <i class=\"fa fa-linkedin\"></i>\n</ShareButton>",
    "<script>\n  export let description;\n  export let url;\n  export let ariaLabel = 'Share on Pinterest';\n  let classes = '';\n\n  export { classes as class };\n\n  import ShareButton from './ShareButton.svelte';\n  let href;\n  \n  $: href = encodeURI(`https://pinterest.com/pin/create/button/?url=${url}&media=${url}&description=${description}`);\n</script>\n\n<style>\n:global(.ssbc-button--pinterest) {\n  background-color: #bd081c;\n}\n\n:global(.ssbc-button--pinterest:active),\n:global(.ssbc-button--pinterest:hover) {\n  background-color: #8c0615;\n}\n</style>\n\n<ShareButton class=\"ssbc-button--pinterest {classes}\" {...$$restProps} {ariaLabel} {href}>\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n    <path d=\"M12.14.5C5.86.5 2.7 5 2.7 8.75c0 2.27.86 4.3 2.7 5.05.3.12.57 0 .66-.33l.27-1.06c.1-.32.06-.44-.2-.73-.52-.62-.86-1.44-.86-2.6 0-3.33 2.5-6.32 6.5-6.32 3.55 0 5.5 2.17 5.5 5.07 0 3.8-1.7 7.02-4.2 7.02-1.37 0-2.4-1.14-2.07-2.54.4-1.68 1.16-3.48 1.16-4.7 0-1.07-.58-1.98-1.78-1.98-1.4 0-2.55 1.47-2.55 3.42 0 1.25.43 2.1.43 2.1l-1.7 7.2c-.5 2.13-.08 4.75-.04 5 .02.17.22.2.3.1.14-.18 1.82-2.26 2.4-4.33.16-.58.93-3.63.93-3.63.45.88 1.8 1.65 3.22 1.65 4.25 0 7.13-3.87 7.13-9.05C20.5 4.15 17.18.5 12.14.5z\"/>\n  </svg>\n</ShareButton>",
    "<script>\n  export let title;\n  export let url;\n  export let ariaLabel = 'Share on Reddit';\n  let classes = '';\n\n  export { classes as class };\n\n  import ShareButton from './ShareButton.svelte';\n  let href;\n  \n  $: href = encodeURI(`https://reddit.com/submit/?url=${url}&resubmit=true&title=${title}`);\n</script>\n\n<style>\n:global(.ssbc-button--reddit) {\n  background-color: #5f99cf;\n}\n\n:global(.ssbc-button--reddit:active),\n:global(.ssbc-button--reddit:hover) {\n  background-color: #3a80c1;\n}\n</style>\n\n<ShareButton class=\"ssbc-button--reddit {classes}\" {...$$restProps} {ariaLabel} {href}>\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n    <path d=\"M24 11.5c0-1.65-1.35-3-3-3-.96 0-1.86.48-2.42 1.24-1.64-1-3.75-1.64-6.07-1.72.08-1.1.4-3.05 1.52-3.7.72-.4 1.73-.24 3 .5C17.2 6.3 18.46 7.5 20 7.5c1.65 0 3-1.35 3-3s-1.35-3-3-3c-1.38 0-2.54.94-2.88 2.22-1.43-.72-2.64-.8-3.6-.25-1.64.94-1.95 3.47-2 4.55-2.33.08-4.45.7-6.1 1.72C4.86 8.98 3.96 8.5 3 8.5c-1.65 0-3 1.35-3 3 0 1.32.84 2.44 2.05 2.84-.03.22-.05.44-.05.66 0 3.86 4.5 7 10 7s10-3.14 10-7c0-.22-.02-.44-.05-.66 1.2-.4 2.05-1.54 2.05-2.84zM2.3 13.37C1.5 13.07 1 12.35 1 11.5c0-1.1.9-2 2-2 .64 0 1.22.32 1.6.82-1.1.85-1.92 1.9-2.3 3.05zm3.7.13c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm9.8 4.8c-1.08.63-2.42.96-3.8.96-1.4 0-2.74-.34-3.8-.95-.24-.13-.32-.44-.2-.68.15-.24.46-.32.7-.18 1.83 1.06 4.76 1.06 6.6 0 .23-.13.53-.05.67.2.14.23.06.54-.18.67zm.2-2.8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm5.7-2.13c-.38-1.16-1.2-2.2-2.3-3.05.38-.5.97-.82 1.6-.82 1.1 0 2 .9 2 2 0 .84-.53 1.57-1.3 1.87z\"/>\n  </svg>\n</ShareButton>",
    "<script>\n  export let href;\n  export let label = '';\n  export let fill = true;\n  export let ariaLabel = '';\n  let classes = '';\n\n  export { classes as class };\n</script>\n\n<style>\n.ssbc-button__link,\n.ssbc-button__icon {\n  display: inline-block;\n}\n\n.ssbc-button__link {\n  text-decoration: none;\n  color: #fff;\n}\n\n.ssbc-button {\n  transition: 25ms ease-out;\n  padding: 0.75em;\n}\n\n.ssbc-button__icon :global(svg) {\n  width: 1em;\n  height: 1em;\n  margin: 0;\n  vertical-align: middle;\n}\n\n.ssbc-button__icon--fill {\n  fill: #fff;\n  stroke: none;\n}\n\n.ssbc-button__icon--outline {\n  fill: none;\n  stroke: #fff;\n}\n</style>\n\n<a class=\"ssbc-button__link\" {href} target=\"_blank\" rel=\"noopener\" aria-label={ariaLabel}>\n  <div class=\"ssbc-button {classes}\">\n    <div aria-hidden=\"true\" class=\"ssbc-button__icon\" class:ssbc-button__icon--fill={fill} class:ssbc-button__icon--outline={!fill}>\n      <slot></slot>\n    </div>\n    {label}\n  </div>\n</a>",
    "<script>\n  export let text;\n  export let url;\n  export let ariaLabel = 'Share on Telegram';\n  let classes = '';\n\n  export { classes as class };\n\n  import ShareButton from './ShareButton.svelte';\n  let href;\n  \n  $: href = encodeURI(`https://telegram.me/share/url?text=${text}&url=${url}`);\n</script>\n\n<style>\n:global(.ssbc-button--telegram) {\n  background-color: transparent;\n  color: #000;\n  font-size: x-large;\n  \n}\n\n:global(.ssbc-button--telegram:active),\n:global(.ssbc-button--telegram:hover) {\n  background-color: #4B97D1;\n}\n</style>\n\n<ShareButton class=\"ssbc-button--telegram {classes}\" {...$$restProps} {ariaLabel} {href}>\n  <!-- <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n    <path d=\"M.707 8.475C.275 8.64 0 9.508 0 9.508s.284.867.718 1.03l5.09 1.897 1.986 6.38a1.102 1.102 0 0 0 1.75.527l2.96-2.41a.405.405 0 0 1 .494-.013l5.34 3.87a1.1 1.1 0 0 0 1.046.135 1.1 1.1 0 0 0 .682-.803l3.91-18.795A1.102 1.102 0 0 0 22.5.075L.706 8.475z\"/>\n  </svg> -->\n  <i class=\"fab fa-telegram-plane\"></i>\n</ShareButton>",
    "<script>\n  export let title;\n  export let caption;\n  export let url;\n  export let ariaLabel = 'Share on Tumblr';\n  let classes = '';\n\n  export { classes as class };\n\n  import ShareButton from './ShareButton.svelte';\n  let href;\n  \n  $: href = encodeURI(`https://www.tumblr.com/widgets/share/tool?posttype=link&title=${title}&caption=${caption}&content=${url}&canonicalUrl=${url}&shareSource=tumblr_share_button`);\n</script>\n\n<style>\n:global(.ssbc-button--tumblr) {\n  background-color: #35465C;\n}\n\n:global(.ssbc-button--tumblr:active),\n:global(.ssbc-button--tumblr:hover) {\n  background-color: #222d3c;\n}\n</style>\n\n<ShareButton class=\"ssbc-button--tumblr {classes}\" {...$$restProps} {ariaLabel} {href}>\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n    <path d=\"M13.5.5v5h5v4h-5V15c0 5 3.5 4.4 6 2.8v4.4c-6.7 3.2-12 0-12-4.2V9.5h-3V6.7c1-.3 2.2-.7 3-1.3.5-.5 1-1.2 1.4-2 .3-.7.6-1.7.7-3h3.8z\"/>\n  </svg>\n</ShareButton>",
    "<script>\n  export let text;\n  export let url;\n  export let ariaLabel = 'Comparteix a Twitter';\n  let classes = '';\n\n  export { classes as class };\n\n  import ShareButton from './ShareButton.svelte';\n  let href;\n  // https://twitter.com/intent/tweet?url=\n  $: href = encodeURI(`https://twitter.com/intent/tweet/?text=${text}&url=${url}`);\n</script>\n\n<style>\n:global(.ssbc-button--twitter) {\n  background-color: transparent;\n  color: #000;\n  font-size: x-large;\n  \n}\n\n:global(.ssbc-button--twitter:active),\n:global(.ssbc-button--twitter:hover) {\n  background-color: #7abbec;\n  font-size: large;\n}\n</style>\n\n<ShareButton class=\"ssbc-button--twitter {classes}\" {...$$restProps} {ariaLabel} {href}>\n  <!-- <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n    <path d=\"M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5 0-4.55 2.04-4.55 4.54 0 .36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3 0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35 0 12.92-6.92 12.92-12.93 0-.2 0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z\"/>\n  </svg> -->\n  <i class=\"fa fa-twitter\"></i>\n</ShareButton>",
    "<script>\n  export let title;\n  export let url;\n  export let ariaLabel = 'Share on VK';\n  let classes = '';\n\n  export { classes as class };\n\n  import ShareButton from './ShareButton.svelte';\n  let href;\n  \n  $: href = encodeURI(`http://vk.com/share.php?title=${title}&url=${url}`);\n</script>\n\n<style>\n:global(.ssbc-button--vk) {\n  background-color: #507299;\n}\n\n:global(.ssbc-button--vk:active),\n:global(.ssbc-button--vk:hover) {\n  background-color: #43648c;\n}\n</style>\n\n<ShareButton class=\"ssbc-button--vk {classes}\" {...$$restProps} {ariaLabel} {href}>\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n    <path d=\"M21.547 7h-3.29a.743.743 0 0 0-.655.392s-1.312 2.416-1.734 3.23C14.734 12.813 14 12.126 14 11.11V7.603A1.104 1.104 0 0 0 12.896 6.5h-2.474a1.982 1.982 0 0 0-1.75.813s1.255-.204 1.255 1.49c0 .42.022 1.626.04 2.64a.73.73 0 0 1-1.272.503 21.54 21.54 0 0 1-2.498-4.543.693.693 0 0 0-.63-.403h-2.99a.508.508 0 0 0-.48.685C3.005 10.175 6.918 18 11.38 18h1.878a.742.742 0 0 0 .742-.742v-1.135a.73.73 0 0 1 1.23-.53l2.247 2.112a1.09 1.09 0 0 0 .746.295h2.953c1.424 0 1.424-.988.647-1.753-.546-.538-2.518-2.617-2.518-2.617a1.02 1.02 0 0 1-.078-1.323c.637-.84 1.68-2.212 2.122-2.8.603-.804 1.697-2.507.197-2.507z\"/>\n  </svg>\n</ShareButton>",
    "<script>\n  export let text;\n  export let ariaLabel = 'Comparteix a WhatsApp';\n  let classes = '';\n\n  export { classes as class };\n\n  import ShareButton from './ShareButton.svelte';\n  let href;\n  \n  $: href = encodeURI(`whatsapp://send?text=${text}`);\n</script>\n\n<style>\n:global(.ssbc-button--whatsapp) {\n  background-color: transparent;\n  color: #000;\n  font-size: x-large;\n  \n}\n\n:global(.ssbc-button--whatsapp:active),\n:global(.ssbc-button--whatsapp:hover) {\n  background-color: #6aeb99;\n  font-size: large;\n}\n</style>\n\n<ShareButton class=\"ssbc-button--whatsapp {classes}\" {...$$restProps} {ariaLabel} {href}>\n  <!-- <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n    <path d=\"M20.1 3.9C17.9 1.7 15 .5 12 .5 5.8.5.7 5.6.7 11.9c0 2 .5 3.9 1.5 5.6L.6 23.4l6-1.6c1.6.9 3.5 1.3 5.4 1.3 6.3 0 11.4-5.1 11.4-11.4-.1-2.8-1.2-5.7-3.3-7.8zM12 21.4c-1.7 0-3.3-.5-4.8-1.3l-.4-.2-3.5 1 1-3.4L4 17c-1-1.5-1.4-3.2-1.4-5.1 0-5.2 4.2-9.4 9.4-9.4 2.5 0 4.9 1 6.7 2.8 1.8 1.8 2.8 4.2 2.8 6.7-.1 5.2-4.3 9.4-9.5 9.4zm5.1-7.1c-.3-.1-1.7-.9-1.9-1-.3-.1-.5-.1-.7.1-.2.3-.8 1-.9 1.1-.2.2-.3.2-.6.1s-1.2-.5-2.3-1.4c-.9-.8-1.4-1.7-1.6-2-.2-.3 0-.5.1-.6s.3-.3.4-.5c.2-.1.3-.3.4-.5.1-.2 0-.4 0-.5C10 9 9.3 7.6 9 7c-.1-.4-.4-.3-.5-.3h-.6s-.4.1-.7.3c-.3.3-1 1-1 2.4s1 2.8 1.1 3c.1.2 2 3.1 4.9 4.3.7.3 1.2.5 1.6.6.7.2 1.3.2 1.8.1.6-.1 1.7-.7 1.9-1.3.2-.7.2-1.2.2-1.3-.1-.3-.3-.4-.6-.5z\"/>\n  </svg> -->\n  <i class=\"fa fa-whatsapp\"></i>\n</ShareButton>",
    "<script>\n  export let title;\n  export let url;\n  export let ariaLabel = 'Share on Xing';\n  let classes = '';\n\n  export { classes as class };\n\n  import ShareButton from './ShareButton.svelte';\n  let href;\n  \n  $: href = encodeURI(`https://www.xing.com/app/user?op=share;url=${url};title=${title}`);\n</script>\n\n<style>\n:global(.ssbc-button--xing) {\n  background-color: #1a7576;\n}\n\n:global(.ssbc-button--xing:active),\n:global(.ssbc-button--xing:hover) {\n  background-color: #114C4C;\n}\n</style>\n\n<ShareButton class=\"ssbc-button--xing {classes}\" {...$$restProps} {ariaLabel} {href}>\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n    <path d=\"M10.2 9.7l-3-5.4C7.2 4 7 4 6.8 4h-5c-.3 0-.4 0-.5.2v.5L4 10 .4 16v.5c0 .2.2.3.4.3h5c.3 0 .4 0 .5-.2l4-6.6v-.5zM24 .2l-.5-.2H18s-.2 0-.3.3l-8 14v.4l5.2 9c0 .2 0 .3.3.3h5.4s.3 0 .4-.2c.2-.2.2-.4 0-.5l-5-8.8L24 .7V.2z\"/>\n  </svg>\n</ShareButton>",
<<<<<<< HEAD
    "<script>\r\n  // import \"../node_modules/mapbox-gl/dist/mapbox-gl.css\";\r\n  // import \"https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css\";\r\n\r\n  import { onDestroy, setContext, getContext } from \"svelte\";\r\n  import {\r\n    stateDrawer,\r\n    activateLayerStore,\r\n    changeBaseLayerStore,\r\n    changePaintPropertyStore,\r\n    changeColorPropertyStore,\r\n    changeInitialColorPropertyStore,\r\n    changePlaceStore,\r\n    changeHighlightItemStore,\r\n    stateDrawerIntro,\r\n    stateTallDrawer,\r\n  } from \"./Utils/stores.js\";\r\n  import ButtonHome from \"./Panels/PanelTopBar/ButtonHome.svelte\";\r\n  import { keyApp, baseLayers } from \"./config\";\r\n  import PanelTopBar from \"./Panels/PanelTopBar/PanelTopBar.svelte\";\r\n  import PanelIconMenu from \"./Panels/PanelIconMenu/PanelIconMenu.svelte\";\r\n  import Map from \"./Components/Map/Map.svelte\";\r\n  import MapDisplayControls from \"./Components/MapControls/MapDisplayControls.svelte\";\r\n  import MapOverlayLayers from \"./Components/MapOverLayers/MapOverLayers.svelte\";\r\n  import ConsultaPopUp from \"./Components/MapPopup/ConsultaPopUp.svelte\";\r\n  import LegendIcon from \"./Components/Llegenda/LegendIcon.svelte\";\r\nimport Footer from \"./Panels/PanelFooter/Footer.svelte\";\r\n  import overLayersStyle from \"./infogeo_v7_style.json\";\r\n  import LeftMenu from \"../src/Panels/PanelDrawLeft/PanelLayers/LeftMenu.svelte\";\r\n  import PanelTall from \"./Panels/PanelTall/DrawerBottom.svelte\";\r\n  import { element } from \"svelte/internal\";\r\n\r\n  //import estilTopo from \"./topo.json\";\r\n\r\n  let toggle = false;\r\n  let openModalInfo;\r\n  let overLayers = { ...overLayersStyle };\r\n  const estilTopo = baseLayers[0].url;\r\n  let activeLayerMap = null;\r\n  const unsubscribe = stateDrawer.subscribe((value) => {\r\n    toggle = value;\r\n  });\r\n\r\n  function activateLayer(item, visible) {\r\n    const vis = visible ? \"visible\" : \"none\";\r\n    let ly;\r\n\r\n    let array = item.value.split(\",\");\r\n    array.forEach((capa) => {\r\n      overLayers.layers.forEach((element) => {\r\n        if (element.layout && element.layout.visibility) {\r\n          if (element[\"source-layer\"] === capa) {\r\n            ly = element.id;\r\n            element.layout.visibility = vis;\r\n            activateLayerStore.set({ ly, vis });\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  function activateLayerGroup(group, visible) {\r\n    group.items.forEach((element) => {\r\n      activateLayer(element, visible);\r\n    });\r\n  }\r\n\r\n  function changeBaseLayer(base) {\r\n   \r\n    changeBaseLayerStore.set(base.url);\r\n  }\r\n\r\n  function changePlace(coords) {\r\n    changePlaceStore.set(coords);\r\n  }\r\n\r\n  function changeColorProperty(item) {\r\n    let ly;\r\n    let op;\r\n    let ty;\r\n    let idabs;\r\n    overLayers.layers.forEach((element) => {\r\n      if (element.layout && element.layout.visibility) {\r\n        if (element.id === item.layer.id) {\r\n//          // console.log(\"poligon\", item.properties.IDABS);\r\n\r\n// console.log(\"eleee\", element);\r\n          ly = element.id;\r\n          op = element.paint;\r\n          idabs = item.properties.IDABS;\r\n          ty = element.type;\r\nif(element.id !== \"Talls geològics/5704\" ){\r\n  // console.log('no tall')\r\n    changeColorPropertyStore.set({ ly, op, ty });\r\n    changeHighlightItemStore.set({ item, ly, op, idabs, ty });\r\n}else{\r\n  // console.log('si tall')\r\n    changeHighlightItemStore.set({ item, ly, op, idabs, ty });\r\n}\r\n       \r\n        \r\n        }\r\n      }\r\n    });\r\n\r\n    \r\n    //console.log(\"itemLayer\", item.layer[\"source-layer\"]);\r\n    // if (item.layer.id == \"Talls geològics/5704\") {\r\n    //   console.log(\"item1\", item);\r\n    //   let id;\r\n    //   let id_high;\r\n    //   let filter;\r\n    //   id = \"Talls geològics/5704\";\r\n    //   id_high = \"Talls geològics/5704_highlighted\";\r\n    //   filter = \"NOM_TALL\";\r\n    //   changeHighlightItemStore.set({ item, id, id_high, filter });\r\n    // }\r\n\r\n\r\n\r\n    if (item.layer[\"source-layer\"] === \"Talls geològics\") {\r\n     \r\n      // console.log(\"item1\", item);\r\n       overLayers.layers.forEach((element) => {\r\n        if (element.layout && element.layout.visibility) {\r\n          if (element.id === item.layer.id) {\r\n           // console.log(\"poligon0000000000000000000\", item.properties.IDABS);\r\n\r\n            //console.log('poligon', item._vectorTileFeature._geometry)\r\n            let id;\r\n            let nom;\r\n            id = \"talls\";\r\n\r\n            nom = item.properties.NOM_TALL;\r\n\r\n            changeHighlightItemStore.set({ item, id, nom });\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    if (item.layer[\"id\"].includes(\"Columnes\")) {\r\n      overLayers.layers.forEach((element) => {\r\n        if (element.layout && element.layout.visibility) {\r\n          if (element.id === item.layer.id) {\r\n           // console.log(\"poligon0000000000000000000\", item.properties.IDABS);\r\n\r\n            //console.log('poligon', item._vectorTileFeature._geometry)\r\n            let id;\r\n            let idabs;\r\n            id = \"polygonColumnes\";\r\n\r\n            idabs = item.properties.IDABS;\r\n\r\n            changeHighlightItemStore.set({ item, id, idabs });\r\n          }\r\n        }\r\n      });\r\n    }\r\n    if (item.layer[\"source-layer\"] === \"Esquemes de relacions estratigràfiques\") {\r\n      overLayers.layers.forEach((element) => {\r\n        if (element.layout && element.layout.visibility) {\r\n          if (element.id === item.layer.id) {\r\n           // console.log(\"poligon0000000000000000000\", item.properties.IDABS);\r\n\r\n            //console.log('poligon', item._vectorTileFeature._geometry)\r\n            let id;\r\n            let idabs;\r\n            id = \"polygonEsquemes\";\r\n\r\n            idabs = item.properties.IDABS;\r\n// console.log('esquemesss', idabs)\r\n            changeHighlightItemStore.set({ item, id, idabs });\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n\r\n    if (item.layer[\"source-layer\"] === \"Unitats geològiques:1\") {\r\n      overLayers.layers.forEach((element) => {\r\n        if (element.layout && element.layout.visibility) {\r\n          if (element.id === item.layer.id) {\r\n           // console.log(\"poligon0000000000000000000\", item.properties.IDABS);\r\n\r\n            //console.log('poligon', item._vectorTileFeature._geometry)\r\n            let id;\r\n            let idabs;\r\n            id = \"polygonsQt\";\r\n\r\n            idabs = item.properties.IDABS;\r\n\r\n            changeHighlightItemStore.set({ item, id, idabs });\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    if (item.layer[\"source-layer\"] === \"Unitats geològiques:2\") {\r\n      overLayers.layers.forEach((element) => {\r\n        if (element.layout && element.layout.visibility) {\r\n          if (element.id === item.layer.id) {\r\n            //console.log(\"poligon0000000000000000000\", item.properties.IDABS);\r\n\r\n            //console.log('poligon', item._vectorTileFeature._geometry)\r\n            let id;\r\n            let idabs;\r\n            id = \"polygonsBs\";\r\n\r\n            idabs = item.properties.IDABS;\r\n\r\n            changeHighlightItemStore.set({ item, id, idabs });\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    //     let ly;\r\n    //     let op;\r\n    //     let ty;\r\n    //     let idabs;\r\n    //     overLayers.layers.forEach(element => {\r\n\r\n    //       if (element.layout && element.layout.visibility) {\r\n\r\n    //         if (element.id === item.layer.id) {\r\n    //  console.log('poligon', item.properties.IDABS)\r\n\r\n    //  console.log('eleee', element)\r\n    //            ly = element.id;\r\n    //           op =  element.paint;\r\n    //          idabs = item.properties.IDABS\r\n    //           ty = element.type\r\n\r\n    //           changeColorPropertyStore.set({ ly, op , ty});\r\n    //           changeHighlightItemStore.set({item,ly,op,idabs,ty})\r\n\r\n    //         }\r\n\r\n    //       }\r\n    //     });\r\n  }\r\n\r\n  function changeInitialColorProperty(item) {\r\n    //console.log('item', item)\r\n\r\n    let ly;\r\n    let op;\r\n    let ty;\r\n    overLayers.layers.forEach((element) => {\r\n      if (element.layout && element.layout.visibility) {\r\n        //console.log('eleemnt', element)\r\n\r\n        if (element.id === item.layer.id) {\r\n          //console.log('iiiieeee', item.layer.id)\r\n          //console.log('entro',element.paint[\"fill-color\"])\r\n          ly = element.id;\r\n          op = element.paint;\r\n          ty = element.type;\r\n\r\n          changeInitialColorPropertyStore.set({ ly, op, ty });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  function changePaintProperty(item, value) {\r\n    let ly;\r\n    let op;\r\n    // console.log(item)\r\n    if (item.value === \"Unitats geològiques:1,Unitats geològiques:1/label\") {\r\n      overLayers.layers.forEach((element) => {\r\n        if (element.layout && element.layout.visibility) {\r\n          if (element[\"source-layer\"] === \"Unitats geològiques:1\") {\r\n            ly = element.id;\r\n            op = parseFloat(value / 100);\r\n            element.paint[\"fill-opacity\"] = op;\r\n\r\n            changePaintPropertyStore.set({ ly, op });\r\n          }\r\n        }\r\n      });\r\n    }\r\n    if (item.value === \"Unitats geològiques:2,Unitats geològiques:2/label\") {\r\n      overLayers.layers.forEach((element) => {\r\n        if (element.layout && element.layout.visibility) {\r\n          if (element[\"source-layer\"] === \"Unitats geològiques:2\") {\r\n            ly = element.id;\r\n            op = parseFloat(value / 100);\r\n            element.paint[\"fill-opacity\"] = op;\r\n\r\n            changePaintPropertyStore.set({ ly, op });\r\n          }\r\n        }\r\n      });\r\n    }\r\n    if (item.value === \"Columnes del Paleozoic,Columnes del Mesozoic,Paleogen LINK,Paleogen NO LINK,Neogen LINK,Neogen NO LINK\") {\r\n      overLayers.layers.forEach((element) => {\r\n        if (element.layout && element.layout.visibility) {\r\n          \r\n          if (element[\"source-layer\"] === \"Columnes del Paleozoic\"  ||\r\n          element[\"source-layer\"] === \"Columnes del Mesozoic\"  ||\r\n          element[\"source-layer\"] === \"Paleogen LINK\"  ||\r\n          element[\"source-layer\"] === \"Paleogen NO LINK\"  ||\r\n          element[\"source-layer\"] === \"Neogen LINK\"  ||\r\n          element[\"source-layer\"] === \"Neogen NO LINK\"        ) {\r\n            // console.log('ele', element,value)\r\n            ly = element.id;\r\n            op = parseFloat(value / 100);\r\n\r\n            element.paint[\"fill-opacity\"] = op;\r\n            //console.log('jj1222', element.paint)\r\n            changePaintPropertyStore.set({ ly, op });\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function changeStateTallDrawer(tall) {\r\n    stateTallDrawer.set(tall);\r\n  }\r\n\r\n  setContext(\"overLayers\", overLayers);\r\n  setContext(\"activateLayer\", activateLayer);\r\n  setContext(\"activateLayerGroup\", activateLayerGroup);\r\n  setContext(\"changeBaseLayer\", changeBaseLayer);\r\n  setContext(\"estilTopo\", estilTopo);\r\n  setContext(\"changePaintProperty\", changePaintProperty);\r\n  setContext(\"changeColorProperty\", changeColorProperty);\r\n  //setContext(\"changeHighlightItem\", changeHighlightItem);\r\n  setContext(\"changeInitialColorProperty\", changeInitialColorProperty);\r\n  setContext(\"changePlace\", changePlace);\r\n  setContext(\"stateTallDrawer\", stateTallDrawer);\r\n</script>\r\n\r\n<style>\r\n  .container {\r\n    font-family: Arial, Helvetica, sans-serif;\r\n  }\r\n</style>\r\n\r\n<div class=\"container\">\r\n  <PanelTopBar bind:openModalInfo />\r\n  <PanelIconMenu />\r\n<Map lat={41.763} lon={1.443} zoom={7.58} maxZoom={16} pitch={0} bearing={0} style={estilTopo} >\r\n    <!-- <Map lat={41.732} lon={1.732} zoom={8} maxZoom={15} style={estilTopo}> -->\r\n    <MapDisplayControls />\r\n    <!-- <LeftMenu /> -->\r\n    <MapOverlayLayers />\r\n    <ConsultaPopUp />\r\n    <ButtonHome />\r\n    <!-- <Footer /> -->\r\n    <!-- <LegendIcon /> -->\r\n  </Map>\r\n  <!-- <PanelTall /> -->\r\n  \r\n</div>\r\n",
    "<script>\n  import IconButton, { Icon } from \"@smui/icon-button\";\n\n  import { onMount } from \"svelte\";\n  import { keyApp } from \"../../config\";\n  import { getContext } from \"svelte\";\n\n  import mapbox from \"mapbox-gl\";\n\n  const overLayers = getContext(\"overLayers\");\n  const { getMap } = getContext(keyApp);\n  const map = getMap();\n\n  let llegenda_show = false;\n\n  function changeLlegendaState() {\n    if (changeLlegendaState) {\n      llegenda_show = !llegenda_show;\n    }\n  }\n</script>\n\n<style>\n  .container {\n    width: 200px;\n    background-color: white;\n    right: 10px;\n    padding: 5px;\n    border-radius: 10px !important;\n  }\n\n  .iconmenu {\n    z-index: 1 !important;\n    position: absolute;\n    margin-left: 16px !important;\n   \n    background-color: rgb(255, 255, 255);\n    border-radius: 20px;\n    height: 45px;\n    top: 79px;\n    float: right;\n    width: auto;\n    padding: 0px;\n  }\n  .llegendapdf {\n    z-index: 1000;\n    position: absolute;\n    margin-left: 16px !important;\n    \n    background-color: rgb(255, 255, 255);\n    border-radius: 20px;\n    height: 45px;\n    top: 0px;\n    float: right;\n    width: auto;\n    padding: 0px;\n    right: 56px;\n  }\n\n  @media (max-width: 540px) {\n    .llegendapdf {\n      display: flex;\n      top: initial;\n      right: 0;\n    }\n  }\n</style>\n\n<div class=\"container iconmenu wrapper\">\n\n  <IconButton on:click={changeLlegendaState}>\n    <Icon class=\"material-icons icono\" on>line_style</Icon>\n    <Icon class=\"material-icons icono\">line_style</Icon>\n\n  </IconButton>\n\n  {#if llegenda_show}\n    <div class=\"llegendapdf container\">\n      <embed\n        src=\"assets/icgc_geoindex.pdf\"\n        width=\"330\"\n        height=\"375\"\n        type=\"application/pdf\" />\n    </div>\n  {/if}\n</div>\n",
    "<script>\n  import { onMount, getContext } from \"svelte\";\n  import mapbox from \"mapbox-gl\";\n  import { keyApp } from \"../../config\";\n  import proj4 from \"proj4\";\n\n  const { getMap } = getContext(keyApp);\n  const map = getMap();\n\n  onMount(async() => {\n    map.on(\"mousemove\", function(e) {\n      const auxLat = e.lngLat.lat;\n      const auxLon = e.lngLat.lng;\n      //console.info(auxLat,auxLon)\n\n      proj4.defs([\n        [\n          \"EPSG:25831\",\n          \"+title=ETRS89_utm (m) +proj=utm +zone=31 +ellps=GRS80 +datum=WGS84 +units=m +no_defs\"\n        ],\n        [\n          \"EPSG:4258\",\n          \"+title=ETRS89_lonlat (long/lat) +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs\"\n        ],\n        [\n          \"UTM\",\n          \"+proj=utm +ellps=GRS80 +datum=nad83 +units=m +no_defs +zone=31U\"\n        ]\n      ]);\n      //proj4(fromProjection[, toProjection, coordinates])\n\n      var coords = proj4(\"EPSG:4258\", \"UTM\", [auxLon, auxLat]);\n      var auxX = coords[0];\n      var auxY = coords[1];\n      //console.info(auxX,auxY)\n\n      document.getElementById(\"info\").innerHTML =\n        \"UTM-31N (ETRS89)     X:\" + auxX.toFixed(1) + \"   Y:\" + auxY.toFixed(1);\n    });\n  });\n</script>\n\n<style>\n  #info {\n    display: block;\n    position: absolute;\n    bottom: 0;\n    height: 17px;\n    margin: 0 auto;\n    width: 266px;\n    padding: 2px;\n    padding-bottom: 1.5px;\n    left: 45%;\n    border: none;\n    border-radius: 3px;\n    font-size: 12px;\n    text-align: center;\n    color: #222;\n    background: hsla(0,0%,100%,.849);\n    \n  }\n</style>\n\n\n<div id=\"info\" />\n",
    "<script>\r\n  import { onMount, onDestroy } from \"svelte\";\r\n  import { keyApp } from \"../../config\";\r\n  import { getContext } from \"svelte\";\r\n  import IconButton, { Icon } from \"@smui/icon-button\";\r\nimport InfoBox from \"./InfoBox.svelte\";\r\n  import DrawerBottom from \"../../Panels/PanelTall/DrawerBottom.svelte\";\r\n\r\n  import mapbox from \"mapbox-gl\";\r\n\r\n  const changePaintProperty = getContext(\"changePaintProperty\");\r\n  const changeColorProperty = getContext(\"changeColorProperty\");\r\n  const changeInitialColorProperty = getContext(\"changeInitialColorProperty\");\r\n  const overLayers = getContext(\"overLayers\");\r\n  const { getMap } = getContext(keyApp);\r\n  const map = getMap();\r\n  //let consulta_show = false;\r\n  var tallbutton = false\r\n  var colbutton = false\r\n  var talltoshow = []\r\n  var coltoshow = []\r\n  var linkjpg = '';\r\n  var linkzip = '';\r\n  var tall_show = false;\r\n  var selectedTall = [];\r\n  var selectedCol = [];\r\n  var selectedTallnom = [];\r\n  var highliItem = [];\r\n  var typedata = '';\r\n  let exportarshow = false\r\nfunction esborra () {\r\n  changeInitialColorProperty(highliItem[0]);\r\n  exportarshow = false\r\n}\r\n\r\n  function changeTallState() {\r\n    tall_show = !tall_show;\r\n    // changeInitialColorProperty(highliItem[0]);\r\n  }\r\n\r\n  function removeLastItem(item) {\r\n    //console.log('lastitem', item)\r\n  }\r\nlet exportartextok = '';\r\nlet exportartext = '';\r\n  onMount(async () => {\r\n    var popup = new mapbox.Popup({\r\n      offset: [0, -15],\r\n      closeOnClick: false,\r\n      closeButton: true,\r\n    });\r\n\r\n    //     console.log('abans', highliItem)\r\n    map.on(\"click\", function (e) {\r\n      popup.addTo(map).on(\r\n        \"close\",\r\n        function (e) {\r\n          //console.log(\"estic entrant??\");\r\n          changeInitialColorProperty(highliItem[0]);\r\n        }\r\n        // \"click\", changeTallState\r\n      );\r\n\r\n      var bbox = [\r\n        [e.point.x - 1.0, e.point.y - 1.0],\r\n        [e.point.x + 1.0, e.point.y + 1.0],\r\n      ];\r\n\r\n      var features = map.queryRenderedFeatures(bbox);\r\n      // console.log(\"info\", features[0]);\r\n\r\n// console.log(\"info\", features);\r\nfeatures=[features[0]]                   //nomès pasa el de més amunt. \r\n// console.log(\"info2\", features);\r\n      let text = '';\r\n      let exportartext = '';\r\n      // let text = '<h3 style=\"color: #1a4971\">Descripció:</h3>';\r\n      var elementsArray = [];\r\n      var highlightedItems = [];\r\n\r\n      var episArray = [];\r\n      var idabsArray = [];\r\n      var edatArray = [];\r\n      var edatMetArray = [];\r\n      var epocaArray = [];\r\n      var eraArray = [];\r\n      var metArray = [];\r\n      var obsEdatArray = [];\r\n      var periodeArray = [];\r\n      var tallArray = [];\r\n      var colArray = [];\r\n      var inclinArray = [];\r\n      var dirArray = [];\r\n      var relArray = [];\r\n      var antroArray = [];\r\n      var estructArray = [];\r\n      var tallnomArray = [];\r\n  \r\n\r\n      highlightedItems.push(features);\r\n\r\n      if (highliItem[0] !== undefined) {\r\n        changeInitialColorProperty(highliItem[0]);\r\n      }\r\n\r\n      highlightedItems.forEach((highItem) => {\r\n        // console.log('pp',highItem)\r\n        if (highItem[0].source === \"infogeo\") {\r\n          highliItem = [];\r\n\r\n          changeColorProperty(highItem[0]);\r\n          highliItem.push(highItem[0]);\r\n        }\r\n      });\r\n\r\n      // ELEMENTS A MOSTRAR AL POPUP //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n      features.forEach((element) => {\r\n        // console.log('elem', element)\r\n        \r\n        if (\r\n          element.source === \"infogeo\" &&\r\n          element.properties.DESCRIPCIO //importem descripcio\r\n        ) {\r\n          let desc = element.properties.DESCRIPCIO;\r\n          // console.log('oooooooo', element)\r\n          if (elementsArray.includes(desc)) {\r\n          } else {\r\n            elementsArray.push(desc);\r\n          }\r\n\r\n          if (element.properties.CODI_CAS != undefined) {\r\n            //importem CODI_CAS\r\n            let epigraf_publ = element.properties.CODI_CAS;\r\n\r\n            if (episArray.includes(epigraf_publ)) {\r\n            } else {\r\n              episArray.push(epigraf_publ);\r\n            }\r\n          }\r\n          if (element.properties.CODI_CAS == undefined && element.properties.ID_MAPA != undefined) {\r\n            let epigraf_publ = element.properties.ID_MAPA;\r\n\r\n            if (episArray.includes(epigraf_publ)) {\r\n            } else {\r\n              episArray.push(epigraf_publ);\r\n            }\r\n          }\r\n          if (element.properties.CODI_CAS == undefined && element.properties.EPIGRAF != undefined) {\r\n            let epigraf_publ = element.properties.EPIGRAF;\r\n\r\n            if (episArray.includes(epigraf_publ)) {\r\n            } else {\r\n              episArray.push(epigraf_publ);\r\n            }\r\n          }\r\n\r\n          // if (element.properties.CODI_CAS == undefined && element.sourceLayer == \"Estratificació\" || element.sourceLayer == \"Sentit de paleocorrent\") {\r\n            \r\n          //   let dir_publ = element.properties.DIR;\r\n          //   let tilt_publ = element.properties.INCLIN;\r\n          //   let x = tilt_publ.toString().length\r\n          //   let y = dir_publ.toString().length\r\n           \r\n          //   if (x == 1){\r\n          //     tilt_publ = `0${tilt_publ}`\r\n          //   }\r\n          //   if ( y == 1){\r\n          //     dir_publ = `00${dir_publ}`\r\n          //   }\r\n          //   if ( y == 2){\r\n          //     dir_publ = `0${dir_publ}`\r\n          //   }\r\n          //   let estrat = `${dir_publ}/${tilt_publ}`\r\n\r\n          //   if (episArray.includes(estrat)) {\r\n          //   } else {\r\n          //     episArray.push(estrat);\r\n          //   }\r\n          // }\r\n//son poligons... importar totes les dades\r\n\r\n          if (\r\n            element.sourceLayer === \"Unitats geològiques:1\" ||\r\n            element.sourceLayer === \"Unitats geològiques:2\"\r\n          ) {\r\n            //importem codi IDABS dels poligons\r\n\r\n            let idabs_publ = element.properties.IDABS;\r\n            let edat_publ = element.properties.EDAT;\r\n            let epoca_publ = element.properties.EPOCA;\r\n            let era_publ = element.properties.ERA;\r\n            let periode_publ = element.properties.PERIODE;\r\n            let edatMet_publ = element.properties.EDAT_MET;\r\n            let met_publ = element.properties.MET;\r\n            let obsEdat_publ = element.properties.OBS_EDAT;\r\n\r\n            if (idabsArray.includes(idabs_publ)) {\r\n            } else {\r\n              idabsArray.push(idabs_publ);\r\n            }\r\n            if (edatArray.includes(edat_publ)) {\r\n            } else {\r\n              edatArray.push(edat_publ)\r\n            }\r\n            if (epocaArray.includes(epoca_publ)) {\r\n            } else {\r\n              epocaArray.push(epoca_publ)\r\n            }\r\n            if (eraArray.includes(era_publ)) {\r\n            } else {\r\n              eraArray.push(era_publ)\r\n            }\r\n            if (periodeArray.includes(periode_publ)) {\r\n            } else {\r\n              periodeArray.push(periode_publ)\r\n            }\r\n            if (edatMetArray.includes(edatMet_publ)) {\r\n            } else {\r\n              edatMetArray.push(edatMet_publ)\r\n            }\r\n            if (metArray.includes(met_publ)) {\r\n            } else {\r\n              metArray.push(met_publ)\r\n            }\r\n            if (obsEdatArray.includes(obsEdat_publ)) {\r\n            } else {\r\n              obsEdatArray.push(obsEdat_publ)\r\n            }\r\n\r\n\r\n          } else {\r\n            idabsArray.push(null);\r\n          }\r\n\r\n\r\n\r\n\r\n\r\n          if (element.sourceLayer === \"Talls geològics\") {\r\n            //importem nom talls\r\n            // console.log('tallarryay')\r\n            let talls_publ = element.properties.DESCRIPCIO;\r\n            let talls_nom = element.properties.NOM_TALL;\r\n\r\n            if (tallArray.includes(talls_publ)) {\r\n              // console.log('tallarrassy')\r\n            } else {\r\n              tallArray.push(talls_publ);\r\n              // console.log('tallarray')\r\n              selectedTall = element.properties.NOM_TALL;\r\n              talltoshow = element.properties.NOM_TALL\r\n\r\n              tallbutton=true\r\n              colbutton=false\r\n              typedata='talls'\r\n              // getMyFile(talls_publ)\r\n            }\r\n            // if (tallnomArray.includes(talls_nom)) {\r\n            // } else {\r\n            //   tallnomArray.push(talls_nom);\r\n            //   selectedTallnom = talls_nom;\r\n\r\n            //   // getMyFile(talls_publ)\r\n            // }\r\n          }\r\n\r\n         \r\n        if (element.sourceLayer === \"Paleozoic NO LINK\"  ||\r\n            element.sourceLayer === \"Paleozoic LINK\"  ||\r\n            element.sourceLayer === \"Mesozoic NO LINK\"  ||\r\n            element.sourceLayer === \"Mesozoic LINK\"  ||\r\n            element.sourceLayer === \"Paleogen LINK\"  ||\r\n            element.sourceLayer === \"Paleogen NO LINK\"  ||\r\n            element.sourceLayer === \"Neogen LINK\"  ||\r\n            element.sourceLayer === \"Neogen NO LINK\") {\r\n          //  console.log('consulta columnes ', colArray)\r\n            let cols_publ = element.properties.DESCRIPCIO;\r\n              let idabs_publ = element.properties.IDABS;\r\n            let cols_jpg = element.properties.LINK_COL;\r\n            let cols_zip = element.properties.LINK_ZIP;\r\n            if (colArray.includes(cols_publ)) {\r\n            } else {\r\n              colArray.push(cols_publ);\r\n              idabsArray.push(idabs_publ)\r\n              selectedTall = element.properties.NOM_COL;\r\n              // coltoshow = element.properties.NOM_COL\r\n              linkjpg = element.properties.LINK_COL\r\n              linkzip = element.properties.LINK_ZIP\r\n              colbutton=true\r\n              tallbutton=false\r\n              typedata='cols'\r\n              // getMyFile(talls_publ)\r\n            }\r\n            // if (tallnomArray.includes(talls_nom)) {\r\n            // } else {\r\n            //   tallnomArray.push(talls_nom);\r\n            //   selectedTallnom = talls_nom;\r\n\r\n            //   // getMyFile(talls_publ)\r\n            // }\r\n          }\r\n\r\n          if (element.sourceLayer === \"Esquemes de relacions estratigràfiques\") {\r\n          //  console.log('consulta relacions ')\r\n            let cols_publ = element.properties.DESCRIPCIO;\r\n            let idabs_publ = element.properties.IDABS;\r\n            if (relArray.includes(cols_publ)) {\r\n            } else {\r\n              relArray.push(cols_publ);\r\n              idabsArray.push(idabs_publ)\r\n              selectedTall = element.properties.IDABS;\r\n           \r\n              linkjpg = element.properties.LINK_REL\r\n              linkzip = element.properties.LINK_ZIP\r\n              colbutton=true\r\n              tallbutton=false\r\n              typedata='relacions'\r\n         \r\n                 }\r\n          }\r\n\r\n          if (element.layer.id.includes('Terrenys antròpics')) {\r\n          //  console.log('consulta ANTROPICS ')\r\n            let cols_publ = element.properties.DESCRIPCIO;\r\n       \r\n            if (antroArray.includes(cols_publ)) {\r\n            } else {\r\n              antroArray.push(cols_publ);\r\n              selectedTall = element.properties.EPIGRAF;\r\n           \r\n              colbutton=false\r\n              tallbutton=false\r\n              typedata='antropics'\r\n              // console.log('consulta ANTROPICS ', colbutton, tallbutton)\r\n                 }\r\n          }\r\n          if (element.layer.id.includes(`Mesures d'estructures`)) {\r\n          //  console.log('consulta estructures ')\r\n            let cols_publ = element.properties.DESCRIPCIO;\r\n            let cols_incl = element.properties.INCLIN;\r\n            let cols_dir = element.properties.DIR;\r\n            if (estructArray.includes(cols_publ)) {\r\n            } else {\r\n              estructArray.push(cols_publ);\r\n              inclinArray.push(cols_incl);\r\n              dirArray.push(cols_dir);\r\n              selectedTall = element.properties.EPIGRAF;\r\n           \r\n              colbutton=false\r\n              tallbutton=false\r\n              typedata='antropics'\r\n              // console.log('consulta estructuress ', colbutton, tallbutton)\r\n                 }\r\n          }\r\n\r\n        }\r\n      });\r\n\r\n      // iniciem exportacio dades segons contingut al clic////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n      if (elementsArray.length !== 0) {\r\n        // console.log('talld', elementsArray)\r\n        if (tallArray.length !== 0) {\r\n          //  console.log('tall', tallArray)\r\n          var descarregaTall = `<a href=\"https://tilemaps.icgc.cat/tileserver/geoindex/infogeo/dades/talls_llegendes_zip/${tallArray}.zip\" style=\"color: #1a4971\">Descarrega el tall</a>`;\r\n          var tall =\r\n            `<button id=\"view-full\" style=\"color: #1a4971\">Veure el tall</button>` \r\n\r\n          text =\r\n            text +\r\n            tall +\r\n            `<div>\r\n                                                          <p style=\"color: #666\">TALL: ${tallArray}</p>\r\n                                                          \r\n                                                                                                           \r\n                                                          \r\n                                                          </div>` +\r\n                                                          descarregaTall;\r\n        exportartext = text\r\n         \r\n       \r\n                                                                       \r\n                                                                          exportartext = [\r\n                                                                            {'ep': tallArray[0]}, \r\n                                                                          ]\r\n        }\r\nif (edatArray[0] === \" \"){\r\n  if (metArray[0]===undefined || metArray[0]== \" \"){\r\n                if (idabsArray[0] !== null && tallArray.length == 0 ) {\r\n                  tallbutton = false\r\n                  colbutton = false\r\n                          text =\r\n                            text +\r\n                            `<div>\r\n                                                                          <p style=\"color: #666\"><b>${episArray[0]}:</b> ${elementsArray[0]}</p>\r\n                                                                          <p style=\"color: #666\">Era: ${eraArray[0]}</p>\r\n                                                                          <p style=\"color: #666\">Periòde: ${periodeArray[0]}</p>\r\n                                                                          <p style=\"color: #666\">Època: ${epocaArray[0]}</p>\r\n                                                                         \r\n                                                                          <p style=\"color: #666\">Full25m: ${idabsArray[0]}</p>\r\n                                                                          </div>`;\r\n                                                                          \r\n                                                                          let ep =  episArray[0]+` :  `+ elementsArray[0];\r\n                                                                          // console.log('ep', ep)\r\n                                                                          exportartext = [\r\n                                                                            {'ep':ep},\r\n                                                                            {'Era': eraArray[0]},\r\n                                                                            {'Periòde': periodeArray[0]},\r\n                                                                            {'Època': epocaArray[0]},\r\n                                                                            {'Full 1:25 000': idabsArray[0]}\r\n\r\n                                                                          ]\r\n                        }\r\n          } else{\r\n          \r\n           \r\n                if (idabsArray[0] !== null && tallArray.length == 0 ) {\r\n                  //SI TE CODI IDABS (POLIGON)\r\n                  tallbutton = false\r\n                  colbutton = false\r\n                  text =\r\n                    text +\r\n                    `<div>\r\n                                                                  <p style=\"color: #666\"><b>${episArray[0]}:</b> ${elementsArray[0]}</p>\r\n                                                                  <p style=\"color: #666\">Era: ${eraArray[0]}</p>\r\n                                                                  <p style=\"color: #666\">Període: ${periodeArray[0]}</p>\r\n                                                                  <p style=\"color: #666\">Època: ${epocaArray[0]}</p>\r\n                                                                  <p style=\"color: #666\">Edat: ${edatArray[0]}</p>\r\n\r\n                                                                  <p style=\"color: #666\">Edat Met.: ${edatMetArray[0]}</p>\r\n                                                                  <p style=\"color: #666\">Metamorfisme: ${metArray[0]}</p>\r\n                                                                  <p style=\"color: #666\">Full25m: ${idabsArray[0]}</p>\r\n                                                                  </div>`;\r\n                                                                  \r\n                                                                  let ep =  episArray[0]+` :  `+ elementsArray[0];\r\n                                                                          exportartext = [\r\n                                                                            {'ep':ep},\r\n                                                                            {'Era': eraArray[0]},\r\n                                                                            {'Periòde': periodeArray[0]},\r\n                                                                            {'Època': epocaArray[0]},\r\n                                                                            {'Edat': edatArray[0]},\r\n                                                                            {'Edat Met.': edatMetArray[0]},\r\n                                                                            {'Metamorfisme': metArray[0]},\r\n                                                                            {'Full 1:25 000': idabsArray[0]}\r\n\r\n                                                                          ]\r\n                }\r\n          \r\n          \r\n          }\r\n\r\n\r\n}else{\r\n  if (metArray[0]===undefined || metArray[0]== \" \"){\r\n                if (idabsArray[0] !== null && tallArray.length == 0 ) {\r\n                  tallbutton = false\r\n                  colbutton = false\r\n                          text =\r\n                            text +\r\n                            `<div>\r\n                                                                          <p style=\"color: #666\"><b>${episArray[0]}:</b> ${elementsArray[0]}</p>\r\n                                                                          <p style=\"color: #666\">Era: ${eraArray[0]}</p>\r\n                                                                          <p style=\"color: #666\">Periòde: ${periodeArray[0]}</p>\r\n                                                                          <p style=\"color: #666\">Època: ${epocaArray[0]}</p>\r\n                                                                          <p style=\"color: #666\">Edat: ${edatArray[0]}</p>\r\n                                                                          <p style=\"color: #666\">Full25m: ${idabsArray[0]}</p>\r\n                                                                          </div>`;\r\n                                                                          let ep =  episArray[0]+` :  `+ elementsArray[0];\r\n                                                                          exportartext = [\r\n                                                                            {'ep':ep},\r\n                                                                            {'Era': eraArray[0]},\r\n                                                                            {'Periòde': periodeArray[0]},\r\n                                                                            {'Època': epocaArray[0]},\r\n                                                                            {'Edat': edatArray[0]},\r\n                                                                            {'Full 1:25 000': idabsArray[0]}\r\n\r\n                                                                          ]\r\n                        }\r\n          } else{\r\n          \r\n           \r\n                if (idabsArray[0] !== null && tallArray.length == 0 ) {\r\n                  //SI TE CODI IDABS (POLIGON)\r\n                  tallbutton = false\r\n                  colbutton = false\r\n                  text =\r\n                    text +\r\n                    `<div>\r\n                                                                  <p style=\"color: #666\"><b>${episArray[0]}:</b> ${elementsArray[0]}</p>\r\n                                                                  <p style=\"color: #666\">Era: ${eraArray[0]}</p>\r\n                                                                  <p style=\"color: #666\">Període: ${periodeArray[0]}</p>\r\n                                                                  <p style=\"color: #666\">Època: ${epocaArray[0]}</p>\r\n                                                                  <p style=\"color: #666\">Edat: ${edatArray[0]}</p>\r\n\r\n                                                                  <p style=\"color: #666\">Edat Met.: ${edatMetArray[0]}</p>\r\n                                                                  <p style=\"color: #666\">Metamorfisme: ${metArray[0]}</p>\r\n                                                                  <p style=\"color: #666\">Full25m: ${idabsArray[0]}</p>\r\n                                                                  </div>`;\r\n                                                                  let ep =  episArray[0]+` :  `+ elementsArray[0];\r\n                                                                          exportartext = [\r\n                                                                            {'ep':ep},\r\n                                                                            {'Era': eraArray[0]},\r\n                                                                            {'Periòde': periodeArray[0]},\r\n                                                                            {'Època': epocaArray[0]},\r\n                                                                            {'Edat': edatArray[0]},\r\n                                                                            {'Edat Met.': edatMetArray[0]},\r\n                                                                            {'Metamorfisme': metArray[0]},\r\n                                                                            {'Full 1:25 000': idabsArray[0]}\r\n\r\n                                                                          ]\r\n                }\r\n          \r\n          \r\n          }\r\n\r\n\r\n}\r\n          // if (metArray[0]===undefined || metArray[0]== \" \"){\r\n          //       if (idabsArray[0] !== null && tallArray.length == 0 ) {\r\n     \r\n          //                 text =\r\n          //                   text +\r\n          //                   `<div>\r\n          //                                                                 <p style=\"color: #666\">${episArray[0]}: ${elementsArray[0]}</p>\r\n          //                                                                 <p style=\"color: #666\">Era: ${eraArray[0]}</p>\r\n          //                                                                 <p style=\"color: #666\">Periòde: ${periodeArray[0]}</p>\r\n          //                                                                 <p style=\"color: #666\">Època: ${epocaArray[0]}</p>\r\n          //                                                                 <p style=\"color: #666\">Edat: ${edatArray[0]}</p>\r\n          //                                                                 <p style=\"color: #666\">IDABS: ${idabsArray[0]}</p>\r\n          //                                                                 </div>`;\r\n          //               }\r\n          // } else{\r\n          \r\n           \r\n          //       if (idabsArray[0] !== null && tallArray.length == 0 ) {\r\n          //         //SI TE CODI IDABS (POLIGON)\r\n              \r\n          //         text =\r\n          //           text +\r\n          //           `<div>\r\n          //                                                         <p style=\"color: #666\">${episArray[0]}: ${elementsArray[0]}</p>\r\n          //                                                         <p style=\"color: #666\">Era: ${eraArray[0]}</p>\r\n          //                                                         <p style=\"color: #666\">Període: ${periodeArray[0]}</p>\r\n          //                                                         <p style=\"color: #666\">Època: ${epocaArray[0]}</p>\r\n          //                                                         <p style=\"color: #666\">Edat: ${edatArray[0]}</p>\r\n\r\n          //                                                         <p style=\"color: #666\">Edat Met.: ${edatMetArray[0]}</p>\r\n          //                                                         <p style=\"color: #666\">Metamorfisme: ${metArray[0]}</p>\r\n          //                                                         <p style=\"color: #666\">IDABS: ${idabsArray[0]}</p>\r\n          //                                                         </div>`;\r\n          //       }\r\n          \r\n          \r\n          // }\r\n\r\n       \r\n        if (idabsArray[0] === null && tallArray.length == 0 && inclinArray.length == 0 ) {\r\n          \r\n          //SI NO TE CODI IDABS (LINE/SYMBOL)\r\n          if (colArray[0] !== null && inclinArray.length == 0) {    // columnes estrati\r\n          // console.log('entro col estrati', colArray)\r\n          //SI NO TE CODI IDABS (LINE/SYMBOL)\r\n\r\n          text =\r\n            idabsArray[1] +elementsArray[0]\r\n                                                          \r\n                                               \r\n                                                          \r\n            let ep =  idabsArray[1]+` :  `+ elementsArray[0];\r\n                                                                          exportartext = [\r\n                                                                            {'ep':ep},]\r\n        }}\r\n        if (idabsArray[0] !== null && tallArray.length !== 0 && inclinArray.length == 0){\r\n          // console.log('entro aquia', idabsArray)\r\n          text =\r\n            episArray[0] +elementsArray[0]\r\n                                                          \r\n                                               \r\n                                                          \r\n            let ep =  episArray[0]+` :  `+ elementsArray[0];\r\n                                                                          exportartext = [\r\n                                                                            {'ep':ep},]\r\n        }\r\n      \r\n        if (colArray.length== 0 && inclinArray.length !== 0) {    // mesures\r\n          // console.log('entro mesures', colArray,inclinArray, dirArray,elementsArray)\r\n          //SI NO TE CODI IDABS (LINE/SYMBOL)\r\n\r\n\r\n          text =\r\n                            text +\r\n                            `<div>\r\n                                                                          \r\n                                                                          <p style=\"color: #666\">Descripció: ${elementsArray[0]}</p>\r\n                                                                          <p style=\"color: #666\">Inclinació: ${inclinArray[0]}</p>\r\n                                                                          <p style=\"color: #666\">Direcció: ${dirArray[0]}</p>\r\n                                                                         \r\n                                                                          \r\n                                                                          </div>`;\r\n                                                                          \r\n                                                                          let ep =  episArray[0]+` :  `+ elementsArray[0];\r\n                                                                          // console.log('ep', ep)\r\n                                                                          exportartext = [\r\n                                                                            {'Descripció':elementsArray[0]},\r\n                                                                            {'Inclinació': inclinArray[0]},\r\n                                                                            {'Direcció': dirArray[0]},\r\n                                                                        \r\n                                                                          ]\r\n\r\n\r\n\r\n\r\n\r\n                                                                        \r\n\r\n\r\n////\r\n          // text =\r\n          //   idabsArray[1] +elementsArray[0]\r\n                                                          \r\n                                               \r\n                                                          \r\n          //   let ep =  idabsArray[1]+` :  `+ elementsArray[0];\r\n          //                                                                 exportartext = [\r\n          //                                                                   {'ep':ep},]\r\n        }\r\n      \r\n      \r\n\r\n        \r\n      \r\n//  console.log('text', exportartext)   \r\n let showthatText = [];\r\n    exportartext.forEach(element => {\r\n      let str = JSON.stringify(element)\r\n      // console.log('e', str)\r\n      str = str.replace('\"',' ').replace('{','').replace('}','').replace('\":\"',': ').replace('\"', '').replace('ep:', '')\r\n      showthatText.push(str)\r\n      // console.log(showthatText)\r\n    });\r\n  exportartextok = showthatText    \r\n  exportarshow = true\r\n  // console.log('textok', exportartextok)\r\n        // popup.setHTML(icono).setLngLat(e.lngLat);\r\n\r\n        // document\r\n        //   .getElementById(\"view-full\")\r\n        //   .addEventListener(\"click\", changeTallState);\r\n      }\r\n\r\n    });\r\n    // console.log('oooooooooooooooooooooooo')\r\n   \r\n\r\n\r\n  });\r\n</script>\r\n\r\n<style>\r\n  .mapbox-popup {\r\n    max-width: 400px;\r\n    font: 12px/20px;\r\n    font-family: \"Times New Roman\", Times, serif;\r\n    border-radius: 10px !important;\r\n    box-shadow: 0 5px 2px rgba(0, 0, 0, 0.1) !important;\r\n    padding: 5px 8px 4px 8px !important;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n  }\r\n  .mapboxgl-popup-content {\r\n    position: relative;\r\n    background: #fff;\r\n    border-radius: 10px !important;\r\n    box-shadow: 0 5px 2px rgba(0, 0, 0, 0.1) !important;\r\n    padding: 5px 8px 4px 8px !important;\r\n    pointer-events: auto;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n  }\r\n  .iconoConsulta {\r\n    position: absolute;\r\n    margin-top: 132px;\r\n    right: 17px;\r\n  }\r\n  .containerDiv {\r\n    width: 80%;\r\n  }\r\n  .modal-overlay {\r\n    z-index: 2000;\r\n    font-size: 10px !important;\r\n    /* overflow: auto;\r\ndisplay: flex;\r\n position: fixed;\r\n    top: 35%;\r\n    left: 30%;\r\n    transform: translate(-23%,-23%); */\r\n  }\r\n  .modal-container {\r\n    overflow: auto;\r\n    display: block;\r\n    position: fixed;\r\n    top: 36%;\r\n    left: 26%;\r\n    bottom: 0;\r\n    transform: translate(-23%, -23%);\r\n    font-family: Arial, Helvetica, sans-serif;\r\n  }\r\n  .textModal {\r\n    font-size: small !important;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n  }\r\n  .hola{\r\n  \r\n    background-color: #fff;\r\n    position: absolute;\r\n    top: 4.5em;\r\n    right: 0.51em;\r\n    width: 17em;\r\n    border-radius: 19px;\r\n    border-color: black;\r\n    border-style: solid;\r\n    border-width: 1px;\r\n    box-shadow: black;\r\n    padding-left: 15px;\r\n    padding-right: 10px;\r\n    padding-top: 5px;\r\n    \r\n  }\r\n</style>\r\n\r\n{#if exportarshow}\r\n<div class='hola'>\r\n  \r\n    <Icon style=\"        cursor: pointer;font-size: 28px; float: right;    color: black;    top: 0.23em;    position: relative;\" class=\" material-icons iconoConsulta\" on:click={esborra}>close</Icon>\r\n\r\n<InfoBox {exportartextok}  />\r\n      {#if tallbutton}\r\n      <button id=\"view-full\" style=\"color: #1a4971\" on:click={changeTallState}>Visualitza</button>\r\n      <a href=\"https://tilemaps.icgc.cat/tileserver/geoindex/infogeo/dades/talls_llegendes_zip/{talltoshow}.zip\" style=\"color: #1a4971\">Descarrega</a>\r\n      \r\n\r\n      {/if}\r\n      {#if colbutton}\r\n      <button id=\"view-full\" style=\"color: #1a4971\" on:click={changeTallState}>Visualitza</button>\r\n      <a href={linkzip} style=\"color: #1a4971\">Descarrega</a>\r\n     \r\n      {/if}\r\n\r\n\r\n</div>\r\n\r\n\r\n{/if}\r\n\r\n{#if tall_show}\r\n  <div class=\"containerDiv\">\r\n  <DrawerBottom selected={selectedTall} {linkjpg} typedata={typedata}/>\r\n    <IconButton \r\n      on:click={changeTallState}\r\n      style=\"    position: absolute;\r\nright:50%;\r\nbottom: -14px;\r\nz-index: 10;\">\r\n      <Icon\r\n        style=\"        font-size: 30px;\r\ncolor: white;\r\nborder-style: solid;\r\nborder-radius: 17px;\r\nborder-width: 1px;\r\nbackground-color: black;\"\r\n        class=\" material-icons  \">\r\n        close\r\n      </Icon>\r\n    </IconButton>\r\n  </div>\r\n{/if}\r\n",
    "<script>\r\n  import { onMount, setContext, onDestroy, getContext } from \"svelte\";\r\n  import {\r\n    activateLayerStore,\r\n    changeHighlightItemStore,\r\n    changeBaseLayerStore,\r\n    changePaintPropertyStore,\r\n    changeColorPropertyStore,\r\n    changeInitialColorPropertyStore,\r\n\r\n    changePlaceStore,\r\n  } from \"../../Utils/stores.js\";\r\n  // import mapbox from \"mapbox-gl\";\r\n  import { miraCentreDins } from \"../../Utils/Utils.svelte\";\r\n  import { mapbox} from \"./mapbox.js\";\r\n  import { keyApp } from \"../../config\";\r\n  import { layerTree, urlTerrainICGC } from \"../../config\";\r\n  import { each } from \"svelte/internal\";\r\n  import Logo_map from \"../../UI/Logo_map.svelte\";\r\n  setContext(keyApp, {\r\n    getMap: () => map,\r\n  });\r\n\r\n  export let lat;\r\n  export let lon;\r\n  export let zoom;\r\n  export let maxZoom;\r\n  export let style;\r\n  export let pitch;\r\n  export let bearing;\r\n  // export let map;\r\n  export let map = undefined;\r\n  //export let item;\r\n\r\n  let overLayers = getContext(\"overLayers\");\r\n\r\n  const changePaintProperty = getContext(\"changePaintProperty\");\r\n\r\n  let container;\r\n\r\n  onMount(async () => {\r\n    mapboxgl.accessToken =\r\n      \"pk.eyJ1IjoibHN0aXoiLCJhIjoiY2s5dGtnNTZ2MWVybzNobjEyam0yd2E3MyJ9.6dCvGbS93SKGMbOqZA4Qag\";\r\n\r\n    map = new mapbox.Map({\r\n      container,\r\n      style,\r\n      hash: true,\r\n      center: [lon, lat],\r\n      zoom,\r\n      maxZoom,\r\n      bearing,\r\n      pitch,\r\n      logoPosition: 'top-right', //logo mapbox\r\n      attributionControl: false,\r\n    });\r\n    \r\n    map.once('load', (event) => {\r\n addSources();\r\n addTerrain3d();\r\n map.resize()\r\n\r\n })\r\n \r\n  });\r\n\r\n\r\n\r\n function addSources() {\r\n  //  console.log('jj')\r\n    if (!map.getSource(\"mapbox-dem\")) {\r\n      map.addSource(\"mapbox-dem\", {\r\n        type: \"raster-dem\",\r\n        url: \"mapbox://mapbox.mapbox-terrain-dem-v1\",\r\n        tileSize: 512,\r\n        maxzoom: 14,\r\n      });\r\n    }\r\n    if (!map.getSource(\"icgc-dem\")) {\r\n      map.addSource(\"icgc-dem\", {\r\n        type: \"raster-dem\",\r\n        tiles: [urlTerrainICGC],\r\n        tileSize: 512,\r\n        maxzoom: 14,\r\n      });\r\n    }\r\n  map.addLayer({\r\n      id: \"sky\",\r\n      type: \"sky\",\r\n      paint: {\r\n        \"sky-type\": \"atmosphere\",\r\n        \"sky-atmosphere-sun\": [0.0, 50.0],\r\n        \"sky-atmosphere-sun-intensity\": 5,\r\n      },\r\n    });\r\n    // console.log('jdddddj')\r\n    addTerrain3d();\r\n  }\r\n\r\n  function addTerrain3d() {\r\n   \r\n    var { longitude, latitude } = map.getCenter();\r\n    \r\n    const socDins = miraCentreDins(longitude, latitude, map.getZoom());\r\n   \r\n    if (socDins) {\r\n     \r\n      map.setTerrain({\r\n        source: \"icgc-dem\",\r\n        exaggeration: 1.2,\r\n      });\r\n    } else {\r\n     \r\n      map.setTerrain({\r\n        source: \"mapbox-dem\",\r\n        exaggeration: 1.5,\r\n      });\r\n    }\r\n  \r\n  }\r\n\r\n\r\n\r\n  //canvia opacitat al 50\r\n  layerTree.forEach((element) => {\r\n    //console.log('ele', element.groupLabel)\r\n    element.items.forEach((item) => {\r\n      // console.log('ii', item)\r\n      changePaintProperty(item, 50);\r\n    });\r\n  });\r\n  //fa visible-none\r\n  const unsubscribeLayerActive = activateLayerStore.subscribe(\r\n    (newLayerActive) => {\r\n      if (map && newLayerActive) {\r\n        map.setLayoutProperty(\r\n          newLayerActive.ly,\r\n          \"visibility\",\r\n          newLayerActive.vis\r\n        );\r\n      }\r\n    }\r\n  );\r\n\r\n  onDestroy(unsubscribeLayerActive);\r\n  //canvia baselayer\r\n\r\n  let lastSource= '';\r\n  const unsubscribechangeBaseLayer = changeBaseLayerStore.subscribe(\r\n   \r\n    (newchangeBaseLayer) => {\r\n\r\n       if (map && newchangeBaseLayer) {\r\n       \r\n         if( newchangeBaseLayer === \"removeestructuralwms\") {\r\n                      map.removeLayer(\"wmss\");\r\n                      map.removeSource(\"wmss\");\r\n         }\r\n         if (newchangeBaseLayer===\"estructuralwms\"){\r\n         \r\n        let myUrl = \"https://geoserveis.icgc.cat/arcgis/services/geotermia/estructural/MapServer/WMSServer?REQUEST=GetMap&SERVICE=WMS&VERSION=1.3.0&LAYERS=0&STYLES=&FORMAT=image/png&BGCOLOR=0xFFFFFF&TRANSPARENT=FALSE&CRS=EPSG:3857&BBOX={bbox-epsg-3857}&WIDTH=817&HEIGHT=836\"\r\n          \r\n     \r\n             \r\n\r\n              \r\n  \r\n\r\n                      map.addSource(\"wmss\", {\r\n                        type: \"raster\",\r\n                        tiles: [myUrl],\r\n                        minzoom: 6,\r\n                        maxzoom: 16,\r\n                      });\r\n              \r\n\r\n                      map.addLayer({\r\n                        id: \"wmss\",\r\n                        type: \"raster\",\r\n                        source: \"wmss\",\r\n                        paint: {\r\n                          \"raster-opacity\": 0.6,\r\n                        },\r\n                      });\r\n                     \r\n                    \r\n                    lastSource = newchangeBaseLayer\r\n\r\n\r\n        \r\n                  \r\n\r\n\r\n\r\n\r\n\r\n\r\n        }else{\r\n          // console.log('holiiii')\r\n          let myUrl = \"https://geoserveis.icgc.cat/arcgis/services/geotermia/estructural/MapServer/WMSServer?REQUEST=GetMap&SERVICE=WMS&VERSION=1.3.0&LAYERS=0&STYLES=&FORMAT=image/png&BGCOLOR=0xFFFFFF&TRANSPARENT=FALSE&CRS=EPSG:3857&BBOX={bbox-epsg-3857}&WIDTH=817&HEIGHT=836\"\r\n        //  console.log('map', map.style.crossTileSymbolIndex.layerIndexes)\r\n        //  if (map.style.crossTileSymbolIndex.layerIndexes.includes('wmsos')){\r\n        //    map.removeLayer(\"wmsos\");\r\n        //   map.removeSource(\"wmsos\");\r\n        //  }\r\n        //  console.log('map2', map.style.crossTileSymbolIndex.layerIndexes)\r\n          map.addSource(\"wmsos\", {\r\n                        type: \"raster\",\r\n                        tiles: [myUrl],\r\n                        minzoom: 6,\r\n                        maxzoom: 16,\r\n                      });\r\n              \r\n\r\n          map.addLayer({\r\n                        id: \"wmsos\",\r\n                        type: \"raster\",\r\n                        source: \"wmsos\",\r\n                        paint: {\r\n                          \"raster-opacity\": 0.0,\r\n                        },\r\n                      });\r\n\r\n                      // map.removeLayer(\"wmss\");\r\n                      // map.removeSource(\"wmss\");\r\n          map.setStyle(newchangeBaseLayer);\r\n         \r\n         \r\n          setTimeout(() => {\r\n            \r\n        \r\n          map.setTerrain();\r\n          map.removeLayer(\"sky\");\r\n          // map.removeSource(\"mapbox-dem\");\r\n          // map.removeSource(\"icgc-dem\");\r\n          addSources();  \r\n          map.removeLayer(\"wmsos\");\r\n          map.removeSource(\"wmsos\");\r\n          // map.setStyle(newchangeBaseLayer);\r\n          \r\n        }\r\n      , 1000);\r\n          \r\n         \r\n        }\r\n        \r\n      }\r\n    }\r\n  );\r\n\r\n  onDestroy(unsubscribechangeBaseLayer);\r\n\r\n\r\n  \r\n  //canvia opacitat segons la slidebar\r\n  const unsubscribechangePaintPropertyStore = changePaintPropertyStore.subscribe(\r\n    (itemStore) => {\r\n      if (map && itemStore) {\r\n        //console.log('mm', itemStore)\r\n        map.setPaintProperty(itemStore.ly, \"fill-opacity\", itemStore.op);\r\n      }\r\n    }\r\n  );\r\n  onDestroy(unsubscribechangePaintPropertyStore);\r\n\r\n  \r\n  //funció ACTIVA I CREA highlight amb nou filtre\r\n  let myOldLayer = [];\r\n  let highOldId;\r\n  let originalOldFilter;\r\n  let new_OldFilter;\r\n  let newLayer = \"\";\r\n  const unsubscribechangeHighlightItem = changeHighlightItemStore.subscribe(\r\n    (itemStore) => {\r\n      if (map && itemStore) {\r\n        // console.log(\"mm\", itemStore);\r\n        //console.log(\"myOldLayer\", highOldId);\r\n        // console.log('oldLayer?:', newLayer)\r\n        if (newLayer !== \"\") {\r\n          //console.log(\"newLayerOLD\", newLayer);\r\n          map.removeLayer(newLayer);\r\n        }\r\n\r\n        // FALTA QUE SI HAY UN _HIGHLIGHT, QUE LO BORRE ANTES DE HACER UNO NUEVO... INDICAR CON ID ANTIGUO, DEJARLO\r\n        //REGISTRADO EN UNA VARIABLE\r\n        //AHORA CADA VEZ Q SE HACE CLIC SE CREA UN LAYER AUNQUE SEA IGUAL... Y ESE ES EL ERROR\r\n       \r\n       \r\n        // if (itemStore.item.layer.id === \"Talls geològics/5704\") {\r\n        //   //console.log(\"*******\", itemStore.item);\r\n\r\n        //   map.setFilter(\"Talls geològics/5704_highlighted\", [\r\n        //     \"in\",\r\n        //     \"NOM_TALL\",\r\n        //     itemStore.item.properties.NOM_TALL,\r\n        //   ]);\r\n      \r\n      \r\n      \r\n        // }\r\n///////////////////////////////////////////////////////////////////\r\n        if (itemStore.id === \"talls\") {\r\n          //  console.log('tallsgeologics', itemStore)\r\n          let highId = itemStore.item.layer.id;\r\n          let originalFilter = itemStore.item.layer.filter;\r\n          var new_Filter = [\r\n            \"all\",\r\n            [\"in\", \"_symbol\", originalFilter[2]],\r\n            [\"in\", \"NOM_TALL\", itemStore.nom],\r\n          ];\r\n          var layers = map.getStyle().layers\r\n          var firstSymbolId;\r\n          for (var i = 0; i < layers.length; i++) {\r\n              if (layers[i].id === \"Talls geològics/5704\") {\r\n                firstSymbolId = layers[i].id;\r\n                \r\n                break;\r\n              }\r\n          }\r\n          map.addLayer(\r\n            {\r\n              id: `${highId}_highlight`,\r\n              type: \"line\",\r\n              source: \"infogeo\",\r\n              \"source-layer\": \"Talls geològics\", //quaternari\r\n              layout: {\r\n                visibility: \"visible\",\r\n              },\r\n              paint: {\r\n                \"line-opacity\": 1,\r\n                \"line-color\": \"#ADE5FF\",\r\n                \"line-width\": 5.033333\r\n              },\r\n              filter: [\"in\", \"NOM_TALL\", itemStore.item.properties.NOM_TALL], // filter idabs i codi-cas\r\n            },\r\n            firstSymbolId\r\n            //falta filtre symbol\r\n          );\r\n          newLayer = `${highId}_highlight`;\r\n         // console.log(\"newLayer?:\", newLayer);\r\n          //map.setFilter(`${highId}_highlight`, [\"in\", \"IDABS\", itemStore.idabs] );\r\n          map.setFilter(`${highId}_highlight`, new_Filter);\r\n          //map.removeSource('polygon_highlighted1')\r\n        }\r\n///////////////////////////////////////////////////////////////\r\n\r\n/////ESQUEMES DE RELACIONS ESTRATIGRÀFIQUES\r\n\r\nif (itemStore.id === \"polygonEsquemes\") {\r\n          //  console.log('esquemes', itemStore)\r\n          let highId = itemStore.item.layer.id;\r\n          // console.log('esquemesid', highId)\r\n          let originalFilter = itemStore.item.layer.filter;\r\n          var new_Filter = [\r\n            \"all\",\r\n            [\"in\", \"_symbol\", originalFilter[2]],\r\n            [\"in\", \"IDABS\", itemStore.idabs],\r\n          ];\r\n          var layers = map.getStyle().layers\r\n          var firstSymbolId;\r\n          for (var i = 0; i < layers.length; i++) {\r\n              if (layers[i].id === \"Registre geològic/Esquemes de relacions estratigràfiques\") {\r\n                firstSymbolId = layers[i].id;\r\n                \r\n                break;\r\n              }\r\n          }\r\n          map.addLayer(\r\n            {\r\n              id: `${highId}_highlight`,\r\n              type: \"line\",\r\n              source: \"infogeo\",\r\n              \"source-layer\": \"Esquemes de relacions estratigràfiques\", //quaternari\r\n              layout: {\r\n                visibility: \"visible\",\r\n              },\r\n              paint: {\r\n                \"line-opacity\": 1,\r\n                \"line-color\": \"#ADE5FF\",\r\n                \"line-width\": 5.033333\r\n              },\r\n              filter: [\"in\", \"IDABS\", itemStore.item.properties.IDABS], // filter idabs i codi-cas\r\n            },\r\n            firstSymbolId\r\n            //falta filtre symbol\r\n          );\r\n          newLayer = `${highId}_highlight`;\r\n         // console.log(\"newLayer?:\", newLayer);\r\n          //map.setFilter(`${highId}_highlight`, [\"in\", \"IDABS\", itemStore.idabs] );\r\n          map.setFilter(`${highId}_highlight`, new_Filter);\r\n          //map.removeSource('polygon_highlighted1')\r\n        }\r\n\r\n\r\n\r\n// COLUMNESSSSSS\r\n\r\n// if (itemStore.id === \"polygonColumnes\") {\r\n//           console.log('poligon columnes', itemStore)\r\n\r\n//           let highId = itemStore.item.layer.id;\r\n//           let originalFilter = itemStore.item.layer.filter;\r\n//           let sourceL = itemStore.item.layer[\"source-layer\"]\r\n//           console.log('poli', highId, originalFilter[2])\r\n//           var new_Filter = [\r\n//             \"all\",\r\n//             [\"in\", \"_symbol\", originalFilter[2]],\r\n//             [\"in\", \"IDABS\", itemStore.idabs],\r\n//           ];\r\n//           var layers = map.getStyle().layers\r\n//           var firstSymbolId;\r\n//           for (var i = 0; i < layers.length; i++) {\r\n//               if (layers[i].id === \"Registre geològic/Columnes estratigràfiques/Columnes del Paleozoic/Paleozoic LINK/Paleozoic\") {\r\n//                 console.log('1')\r\n//                 firstSymbolId = layers[i].id;\r\n                \r\n//                 break;\r\n//               }\r\n//           }\r\n      \r\n//           map.addLayer(\r\n//             {\r\n//               id: `${highId}_highlight`,\r\n//               type: \"fill\",\r\n//               source: \"infogeo\",\r\n//               \"source-layer\": sourceL, //quaternari\r\n//               layout: {\r\n//                 visibility: \"visible\",\r\n//               },\r\n//               paint: {\r\n//                 \"fill-outline-color\": \"#000000\",\r\n//                 \"fill-color\": \"#ADE5FF\",\r\n//                 \"fill-opacity\": 0.75,\r\n//               },\r\n//                filter: [\"in\", \"_symbol\", originalFilter[2]], // filter idabs i codi-cas\r\n//             },\r\n//             firstSymbolId\r\n//             //falta filtre symbol\r\n//           );\r\n\r\n//           newLayer = `${highId}_highlight`;\r\n//          console.log(\"newLayer?:\", newLayer);\r\n//           // map.setFilter(`${highId}_highlight`, [\"in\", \"IDABS\", itemStore.idabs] );\r\n         \r\n//           map.setFilter(`${highId}_highlight`, new_Filter);\r\n//            console.log('despres')//map.removeSource('polygon_highlighted1')\r\n//         }\r\n\r\n\r\n\r\nif (itemStore.id === \"polygonColumnes\") {\r\n          // console.log('poligon columnes', itemStore)\r\n\r\n          let highId = itemStore.item.layer.id;\r\n          let originalFilter = itemStore.item.layer.filter;\r\n          let sourceL = itemStore.item.layer[\"source-layer\"]\r\n          // console.log('poli', highId, originalFilter[2])\r\n          var new_Filter = [\r\n            \"all\",\r\n            [\"in\", \"_symbol\", originalFilter[2]],\r\n            [\"in\", \"IDABS\", itemStore.idabs],\r\n          ];\r\n          var layers = map.getStyle().layers\r\n          var firstSymbolId;\r\n          for (var i = 0; i < layers.length; i++) {\r\n              if (layers[i].id === \"Registre geològic/Columnes estratigràfiques/Columnes del Paleozoic/Paleozoic LINK/Paleozoic\") {\r\n                // console.log('1')\r\n                firstSymbolId = layers[i].id;\r\n                \r\n                break;\r\n              }\r\n          }\r\n      \r\n          map.addLayer(\r\n            {\r\n              id: `${highId}_highlight`,\r\n              type: \"fill\",\r\n              source: \"infogeo\",\r\n              \"source-layer\": sourceL, //quaternari\r\n              layout: {\r\n                visibility: \"visible\",\r\n              },\r\n              paint: {\r\n                \"fill-outline-color\": \"#000000\",\r\n                \"fill-color\": \"#ADE5FF\",\r\n                \"fill-opacity\": 0.75,\r\n              },\r\n               filter: [\"in\", \"_symbol\", originalFilter[2]], // filter idabs i codi-cas\r\n            },\r\n            firstSymbolId\r\n            //falta filtre symbol\r\n          );\r\n\r\n          newLayer = `${highId}_highlight`;\r\n        //  console.log(\"newLayer?:\", newLayer);\r\n          // map.setFilter(`${highId}_highlight`, [\"in\", \"IDABS\", itemStore.idabs] );\r\n         \r\n          map.setFilter(`${highId}_highlight`, new_Filter);\r\n          //  console.log('despres')//map.removeSource('polygon_highlighted1')\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        if (itemStore.id === \"polygonsQt\") {\r\n          // console.log('poligon quaternari', itemStore)\r\n          let highId = itemStore.item.layer.id;\r\n          let originalFilter = itemStore.item.layer.filter;\r\n          var new_Filter = [\r\n            \"all\",\r\n            [\"in\", \"_symbol\", originalFilter[2]],\r\n            [\"in\", \"IDABS\", itemStore.idabs],\r\n          ];\r\n          var layers = map.getStyle().layers\r\n          var firstSymbolId;\r\n          for (var i = 0; i < layers.length; i++) {\r\n              if (layers[i].id === \"QUATERNARI/Unitats geològiques:1/QHac\") {\r\n                firstSymbolId = layers[i].id;\r\n                \r\n                break;\r\n              }\r\n          }\r\n          map.addLayer(\r\n            {\r\n              id: `${highId}_highlight`,\r\n              type: \"fill\",\r\n              source: \"infogeo\",\r\n              \"source-layer\": \"Unitats geològiques:1\", //quaternari\r\n              layout: {\r\n                visibility: \"visible\",\r\n              },\r\n              paint: {\r\n                \"fill-outline-color\": \"#000000\",\r\n                \"fill-color\": \"#ADE5FF\",\r\n                \"fill-opacity\": 0.75,\r\n              },\r\n              filter: [\"in\", \"_symbol\", originalFilter[2]], // filter idabs i codi-cas\r\n            },\r\n            firstSymbolId\r\n            //falta filtre symbol\r\n          );\r\n          newLayer = `${highId}_highlight`;\r\n         // console.log(\"newLayer?:\", newLayer);\r\n          //map.setFilter(`${highId}_highlight`, [\"in\", \"IDABS\", itemStore.idabs] );\r\n          map.setFilter(`${highId}_highlight`, new_Filter);\r\n          //map.removeSource('polygon_highlighted1')\r\n        }\r\n\r\n        if (itemStore.id === \"polygonsBs\") {\r\n          // console.log(\"poligon basemenet\", itemStore);\r\n\r\n          let highId = itemStore.item.layer.id;\r\n\r\n          let originalFilter = itemStore.item.layer.filter;\r\n          var new_Filter = [\r\n            \"all\",\r\n            [\"in\", \"_symbol\", originalFilter[2]],\r\n            [\"in\", \"IDABS\", itemStore.idabs],\r\n          ];\r\n          var layers = map.getStyle().layers\r\n          var firstSymbolId;\r\n          for (var i = 0; i < layers.length; i++) {\r\n              if (layers[i].id === \"BASAMENT PREQUATERNARI/Unitats geològiques:2/CACe\") {\r\n                firstSymbolId = layers[i].id;\r\n                \r\n                break;\r\n              }\r\n          }\r\n          /////\r\n          map.addLayer(\r\n            {\r\n              id: `${highId}_highlight`,\r\n              type: \"fill\",\r\n              source: \"infogeo\",\r\n              \"source-layer\": \"Unitats geològiques:2\", //basament\r\n              layout: {\r\n                visibility: \"visible\",\r\n              },\r\n              paint: {\r\n                \"fill-outline-color\": \"#000000\",\r\n                \"fill-color\": \"#ADE5FF\",\r\n                \"fill-opacity\": 0.75,\r\n              },\r\n              filter: [\"in\", \"_symbol\", originalFilter[2]], // filter idabs i codi-cas\r\n            },\r\n            firstSymbolId\r\n            //falta filtre symbol\r\n          );\r\n\r\n          newLayer = `${highId}_highlight`;\r\n          //console.log(\"newLayer?:\", newLayer);\r\n          map.setFilter(`${highId}_highlight`, new_Filter);\r\n\r\n          //     //map.removeSource('polygon_highlighted2')\r\n          //          }\r\n        }\r\n      }\r\n      myOldLayer.push(itemStore);\r\n    }\r\n  );\r\n  onDestroy(unsubscribechangeHighlightItem);\r\n\r\n  //funció activa tot el que sigui mateix codi_CAS amb blueLayer\r\n  var myBlueLayer = [];\r\n  const unsubscribechangeColorPropertyStore = changeColorPropertyStore.subscribe(\r\n    (itemStore) => {\r\n      myBlueLayer = []; // reset del bluelayer\r\n      if (map && itemStore) {\r\n        //  let blue = '#01f7f7'\r\n         let blue= '#00fff2'\r\n        // let blue = \"#8AFDE3\";\r\n// console.log('oo', itemStore)\r\n        if (itemStore.ty === \"fill\") {\r\n          if (itemStore.op[\"fill-color\"] !== undefined) {\r\n            map.setPaintProperty(itemStore.ly, \"fill-color\", blue);\r\n          }\r\n          if (itemStore.op[\"fill-pattern\"] !== undefined) {\r\n            map.setPaintProperty(itemStore.ly, \"fill-pattern\", undefined);\r\n            map.setPaintProperty(itemStore.ly, \"fill-color\", blue);\r\n          }\r\n        }\r\n        if (itemStore.ty === \"line\") {\r\n          map.setPaintProperty(itemStore.ly, \"line-color\", blue);\r\n          map.setPaintProperty(itemStore.ly, \"line-width\", 4);\r\n        }\r\n        if (itemStore.ty === \"symbol\") {\r\n          map.setPaintProperty(itemStore.ly, \"icon-color\", blue);\r\n        }\r\n      }\r\n      myBlueLayer.push(itemStore);\r\n      // console.log('quehihadespres', myBlueLayer)\r\n    }\r\n  );\r\n  onDestroy(unsubscribechangeColorPropertyStore);\r\n  // funció torna aspecte original després del blueLayer\r\n  const unsubscribechangeInitialColorPropertyStore = changeInitialColorPropertyStore.subscribe(\r\n    (itemStore) => {\r\n      if (map && itemStore) {\r\n        //console.log(\"CHANGE TO INITIAL COLOR PATTERN\", itemStore);\r\n        if (newLayer !== \"\") {\r\n          //console.log(\"newLayerOLD\", newLayer);\r\n          map.removeLayer(newLayer);\r\n        }\r\n        // if (itemStore.ty === 'fill'){\r\n        // map.setPaintProperty(itemStore.ly, \"fill-color\", itemStore.op[\"fill-color\"]);\r\n\r\n        // }\r\n\r\n        if (itemStore.ty === \"fill\") {\r\n          if (itemStore.op[\"fill-color\"] !== undefined) {\r\n            map.setPaintProperty(\r\n              itemStore.ly,\r\n              \"fill-color\",\r\n              itemStore.op[\"fill-color\"]\r\n            );\r\n          }\r\n          if (itemStore.op[\"fill-pattern\"] !== undefined) {\r\n            map.setPaintProperty(\r\n              itemStore.ly,\r\n              \"fill-pattern\",\r\n              itemStore.op[\"fill-pattern\"]\r\n            );\r\n            map.setPaintProperty(\r\n              itemStore.ly,\r\n              \"fill-color\",\r\n              itemStore.op[undefined]\r\n            );\r\n          }\r\n        }\r\n        if (itemStore.ty === \"line\") {\r\n          map.setPaintProperty(\r\n            itemStore.ly,\r\n            \"line-color\",\r\n            itemStore.op[\"line-color\"]\r\n          );\r\n          map.setPaintProperty(\r\n            itemStore.ly,\r\n            \"line-width\",\r\n            itemStore.op[\"line-width\"]\r\n          );\r\n        }\r\n        if (itemStore.ty === \"symbol\") {\r\n          map.setPaintProperty(\r\n            itemStore.ly,\r\n            \"icon-color\",\r\n            itemStore.op[\"icon-color\"]\r\n          );\r\n        }\r\n      }\r\n      // myBlueLayer.push(itemStore)\r\n      // console.log('quehihadespres', myBlueLayer)\r\n    }\r\n  );\r\n  onDestroy(unsubscribechangeInitialColorPropertyStore);\r\n  //canvia de lloc el visor\r\n  const unsubscribechangePlaceStore = changePlaceStore.subscribe(\r\n    (coordStore) => {\r\n      if (map && coordStore) {\r\n        const coordx = coordStore.coords.x;\r\n        const coordy = coordStore.coords.y;\r\n\r\n        map.jumpTo({ center: [coordx, coordy], zoom: 14 });\r\n      }\r\n    }\r\n  );\r\n  onDestroy(unsubscribechangePlaceStore);\r\n</script>\r\n\r\n<style>\r\n  #map {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    width: 100vw;\r\n    height: 100vh\r\n  }\r\n</style>\r\n\r\n<div id=\"map\" bind:this={container} >\r\n  {#if map}\r\n    <slot />\r\n    <Logo_map />\r\n  {/if}\r\n</div>\r\n",
    "\n <script>\n    import Drawer, {AppContent, Content, Header, Title, Subtitle, Scrim} from '@smui/drawer';\n    import Button, {Label} from '@smui/button';\n    import List, {Item, Text, Graphic, Separator, Subheader} from '@smui/list';\n    import H6 from '@smui/common/H6.svelte';\n    //import PanelIntro from './PanelIntro.svelte';\n    import PanelSearchBar from \"../../PanelSearchBar/PanelSearchBar.svelte\";\n    import { createEventDispatcher } from 'svelte';\n    import { stateDrawerIntro } from \"../../../Utils/stores.js\";\n    const dispatch = createEventDispatcher();\n    let clicked = 'nothing yet';\n    let myDrawer;\n    let myDrawerOpen = false;\n    let active = 'Gray Kittens';\n    let myDrawer2;\n    import PanelOverLayers from \"../../PanelIconMenu/PanelOverLayers.svelte\"\n    \n    export let myDrawer2Open = false;\n\n  </script>\n  \n  <style>\n  #container{\n    z-index: 2;\n    position: absolute;\n    left: 0;\n    width: 340px;\n    /* top: 46px; */\n    /* width: 250px; */\n    /* height: -webkit-fill-available; */\n    /* background-color: rgba(0,0,0,1); */\n    background-color: white;\n    height: 99%;\n    overflow-y: auto;\n    overflow-x: hidden;\n    \n  }\n  #container_ppal{\n    z-index: 2;\n    position: absolute;\n    left: 0;\n    top: 46px;\n    width: 250px;\n    height: 96% ;\n    /* background-color: rgba(0,0,0,1); */\n    background-color: white;\n    /* height: 924px; */\n    /* overflow-y: auto; */\n    font-family: Arial, Helvetica, sans-serif;\n    \n  }\n  @media (max-width: 624px) {\n    #container_ppal{\n    width: 200px;\n  }\n  #container{\n    width: 200px;\n   \n  }\n  }\n  @media (max-width: 500px) {\n    #container_ppal{\n    width: 200px;\n    font-size: small;\n  }\n  #container{\n    width: 200px;\n    font-size: small;\n  \n  }\n  }\n  @media (max-width: 321px) {\n    #container_ppal{\n    width: 200px;\n    font-size: small;\n  }\n  #container{\n    width: 200px;\n    font-size: small;\n  }\n  }\n  </style>\n   <div id=\"container_ppal\">\n  <div id=\"container\">\n\n      \n  \n \n      <PanelOverLayers />\n\n       \n      </div>\n   </div>\n       \n      \n   \n  ",
    "<script>\n  import Dialog, { Title, Content, Actions } from \"@smui/dialog\";\n  import Button, { Label } from \"@smui/button\";\n  import { fade } from \"svelte/transition\";\n  import LineRipple from \"@smui/line-ripple\";\n  import IconButton, { Icon } from \"@smui/icon-button\";\n\n  function overlay_click(e) {\n    if (\"close\" in e.target.dataset) show = false;\n  }\nexport let myUrl;\nexport let ifr;\n  export let show = false;\n  function closeButton () {\n    show = false\n  }\n</script>\n\n<style>\n  .field1{\n    margin: 0px;\n  }\n\n  .field2{\n\n  }\n  .modal-overlay {\n    z-index: 2000;\n    font-size: 10px !important;\n    font-family: Arial, Helvetica, sans-serif;\n    /* overflow: auto;\ndisplay: flex;\n position: fixed;\n    top: 35%;\n    left: 30%;\n    transform: translate(-23%,-23%); */\n  }\n  #urlMap{\n    width: -webkit-fill-available;\n    font-weight: 500;\n  }\n  #iframeMap{\n    width: -webkit-fill-available;\n    font-weight: 500;\n  }\n  .modal-container {\n    /* overflow: auto; */\n    display: block;\n    position: fixed;\n    top: 36%;\n    left: 26%;\n    bottom: 0;\n    transform: translate(-23%, -23%);\n    font-family: Arial, Helvetica, sans-serif;\n    height: 25%;\n    width: 75%;\n  }\n  .textModal{\n    font-size: small !important;\n    font-family: Arial, Helvetica, sans-serif;\n  }\nh6{\n  font-size: 1rem;\n  font-family: Arial, Helvetica, sans-serif;\n  font-weight: 100;\n  position: relative;\n    top: -35px;\n    margin-bottom: -25px;\n}\nh5{\n  font-size: 1.1rem;\n  font-family: Arial, Helvetica, sans-serif;\n}\n  @media (max-width: 600px) {\n    .modal-overlay {\n      /* font-size: smaller !important; */\n    }\n    h6{\n  font-size: 0.8rem;\n}\nh5{\n  font-size:0.9rem;\n}\n  }\n  @media (max-width: 321px) {\n    h6{\n  font-size: 0.7rem;\n}\nh5{\n  font-size:0.8rem;\n}\n\n  }\n</style>\n\n{#if show}\n  <div>\n    <div\n      class=\"modal-overlay\"\n      data-close\n      on:click={overlay_click}\n      transition:fade={{ duration: 150 }}>\n      <div class=\"modal-container text\">\n        <IconButton\n        on:click={closeButton}\n        style=\"    position: absolute;\n      right:-3px;\n      \n      z-index: 10;\">\n        <Icon\n          style=\"        font-size: 22px;\n      color: black;\n      \n      border-radius: 17px;\"\n          class=\" material-icons  \">\n          close\n        </Icon>\n      </IconButton>\n        <!-- <Title id=\"dialog-title\" >\n          <b>Visor Riscos Geològics</b>\n        </Title>\n        <LineRipple /> -->\n        <Content id=\"dialog-content\" class=\"textModal\" >    <div class=\"content\">\n          <div class=\"ui message modalMsg\">\n            <!-- <div class=\"header\">\n              Enllaçar\n            </div> -->\n         \n                <h6>Per enllaçar amb aquest mapa, copieu i enganxeu el següent\n                  text</h6>\n                <input type=\"text\" value={myUrl} id=\"urlMap\" >\n              \n                <h6>Per inserir aquest mapa al vostre web, copieu i enganxeu el següent\n                  text</h6>\n                <textarea id=\"iframeMap\" rows=\"3\" value={ifr}></textarea>\n      \n    \n          </div>\n    \n        </div>\n\n        </Content>\n\n      </div>\n    </div>\n\n  </div>\n  \n{/if}\n",
    "<script>\r\nimport { onMount, getContext } from \"svelte\";\r\nimport { Email, HackerNews, Reddit, LinkedIn, Pinterest, Telegram, Tumblr, Vk, WhatsApp, Xing, Facebook, Twitter } from 'svelte-share-buttons-component';\r\n\r\n  import { keyApp } from \"../../config\";\r\n\r\n  import mapbox from \"mapbox-gl\";\r\n  const { getMap } = getContext(keyApp);\r\n  const map = getMap();\r\n\r\nimport IconButton, { Icon } from \"@smui/icon-button\";\r\nimport EnllacaModal from './EnllacaModal.svelte';\r\n\r\n//console.log('map', map)\r\nlet show= false;\r\nlet myUrl = '';\r\nlet ifr = '';\r\n\r\n\r\n\tconst title = `Capes d'Informació Geològica`;\r\n\tconst desc = `Visor de Capes d'Informació Geològica`;\r\n\r\n\r\nfunction enllacaModal (){\r\n  //console.info('hola')\r\n\r\n  let currentURLRaw = window.location.href.valueOf();\r\n  // --> http://localhost:5000/#8.5/41.8247/1.8155\r\n  //console.info('//', currentURLRaw)\r\n  myUrl = currentURLRaw\r\n  \r\n   ifr = `<iframe width=\"100%\" height=\"100%\" frameborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\" src=\"${currentURLRaw}\"></iframe>`\r\n//console.log(ifr)\r\n\r\n  show = !show\r\n}\r\n\r\nfunction createUrl (){\r\n // console.log('create')\r\n  let currentURLRaw = window.location.href.valueOf();\r\n  // --> http://localhost:5000/#8.5/41.8247/1.8155\r\n  //console.info('//', currentURLRaw)\r\n  // myUrl = currentURLRaw\r\nmyUrl = currentURLRaw\r\n\r\n}\r\n\r\n</script>\r\n\r\n\r\n\r\n<style>\r\n\r\n\r\n.footer {\r\n  position: fixed;\r\n    bottom: 0px;\r\n    width: 100%;\r\n    z-index: 1000000;\r\n    background: #fed601;\r\n    opacity: 1;\r\n    height: 4%;\r\n    min-height: 25px;\r\n    \r\n}\r\n.enllaca{\r\n  display: flex;\r\n  position: fixed;\r\n    bottom: -18px;\r\n    cursor: pointer;\r\n}\r\n.rrss{\r\n      display: flex;\r\n    position: fixed;\r\n    bottom: -10px;\r\n    /* cursor: pointer; */\r\n    right: 0;\r\n}\r\np{    font-weight: 600;\r\n    top: 1px;\r\n    left: -5px;\r\n    position: relative;\r\n}\r\n\r\n</style>\r\n<div class=\"footer\">\r\n \r\n    <div class=\"row links\">\r\n      <div class=\"hidden-xs col-sm-6 text-center enllaca\" on:click={enllacaModal}>\r\n        <IconButton   >\r\n          <!-- <Icon class=\"material-icons icono\" tabindex=\"1\" on>menu</Icon> -->\r\n          <i class=\"fa fa-link\"></i>\r\n          \r\n        </IconButton>\r\n        <p>Enllaça</p>\r\n        \r\n       \r\n      </div>\r\n      <div class=\"col-sm-6 text-center rrss\" on:click={createUrl} >\r\n        <div id=\"share\">\r\n          \r\n<Email subject=\"{title}\" body=\"{desc} {myUrl}\" />\r\n\r\n<LinkedIn class=\"share-button\" url={myUrl} />\r\n\r\n\r\n<!-- \r\n<WhatsApp class=\"share-button\" text=\"{title} {myUrl}\" />\r\n\r\n<Facebook class=\"share-button\" url={myUrl} /> -->\r\n<Twitter class=\"share-button\" text=\"{title}\" url={myUrl} />\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n</div>\r\n{#if show}\r\n<EnllacaModal show={show} myUrl={myUrl} ifr={ifr}/>\r\n{/if}",
    "<script>\r\n      import IconButton, { Icon } from \"@smui/icon-button\";\r\n    export let groupLabel;\r\n    export let showinfo;\r\n export let labelArray\r\n    import { onMount } from \"svelte\";\r\n    let oldlabel = ''\r\n    onMount(async() => {\r\n        // console.log('oor', showinfo, oldlabel, labelArray)\r\n        oldlabel = groupLabel\r\n        // console.log('oo1', oldlabel)\r\n    })\r\n    function letfalse () {\r\n        // console.log('entro inii', showinfo)\r\nshowinfo=false\r\n// console.log('entro final', showinfo)\r\n    }\r\n\r\n</script>\r\n\r\n<style>\r\n\r\n    .infoboxQt{\r\n        /* position: fixed; */\r\n        /* top:200px; */\r\n    /* top: 10%; */\r\n    left: 22em;\r\n    /* width: 39em; */\r\n    /* background-color: #f5f5f5; */\r\n \r\n    margin-top: -12px;\r\n    margin-left: 5px;\r\n    margin-right: 11px;\r\n    margin-bottom: 13px;\r\n    height: 300px;\r\n    overflow-y: scroll;\r\n    font-size: 14px;\r\n    padding: 3px;\r\n\r\n    }\r\n    \r\n    .infoboxBs{\r\n        /* position: fixed; */\r\n        /* top:200px; */\r\n        /* top:28%; */\r\n        left: 22em;\r\n    /* width: 39em; */\r\n    /* background-color:#f5f5f5; */\r\n   \r\n    margin-top: -12px;\r\n    margin-left: 5px;\r\n    margin-right: 11px;\r\n    margin-bottom: 13px;\r\n    height: 300px;\r\n    overflow-y: scroll;\r\n    font-size: 14px;\r\n    padding: 3px;\r\n\r\n    }\r\n    \r\n    .infoboxTalls{\r\n        /* position: fixed; */\r\n        /* top:200px; */\r\n    /* top: 49%; */\r\n    left: 22em;\r\n    /* width: 39em; */\r\n    /* background-color:#f5f5f5; */\r\n \r\n    margin-top: -12px;\r\n    margin-left: 5px;\r\n    margin-right: 11px;\r\n    margin-bottom: 13px;\r\n    height: 300px;\r\n    overflow-y: scroll;\r\n    font-size: 14px;\r\n    padding: 3px;\r\n\r\n    }\r\n</style>\r\n\r\n{#if showinfo}\r\n<div>\r\n    \r\n<div class=\"infoboxBs\">\r\n    <!-- <IconButton style=\"position:fixed;left:39.5em\" on:click={letfalse}>\r\n        <Icon style=\"font-size: 25px; \" class=\" material-icons  \"> close </Icon>\r\n      \r\n      </IconButton>\r\n<h4>{groupLabel}</h4> -->\r\n{#if groupLabel===\"Basament pre-Quaternari\"}\r\n<p>Cartografia harmonitzada del Basament prequaternari derivada dels fulls publicats del Mapa geològic de Catalunya 1:25 000 (MGC25m) \r\n    en el marc del Geotreball I (GT I). La cartografia és contínua i s’interpreta la distribució de les unitats de basament que es \r\n    troben cobertes per dipòsits quaternaris o antròpics, segons un model d’unitats geològiques. Els elements que conformen la capa\r\n     s’estructuren en 3 conjunts d’informació: les unitats geològiques; els contactes (sedimentaris, metamòrfics i magmàtics); i \r\n     les falles i els plecs. Cada unitat cartogràfica, s’identifica amb un epígraf, i en el mapa es caracteritza per un color, i \r\n     en algun cas també per una trama. Per cada unitat de basament es pot consultar la informació relativa a les característiques \r\n     litològiques i cronoestratigràfiques vinculades al full del MG25m que correspon. En futures versions s’adjuntarà l’equivalència \r\n     entre els epígrafs publicats als fulls MGC25m i els epígrafs harmonitzats que conformen la cartografia contínua que aquí s’exposa. \r\n     Podeu accedir a la llegenda signes convencionals de la cartografia del Basament a través d’aquest \r\n     <a target=\"_blank\" href=\"https://tilemaps.icgc.cat/tileserver/geoindex/infogeo/dades/llegendes/BAS_LLEG\">enllaç</a>. \r\n\r\n</p>\r\n{/if}\r\n\r\n\r\n\r\n\r\n{#if groupLabel===\"Dipòsits Quaternaris\"}\r\n\r\n<p>Cartografia harmonitzada dels dipòsits quaternaris dels fulls del Mapa geològic de Catalunya 1:25 000 (MGC25m) en el marc del \r\n    Geotreball I (GT I). La capa és contínua, s’interpreta la distribució de les unitats quaternàries que es troben cobertes per dipòsits antròpics, \r\n    segons un model d’unitats geològiques. No inclou els materials d’alteració superficial de les unitats prequaternàries. Els elements que \r\n    inclou la capa s’estructuren en 3 conjunts d’informació: les unitats geològiques; els contactes i els elements geomorfològics. Cada unitat \r\n    cartogràfica, s’identifica amb un epígraf, i en el mapa es caracteritza per un color, i en algun cas també per una trama. Per cada unitat \r\n    quaternària es pot consultar la informació relativa a la seva fàcies i les característiques litològiques i cronoestratigràfiques vinculades \r\n    al full del MGC25m que correspon. En futures versions s’adjuntarà l’equivalència entre els epígrafs publicats als fulls MGC25m i els epígrafs \r\n    harmonitzats que conformen la cartografia contínua que aquí s’exposa. Podeu accedir a la llegenda signes convencionals de la cartografia del \r\n    Quaternari a través d’aquest      <a target=\"_blank\" href=\"https://tilemaps.icgc.cat/tileserver/geoindex/infogeo/dades/llegendes/QUAT_LLEG\">enllaç</a>.  </p>\r\n\r\n\r\n{/if}\r\n{#if groupLabel===\"Talls Geològics\"}\r\n\r\n<p>Representació gràfica de la intersecció dels cossos geològics en el subsòl amb un pla vertical d'una orientació determinada. De la \r\n    intersecció d’aquest pla amb la superfície topogràfica en resulta la línia de la traça del tall. Aquests talls geològics són derivats dels \r\n    fulls publicats del Mapa Geològic de Catalunya 1:25 000. Cada tall representa una aproximació de la distribució dels materials geològics en fondària, \r\n    seguint un model d’unitats, coherent amb la informació de superfície i de subsòl disponible. En el mapa es mostren les traces dels talls disponibles. \r\n    Clicant a cada traça es pot visualitzar o descarregar el tall geològic corresponent. \r\n    La descàrrega inclou el tall en format jpg i una taula en format xlsx, amb informació litostratigràfica de les unitats que el composen. \r\n    Podeu accedir a la llegenda signes convencionals dels talls geològics a través d’aquest <a target=\"_blank\" href=\"https://tilemaps.icgc.cat/tileserver/geoindex/infogeo/dades/llegendes/TALLS_LLEG\">enllaç</a>. \r\n    </p>\r\n\r\n\r\n{/if}\r\n{#if groupLabel===\"Registre Geològic\"}\r\n\r\n<p>La capa Registre Geològic inclou esquemes representatius de les successions litostratigràfiques d’àmbits geogràfics específics. \r\n    La present versió de la capa Registre Geològic permet visualitzar o descarregar columnes estratigràfiques sintètiques i esquemes \r\n    de relacions estratigràfiques dels fulls publicats del Mapa Geològic de Catalunya 1:25 000.<br />\r\n    Les columnes estratigràfiques són representatives de les successions de roques sedimentàries i volcàniques presents a l’àmbit d’un full. \r\n    S’inclouen columnes representatives del registre neogen, paleogen, mesozoic i paleozoic. Per facilitar l’accés i l’anàlisi a les columnes \r\n    es mostra un mapa de la distribució d’aquests quatre grups cronoestratigràfics. Clicant a l’àmbit d’interès l’usuari pot visualitzar o \r\n    descarregar la columna corresponent. La descàrrega inclou la columna estratigràfica en format jpg i una taula en format xlsx, amb \r\n    informació litostratigràfica de les unitats que la composen.<br />\r\n    Els esquemes de relacions estratigràfiques són una representació gràfica sintètica de la posició cronoestratigràfica i estructural de les \r\n    diferents unitats geològiques presents a l’àmbit d’un full 1.25 000. Clicant a un punt determinat l’usuari pot visualitzar o descarregar \r\n    l’esquema de relacions estratigràfiques representatiu del full on se situa el punt. La descàrrega inclou l’esquema de relacions estratigràfiques \r\n    en format jpg i una taula en format xlsx, amb informació litostratigràfica de les unitats que el composen. Podeu accedir a la llegenda \r\n    general dels esquemes de relacions estratigràfiques a través d’aquest <a target=\"_blank\" href=\"https://tilemaps.icgc.cat/tileserver/geoindex/infogeo/dades/llegendes/REL_LLEG\">enllaç</a>.  <br />\r\n    Es recomana carregar de fons la cartografia geològica de Basament. Podeu accedir a la llegenda general de les columnes estratigràfiques \r\n    sintètiques i a la llegenda de signes convencionals per a les columnes i els esquemes de relacions estratigràfiques a través \r\n    d’aquest      <a target=\"_blank\" href=\"https://tilemaps.icgc.cat/tileserver/geoindex/infogeo/dades/llegendes/COLS_LLEG\">enllaç</a>.  \r\n    </p>\r\n\r\n\r\n{/if}\r\n{#if groupLabel===\"Terrenys Antròpics\"}\r\n\r\n<p>Cartografia harmonitzada de terrenys antròpics derivada dels fulls publicats del Mapa Geològic de Catalunya 1:25 000 en el marc del \r\n    projecte Geotreballs I (GT I) i Geotreball II (GT II). El concepte terreny antròpic es refereix a aquelles àrees on l’activitat \r\n    humana ha modificat la configuració natural del terreny significativament. A la present versió la capa diferencia 8 tipologies de \r\n    terrenys antròpics: els terraplens, desmunts i explanacions d’obres viàries, les zones extractives a cel obert, els terraplens \r\n    d’infraestructures costaneres, els dipòsits d’abocadors de residus, les valls i zones deprimides reblertes i els rebliments en \r\n    general. Cada tipologia s’identifica mitjançant un epígraf. Es pot consultar la descripció dels terrenys antròpics clicant al \r\n    damunt d’ells. Podeu accedir a la llegenda dels terrenys antròpics a través d’aquest      <a target=\"_blank\" href=\"https://tilemaps.icgc.cat/tileserver/geoindex/infogeo/dades/llegendes/ANT_LLEG\">enllaç</a>.  </p>\r\n\r\n\r\n{/if}\r\n{#if groupLabel===\"Mesures d'estructures\"}\r\n\r\n<p>Mesures de l’orientació de diferents tipus d’estructures de caràcter puntual derivades dels fulls publicats del Mapa Geològic de Catalunya 1:25 000.<br />\r\n    A la present versió s’inclou mesures de quatre tipologies d’estructures: l’estratificació, la foliació regional varisca, la lineació d’intersecció \r\n    entre l’estratificació i la foliació regional varisca, i el sentit dels paleocorrents. Cada tipologia d’estructura té un símbol específic que \r\n    s’orienta en funció de la direcció de màxim pendent en el cas de les estructures planars (estratificació i foliació) i la direcció en el cas \r\n    de les estructures linears. L’orientació de les estructures planars es proporciona a partir de la mesura de l’azimut (de 0 a 360º en sentit horari) \r\n    i la inclinació respecte el pla horitzontal (cabussament) de la direcció de màxim pendent del pla. Les inclinacions negatives indiquen plans invertits. \r\n    En el cas de la lineació d’intersecció es proporciona l’azimut i la inclinació respecte el pla horitzontal. En les mesures del sentit del paleocorrent \r\n    només es proporciona l’azimut.<br />\r\n    La majoria d’orientacions s’han mesurat al camp, en afloraments específics amb la brúixola. També s’inclouen mesures de caràcter més regional \r\n    obtingudes a partir de la intersecció de les traces cartogràfiques amb la superfície del terreny. Clicant a les mesures es proporciona \r\n    informació sobre l’orientació i la unitat geològica a la que està associada. Podeu accedir a la llegenda general de signes convencionals \r\n    de les mesures d’estructures a través d’aquest      <a target=\"_blank\" href=\"https://tilemaps.icgc.cat/tileserver/geoindex/infogeo/dades/llegendes/MESU_LLEG\">enllaç</a>. \r\n    </p>\r\n\r\n\r\n{/if}\r\n<!-- <IconButton style=\"position:fixed;left:24.5em\" on:click={letfalse}>\r\n    <Icon style=\"font-size: 25px; \" class=\" material-icons  \"> close </Icon>\r\n  \r\n  </IconButton> -->\r\n</div>\r\n</div>\r\n{/if}",
    "<script>\r\n  import { getContext } from \"svelte\";\r\n  import Checkbox from \"@smui/checkbox\";\r\n  import FormField from \"@smui/form-field\";\r\n  import SliderOpacity from \"./SliderOpacity.svelte\";\r\n  import LegendLayers from \"./LegendLayers.svelte\";\r\n  import { onMount, setContext, onDestroy } from \"svelte\";\r\n  import overLayersStyle from \"../../infogeo_v7_style.json\";\r\n  import Button from \"@smui/button\";\r\n  let overLayers = { ...overLayersStyle };\r\n  //let slider_show = false;\r\n  let display = false;\r\n\r\n  export let activated = true;\r\n\r\n  export let item;\r\n// console.log('i', item.value)\r\n  let slider_show = true;\r\n\r\n  const activateLayer = getContext(\"activateLayer\");\r\n\r\n\r\n\r\n  let array = item.value.split(\",\");\r\n\r\n  array.forEach((capa) => {\r\n      overLayers.layers.forEach((element) => {\r\n        if (element.layout && element.layout.visibility) {\r\n          if (element[\"source-layer\"] === capa) {\r\n            if (element.layout[\"visibility\"] === \"visible\"){\r\n              activated = true\r\n            } else {\r\n              activated = false\r\n            }\r\n          }\r\n        }\r\n      });\r\n    });\r\n\r\n\r\n  // onMount(async() => {\r\n  //   if (item.value === \"P_despreniments\") {\r\n  //     activated = false;\r\n  //   }\r\n  //   if (item.value === \"P_esllavissades\") {\r\n  //     activated = false;\r\n  //   }\r\n  //   if (item.value === \"P_esfondraments\") {\r\n  //     activated = false;\r\n  //   }\r\n  //   if (item.value === \"P_cons\") {\r\n  //     activated = false;\r\n  //   }\r\n  //   if (item.value === \"p_allaus\") {\r\n  //     activated = false;\r\n  //   }\r\n  //   // if (item.value === \"P_inundabilitat\") {\r\n  //   //   activated = false;\r\n  //   // }\r\n  // });\r\n\r\n  // function showSliderOpacity() {\r\n  //   if (showSliderOpacity) {\r\n  //     slider_show = !slider_show;\r\n  //   }\r\n  // }\r\n</script>\r\n\r\n<style>\r\n.labels{\r\n  color:black;\r\n  width: 100% !important;\r\n  font-weight: 700;\r\n  font-size: 13px;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n}\r\n.field{\r\n  width: 100% !important;\r\n  padding-left: 10px;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n}\r\n@media (max-width: 624px) {\r\n  .labels{\r\n    font-weight: 500;\r\n  font-size: smaller;\r\n  \r\n}\r\n  }\r\n  @media (max-width: 500px) {\r\n    .labels{\r\n      font-weight: 500;\r\nfont-size: smaller;\r\n\r\n}\r\n  }\r\n  @media (max-width: 321px) {\r\n    .labels{\r\n      font-weight: 500;\r\nfont-size: smaller;\r\n\r\n}\r\n  }\r\n\r\n</style>\r\n\r\n<FormField class=\"field\" style=\"padding-left: 10px;\">\r\n\r\n  <Checkbox\r\n    bind:checked={activated}\r\n    on:change={() => activateLayer(item, activated)} />\r\n    {#if item.label.includes(\"Columnes\")}\r\n    <span class=\"labels\" style=\"color:grey; font-weight: 600;\" >\r\n      {item.label}\r\n     \r\n     \r\n  \r\n    </span>\r\n    {:else}\r\n    <span class=\"labels\" >\r\n    {item.label}\r\n     {#if item.label === 'Unitats geològiques' && activated && item.value === 'Unitats geològiques:1,Unitats geològiques:1/label'}\r\n      <SliderOpacity {item} />\r\n    {/if}\r\n\r\n    {#if item.label === 'Unitats geològiques' && activated && item.value === 'Unitats geològiques:2,Unitats geològiques:2/label'}\r\n      <SliderOpacity {item}  />\r\n\r\n      \r\n    {/if}\r\n   \r\n\r\n  </span>\r\n    {/if}\r\n  \r\n\r\n</FormField>\r\n",
    "<script>\r\n  import { getContext } from \"svelte\";\r\n  import LayerCheckBox from \"./LayerCheckBox.svelte\";\r\n  import Checkbox from \"@smui/checkbox\";\r\n  import { columnes } from \"../../config\";\r\n  import FormField from \"@smui/form-field\";\r\n  import SliderOpacity from \"../PanelIconMenu/SliderOpacity.svelte\";\r\n  import IconButton, { Icon } from \"@smui/icon-button\";\r\nimport InfoBox from \"./InfoBox.svelte\";\r\nimport Hoverable from './Hoverable.svelte';\r\n  export let layer;\r\nlet showinfo = false;\r\n  let display = false;\r\n  let activated = true;\r\n  let displayy = false;\r\n  export let labelArray; \r\n\r\n\r\n  function colapseGroup() {\r\n    display = !display;\r\n    \r\n  }\r\n  function colapseGroupCol() {\r\n    displayy = !displayy;\r\n    \r\n  }\r\n  function showInfoBox () {\r\n    showinfo = false\r\n      // showinfo = !showinfo\r\n      let lyr = layer.groupLabel\r\n//console.log('uu', labelArray, lyr)\r\n      if (labelArray === lyr) {\r\n     \r\n        labelArray= ''   \r\n        // console.log('si incluye', labelArray)\r\n      } else {\r\n     \r\n         labelArray =lyr;   \r\n         showinfo = true\r\n        //  console.log('no incluye', labelArray)\r\n      }\r\n }\r\n\r\n  let slider_show = true;\r\n  const activateLayerGroup = getContext(\"activateLayerGroup\");\r\n</script>\r\n\r\n<style>\r\n  .multiselect {\r\n    /* width: 85%; */\r\n    padding-bottom: 10PX;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    \r\n  }\r\n\r\n  .selectBox {\r\n    position: relative;\r\n    cursor: pointer;\r\n    \r\n  }\r\n.select{\r\n  margin: 0px !important;\r\n  font-size: smaller;\r\n}\r\n.overSelect:hover{\r\n  border-radius: 11px;    \r\n  border-color: #fff35d70;\r\n    border-style: solid;\r\n}\r\n.overSelect:active{\r\n  border-radius: 11px;    \r\n  border-color: #fff35d70;\r\n  border-style: inset;\r\n}\r\n.overSelect:focus{\r\n  border-radius: 11px;    \r\n  border-color: #fff35d70;\r\n    border-style: solid;\r\n}\r\n  .selectBox select {\r\n    width: 100%;\r\n    font-weight: bold;\r\n  }\r\n\r\n  .overSelect {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n  }\r\n\r\n  .checkboxes {\r\n    /* border: 1px #dadada solid; */\r\n    background-color: #fff;\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding-right: 30px;\r\n    width: 80%;\r\n  }\r\n\r\n  .headCheck {\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n    color:rgb(0, 0, 0)\r\n  }\r\n  .field{\r\n  width: 100% !important;\r\n  padding-left: 100px;\r\n}\r\n.indentedfield{\r\n\r\n}\r\n.iButon{\r\n  float: right;\r\n}\r\n\r\n</style>\r\n\r\n<form>\r\n  <div class=\"multiselect\" >\r\n    <div style=\"display: flex;\r\n    height: 32px;\">\r\n\r\n        <div style=\"width:100%\" class=\"selectBox\" on:click={colapseGroup}>\r\n          <select class=\"select\" style=\"border-radius: 11px;    border-color: transparent;\r\n          background-color: #f5f5dc8f;\">\r\n\r\n            <option>{layer.groupLabel}</option>\r\n      \r\n          </select>\r\n        \r\n          <div class=\"overSelect\" />\r\n        </div>\r\n\r\n\r\n      <div >\r\n            <IconButton style=\"position:relative;right:-3px;top:-10px\" on:click={showInfoBox}>\r\n            <Icon style=\"font-size: 25px \" class=\" material-icons  \"> info_outlined </Icon>\r\n\r\n          </IconButton>\r\n\r\n      </div>\r\n  \r\n\r\n    </div>\r\n\r\n   \r\n    {#if display}\r\n      <div id={layer.groupId} class=\"checkboxes\">\r\n<div >\r\n        <!-- <FormField> -->\r\n          <!-- <Checkbox\r\n            bind:checked={activated}\r\n            class=\"indentedfield\"\r\n            on:change={() => activateLayerGroup(layer, activated)} /> -->\r\n          <!-- <span class=\"headCheck\" slot=\"label\">{layer.groupLabel}</span> -->\r\n        <!-- <span class=\"headCheck\" slot=\"label\">Visualitza tot {layer.groupLabel}</span> -->\r\n          <!-- <SliderOpacity {layer} {slider_show} /> -->\r\n          <!-- <IconButton style=\"position:absolute;right:-11px;top:-10px\" on:click={showInfoBox}>\r\n            <Icon style=\"font-size: 25px \" class=\" material-icons  \"> info_outlined </Icon>\r\n\r\n          </IconButton> -->\r\n\r\n\r\n        <!-- </FormField> -->\r\n        \r\n    </div>\r\n\r\n  {#each layer.items as item, index}\r\n{#if item.label ===\"Columnes estratigràfiques\" }\r\n\r\n{#each columnes as column, index}\r\n<form>\r\n  <div class=\"multiselect\"  style=\"    margin-left: 18px;\r\n  margin-top: 8px;width:98%\" >\r\n    <div style=\"display: flex;\r\n    height: 32px\">\r\n\r\n        <div style=\"width:100%; \" class=\"selectBox\" on:click={colapseGroupCol}>\r\n          <select class=\"select\" style=\"  border-style: none;\">\r\n\r\n            <option >{column.groupLabel}</option>\r\n      \r\n          </select>\r\n        \r\n          <div class=\"overSelect\"  />\r\n        </div>\r\n\r\n\r\n\r\n    </div>\r\n\r\n  \r\n    {#if displayy}\r\n      <div id={column.groupId} class=\"checkboxes\">\r\n<div >\r\n       \r\n    </div>\r\n\r\n  {#each column.items as item, index}\r\n\r\n\r\n\r\n    <LayerCheckBox  {item} {activated} />\r\n\r\n      \r\n  {/each}\r\n\r\n\r\n      \r\n\r\n      </div>\r\n    {/if}\r\n  </div>\r\n</form>\r\n{/each}\r\n\r\n\r\n\r\n\r\n{:else}\r\n    <LayerCheckBox  {item} {activated} />\r\n{/if}\r\n      \r\n        {/each}\r\n\r\n\r\n      \r\n\r\n      </div>\r\n    {/if}\r\n  </div>\r\n\r\n\r\n  <InfoBox groupLabel={layer.groupLabel} showinfo={showinfo} {labelArray}/>\r\n</form>\r\n\r\n\r\n<!-- <InfoBox groupLabel={layer.groupLabel} showinfo={showinfo} {labelArray}/> -->\r\n",
    "<script>\n  import IconButton, { Icon } from \"@smui/icon-button\";\n  import { onMount, getContext } from \"svelte\";\n  import { keyApp } from \"../../config\";\n\n  //console.log(\"entro llegenda\");\n\n  export let item;\n</script>\n\n<style>\n  .container {\n    display: grid;\n    width: 200px;\n    background-color: white;\n    right: 10px;\n    padding: 5px;\n    border-radius: 10px !important;\n  }\n</style>\n\n<div class=\"container\">{item.label}</div>\n",
    "<script>\r\n  import IconButton, { Icon } from \"@smui/icon-button\";\r\n  import { getContext } from \"svelte\";\r\n  import { baseLayers } from \"../../config\";\r\n const changeBaseLayer = getContext(\"changeBaseLayer\");\r\n const removeWmsBaseLayer = getContext(\"removeWmsBaseLayer\");\r\n  let basemap_show = false;\r\n\r\n  let mapselected = baseLayers[0];\r\nlet wms = baseLayers[2]\r\nlet wmsactive = false\r\n// console.log('wms', wms)\r\n\r\nvar elwms = document.getElementById('wmsid');\r\n\r\nfunction letwms(){\r\n  // console.log('kokoko')\r\n  if ( document.getElementById(\"wmsid\").checked === false){\r\n    // console.log('era false')\r\n  wms = { url:\r\n      \"removeestructuralwms\",\r\n  },\r\n  changeBaseLayer(wms)\r\n    //remove wms\r\n  }else{\r\n    wms = baseLayers[2]\r\n    // console.log('era true')\r\n    changeBaseLayer(wms)\r\n  }\r\n  // \r\n}\r\nfunction letwmsfalse (){\r\n  // console.log('wmsac', wmsactive)\r\n  wmsactive= false\r\n  document.getElementById(\"wmsid\").checked = false;\r\n}\r\n \r\n</script>\r\n\r\n<style>\r\n  /* .container {\r\n    width: 84%;\r\n    left: 15px;\r\n    padding: 10px;\r\n    padding-left: 15px;\r\n    border-radius: 10px !important;\r\n  } */\r\n  .container{\r\n    width: 84%;\r\n    /* left: 15px; */\r\n    padding: 1px 10px 10px 10px;\r\n    border-radius: 10px!important;\r\n    position: relative;\r\n    top: -11px;\r\n  }\r\n\r\n  .wrapper {\r\n    display: grid;\r\n    /* grid-template-columns: 90px 90px;\r\n    grid-template-rows: 60px 60px; */\r\n    /* padding: 3px; */\r\n    grid-gap: 10px;\r\n    border-radius: 10px !important;\r\n  }\r\n  label {\r\n    color: black;\r\n    background-color: rgba(255, 255, 255, 1);\r\n    /* text-align: center !important; */\r\n    font-size: 13px !important;\r\n  }\r\n</style>\r\n\r\n<div class=\"container\">\r\n\r\n  <div id=\"menu\" class=\"wrapper\">\r\n\r\n    {#each baseLayers as value}\r\n    {#if value.url === \"estructuralwms\"}\r\n        <!-- <div style=\"height:50px;border-width: 1px;border-color: #bdb9b9;border-style: solid; background-image: url('{value.image}')\"> -->\r\n          <div >\r\n          <label>\r\n            <input id=\"wmsid\"\r\n              type=\"checkbox\"\r\n              checked={wmsactive}\r\n              {value}\r\n              \r\n              on:click={letwms}\r\n               />\r\n            {value.label}\r\n          </label>\r\n        </div>\r\n\r\n    {:else}\r\n        <div >\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  checked={value.label === mapselected.label ? true : false}\r\n                  {value}\r\n                  bind:group={mapselected}\r\n                  on:change={() => changeBaseLayer(mapselected)} \r\n              on:click={letwmsfalse}/>\r\n                {value.label}\r\n              </label>\r\n            </div>\r\n\r\n    {/if}\r\n    \r\n    {/each}\r\n\r\n  </div>\r\n</div>\r\n",
    "<script>\r\n  import IconButton, { Icon } from \"@smui/icon-button\";\r\n  import { slide, fade } from \"svelte/transition\";\r\n\r\n  import PanelOverLayers from \"./PanelOverLayers.svelte\";\r\n  //import PanelCompareBaseMap from \"./PanelCompareBaseMap.svelte\";\r\n  import PanelBaseMap from \"./PanelBaseMap.svelte\";\r\n  import mapbox from \"mapbox-gl\";\r\n  import LeftMenu from \"../PanelDrawLeft/PanelLayers/LeftMenu.svelte\"\r\n\r\n  let starred = false;\r\n  let capes_show = false;\r\n  //let compare_show = false;\r\n  let basemap_show = false;\r\n  let switchLayer = true;\r\n  let llegenda_show = false;\r\n  let perillositat_selected;\r\n  let despreniments_selected;\r\n  let dense = false;\r\n  let prominent = false;\r\n  let variant = \"fixed\";\r\n  let collapsed = false;\r\n\r\n  let title = \"infoGeologica\";\r\n  //let Adjust = ShortFixedAdjust;\r\n\r\n  //export let show = false;\r\n  let modal_show = false;\r\n  //let compare_show;\r\n\r\n  function doSomething() {\r\n    starred = !starred;\r\n  }\r\n\r\n  function changeCapesState() {\r\n    basemap_show = false;\r\n    //compare_show = false;\r\n    if (changeCapesState) {\r\n      capes_show = !capes_show;\r\n    }\r\n  }\r\n  function changeBasemapState() {\r\n    capes_show = false;\r\n    // compare_show = false;\r\n    if (changeBasemapState) {\r\n      basemap_show = !basemap_show;\r\n    }\r\n  }\r\n  function changeLlegendaState() {\r\n    basemap_show = false;\r\n    capes_show = false;\r\n\r\n    if (changeLlegendaState) {\r\n      llegenda_show = !llegenda_show;\r\n    }\r\n  }\r\n  function changeDrawerIntroState() {\r\n    \r\n    stateDrawerIntro.set(function() {\r\n      \r\n      return true;\r\n    });\r\n  }\r\n  // function changeCompareState() {\r\n\r\n  //   capes_show = false;\r\n  //   basemap_show = false;\r\n  //   if (changeCompareState) {\r\n  //     compare_show = !compare_show;\r\n  //   }\r\n  // }\r\n</script>\r\n\r\n<style>\r\n  .iconmenu {\r\n    \r\n    z-index: 10;\r\n    position: fixed;\r\n    margin-left: 0;\r\n    /* background-color: hsla(0,0%,100%,.7); */\r\n    border-radius: 40px;\r\n    height: 50px;\r\n    margin-top: -61px;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    color: black;\r\n  }\r\n\r\n@media (max-width: 624px) {\r\n  .iconmenu {\r\n    margin-left: 0;\r\n    height: 50px;\r\n    margin-top: -61px;\r\n  \r\n  }\r\n  }\r\n  @media (max-width: 415px) {\r\n    .iconmenu {\r\n    margin-left: 0;\r\n    height: 50px;\r\n    margin-top: -61px;\r\n  \r\n  }\r\n  }\r\n  @media (max-width: 321px) {\r\n    .iconmenu {\r\n    margin-left: 0;\r\n    height: 50px;\r\n    margin-top: -61px;\r\n  \r\n  }\r\n  }\r\n</style>\r\n\r\n<div class=\"iconmenu\" >\r\n\r\n  <!-- ICONA CAPES -->\r\n  <IconButton on:click={changeCapesState}  >\r\n    <!-- <Icon class=\"material-icons icono\" tabindex=\"1\" on>menu</Icon> -->\r\n    <!-- <Icon class=\"material-icons icono\" tabindex=\"1\" style={'font-size: 38px;'}>menu_outlined</Icon> -->\r\n    <i class=\"fa fa-bars\"></i>\r\n  </IconButton>\r\n  <!-- ICONA BASEMAP -->\r\n\r\n  <!-- <IconButton on:click={changeBasemapState}>\r\n    <Icon class=\"material-icons icono\" on>border_all</Icon>\r\n    <Icon class=\"material-icons icono\">border_all</Icon>\r\n  </IconButton> -->\r\n\r\n  <!-- <div class=\"wrapper desplegables\"> -->\r\n\r\n\r\n    <!-- {#if basemap_show}\r\n      <PanelBaseMap bind:show={basemap_show} />\r\n    {/if} -->\r\n\r\n    <!-- {#if compare_show}\r\n      <PanelCompareBaseMap   />\r\n    {/if} -->\r\n\r\n  <!-- </div> -->\r\n\r\n</div>\r\n\r\n    {#if capes_show}\r\n      <LeftMenu />\r\n    {/if}",
=======
    "<script>\n  // import \"../node_modules/mapbox-gl/dist/mapbox-gl.css\";\n  // import \"https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css\";\n\n  import { onDestroy, onMount, setContext, getContext } from \"svelte\";\n  import {\n    stateDrawer,\n    activateLayerStore,\n    changeBaseLayerStore,\n    changePaintPropertyStore,\n    changeColorPropertyStore,\n    changeInitialColorPropertyStore,\n    changePlaceStore,\n    changeHighlightItemStore,\n    stateDrawerIntro,\n    stateTallDrawer,\n  } from \"./Utils/stores.js\";\n  import ButtonHome from \"./Panels/PanelTopBar/ButtonHome.svelte\";\n  import { keyApp, baseLayers, layerTree } from \"./config\";\n  import PanelTopBar from \"./Panels/PanelTopBar/PanelTopBar.svelte\";\n  import PanelIconMenu from \"./Panels/PanelIconMenu/PanelIconMenu.svelte\";\n  import Map from \"./Components/Map/Map.svelte\";\n  import MapDisplayControls from \"./Components/MapControls/MapDisplayControls.svelte\";\n  import MapOverlayLayers from \"./Components/MapOverLayers/MapOverLayers.svelte\";\n  import ConsultaPopUp from \"./Components/MapPopup/ConsultaPopUp.svelte\";\n  import LegendIcon from \"./Components/Llegenda/LegendIcon.svelte\";\n  import Footer from \"./Panels/PanelFooter/Footer.svelte\";\n  import overLayersStyle from \"./infogeo_v7_style.json\";\n  import LeftMenu from \"../src/Panels/PanelDrawLeft/PanelLayers/LeftMenu.svelte\";\n  import PanelTall from \"./Panels/PanelTall/DrawerBottom.svelte\";\n  import { element } from \"svelte/internal\";\n\n  //import estilTopo from \"./topo.json\";\n\n  let toggle = false;\n  let openModalInfo;\n  let overLayers = { ...overLayersStyle };\n  const estilTopo = baseLayers[0].url;\n  \n  let activeLayerMap = null;\n  const unsubscribe = stateDrawer.subscribe((value) => {\n    toggle = value;\n  });\n  //iniciem\n\n  onMount(async () => {\n\n    // layerTree.forEach((element) => {\n    //   if (\n    //     element.groupId === \"opt_basament\" ||\n    //     element.groupId === \"opt_quaternari\"\n    //   ) {\n    //   } else {\n    //     // activateLayerGroup(element,visib)\n       \n    //     activ(element)\n    //     // setTimeout(() => {\n    //     //   activateLayerGroup(element, visib), 59000;\n    //     // });\n      \n\n    //   }\n    // });\n  });\n\n  //iniciem fin\n  function activateLayer(item, visible) {\n    // console.log('elemen', item)\n    const vis = visible ? \"visible\" : \"none\";\n    let ly;\n\n    let array = item.value.split(\",\");\n    array.forEach((capa) => {\n      overLayers.layers.forEach((element) => {\n        if (element.layout && element.layout.visibility) {\n          if (element[\"source-layer\"] === capa) {\n            ly = element.id;\n            element.layout.visibility = vis;\n            activateLayerStore.set({ ly, vis });\n          }\n        }\n      });\n    });\n  }\n\n  function activateLayerGroup(group, visible) {\n    // console.log('elemen', group)\n    group.items.forEach((element) => {\n      activateLayer(element, visible);\n    });\n  }\n\n  function changeBaseLayer(base) {\n    changeBaseLayerStore.set(base.url);\n  }\n\n  function changePlace(coords) {\n    changePlaceStore.set(coords);\n  }\n\n  function changeColorProperty(item) {\n    let ly;\n    let op;\n    let ty;\n    let idabs;\n    overLayers.layers.forEach((element) => {\n      if (element.layout && element.layout.visibility) {\n        // console.log('iiiiiiiiiiiiii', item)\n        if (element.id === item.layer.id) {\n                  //  console.log(\"poligon\", item.properties);\n\n          // console.log(\"eleee\", element);\n          ly = element.id;\n          op = element.paint;\n          idabs = item.properties.ID_MAPA;\n          ty = element.type;\n\n          if (element.id.includes('Terrenys')) {\n            // console.log('terrenys', element, item)\n            idabs = item.properties.CODI_CAS;\n            // changeColorPropertyStore.set({ ly, op, ty });\n            changeHighlightItemStore.set({ item, ly, op, idabs, ty });\n          }\n          if (element.id !== \"Talls geològics/Traces de talls geològics/5704\" && !element.id.includes('Terrenys')) {\n            // console.log('no tall', element, item)\n            idabs = item.properties.CODI_CAS;\n            changeColorPropertyStore.set({ ly, op, ty });\n            changeHighlightItemStore.set({ item, ly, op, idabs, ty });\n          } \n          else {\n            // console.log('si tall')\n            idabs = item.properties.NOM_TALL;\n            changeHighlightItemStore.set({ item, ly, op, idabs, ty });\n          }\n        }\n      }\n    });\n    // if (item.layer[\"source-layer\"] === \"Terrenys modificats\") {\n    //   console.log(\"MODIFICATS\", item);\n    //   overLayers.layers.forEach((element) => {\n    //     if (element.layout && element.layout.visibility) {\n    //       if (element.id === item.layer.id) {\n    //         // console.log(\"poligon0000000000000000000\", item.properties.IDABS);\n\n    //         //console.log('poligon', item._vectorTileFeature._geometry)\n    //         let id;\n    //         let nom;\n    //         id = \"modificats\";\n\n    //         nom = item.properties.CODI_CAS;\n\n    //         changeHighlightItemStore.set({ item, id, nom });\n    //       }\n    //     }\n    //   });\n    // }\n    if (item.layer[\"source-layer\"].includes('Terrenys')) {\n      // console.log(\"REBAIXATSSSSS\", item);\n      overLayers.layers.forEach((element) => {\n        if (element.layout && element.layout.visibility) {\n          if (element.id === item.layer.id) {\n            // console.log(\"poligon0000000000000000000\", item.properties.IDABS);\n\n            //console.log('poligon', item._vectorTileFeature._geometry)\n            let id;\n            let nom;\n            id = \"antropics\";\n\n            nom = item.properties.CODI_CAS;\n\n            changeHighlightItemStore.set({ item, id, nom });\n          }\n        }\n      });\n    }\n    // if (item.layer[\"source-layer\"] === \"Terrenys terraplenats\") {\n    //   console.log(\"TERRAPLANATS\", item);\n    //   overLayers.layers.forEach((element) => {\n    //     if (element.layout && element.layout.visibility) {\n    //       if (element.id === item.layer.id) {\n    //         // console.log(\"poligon0000000000000000000\", item.properties.IDABS);\n\n    //         //console.log('poligon', item._vectorTileFeature._geometry)\n    //         let id;\n    //         let nom;\n    //         id = \"terraplenats\";\n\n    //         nom = item.properties.CODI_CAS;\n\n    //         changeHighlightItemStore.set({ item, id, nom });\n    //       }\n    //     }\n    //   });\n    // }\n    if (item.layer[\"source-layer\"] === \"Traces de talls geològics\") {\n      // console.log(\"item1\", item);\n      overLayers.layers.forEach((element) => {\n        if (element.layout && element.layout.visibility) {\n          if (element.id === item.layer.id) {\n            // console.log(\"poligon0000000000000000000\", item.properties.IDABS);\n\n            //console.log('poligon', item._vectorTileFeature._geometry)\n            let id;\n            let nom;\n            id = \"talls\";\n\n            nom = item.properties.NOM_TALL;\n\n            changeHighlightItemStore.set({ item, id, nom });\n          }\n        }\n      });\n    }\n\n    if (item.layer[\"id\"].includes(\"Columnes\")) {\n      overLayers.layers.forEach((element) => {\n        if (element.layout && element.layout.visibility) {\n          if (element.id === item.layer.id) {\n            // console.log(\"poligon0000000000000000000\", item.properties.IDABS);\n\n            //console.log('poligon', item._vectorTileFeature._geometry)\n            let id;\n            let idabs;\n            id = \"polygonColumnes\";\n\n            idabs = item.properties.IDABS;\n\n            changeHighlightItemStore.set({ item, id, idabs });\n          }\n        }\n      });\n    }\n    if (\n      item.layer[\"source-layer\"] === \"Esquemes de relacions estratigràfiques\"\n    ) {\n      overLayers.layers.forEach((element) => {\n        if (element.layout && element.layout.visibility) {\n          if (element.id === item.layer.id) {\n            // console.log(\"poligon0000000000000000000\", item.properties.IDABS);\n\n            //console.log('poligon', item._vectorTileFeature._geometry)\n            let id;\n            let idabs;\n            id = \"polygonEsquemes\";\n\n            idabs = item.properties.IDABS;\n            // console.log('esquemesss', idabs)\n            changeHighlightItemStore.set({ item, id, idabs });\n          }\n        }\n      });\n    }\n\n    if (item.layer[\"source-layer\"] === \"FILLq\") {\n      overLayers.layers.forEach((element) => {\n        if (element.layout && element.layout.visibility) {\n          if (element.id === item.layer.id) {\n            // console.log(\"poligon0000000000000000000\", item.properties.IDABS);\n\n            //console.log('poligon', item._vectorTileFeature._geometry)\n            let id;\n            let idabs;\n            id = \"polygonsQt\";\n\n            idabs = item.properties.IDABS;\n\n            changeHighlightItemStore.set({ item, id, idabs });\n          }\n        }\n      });\n    }\n\n    if (item.layer[\"source-layer\"] === \"FILL\") {\n      overLayers.layers.forEach((element) => {\n        if (element.layout && element.layout.visibility) {\n          if (element.id === item.layer.id) {\n            //console.log(\"poligon0000000000000000000\", item.properties.IDABS);\n\n            //console.log('poligon', item._vectorTileFeature._geometry)\n            let id;\n            let idabs;\n            id = \"polygonsBs\";\n\n            idabs = item.properties.IDABS;\n\n            changeHighlightItemStore.set({ item, id, idabs });\n          }\n        }\n      });\n    }\n\n    //     let ly;\n    //     let op;\n    //     let ty;\n    //     let idabs;\n    //     overLayers.layers.forEach(element => {\n\n    //       if (element.layout && element.layout.visibility) {\n\n    //         if (element.id === item.layer.id) {\n    //  console.log('poligon', item.properties.IDABS)\n\n    //  console.log('eleee', element)\n    //            ly = element.id;\n    //           op =  element.paint;\n    //          idabs = item.properties.IDABS\n    //           ty = element.type\n\n    //           changeColorPropertyStore.set({ ly, op , ty});\n    //           changeHighlightItemStore.set({item,ly,op,idabs,ty})\n\n    //         }\n\n    //       }\n    //     });\n  }\n\n  function changeInitialColorProperty(item) {\n    // console.log('item', item)\n\n    let ly;\n    let op;\n    let ty;\n    overLayers.layers.forEach((element) => {\n      if (element.layout && element.layout.visibility) {\n        //console.log('eleemnt', element)\n\n        if (element.id === item.layer.id) {\n          // console.log('iiiieeee', item.layer.id)\n          //console.log('entro',element.paint[\"fill-color\"])\n          ly = element.id;\n          op = element.paint;\n          ty = element.type;\n\n          changeInitialColorPropertyStore.set({ ly, op, ty });\n        }\n      }\n    });\n  }\n\n  function changePaintProperty(item, value) {\n    let ly;\n    let op;\n    // console.log(item)\n    if (item.value === \"FILLq,PATT1q,LABELq/label\") {\n      overLayers.layers.forEach((element) => {\n        if (element.layout && element.layout.visibility) {\n          if (element[\"source-layer\"] === \"FILLq\") {\n            ly = element.id;\n            op = parseFloat(value / 100);\n            element.paint[\"fill-opacity\"] = op;\n\n            changePaintPropertyStore.set({ ly, op });\n          }\n          if (element[\"source-layer\"].includes(\"PATTq\")) {\n            ly = element.id;\n            op = parseFloat(value / 100);\n            element.paint[\"fill-opacity\"] = op;\n\n            changePaintPropertyStore.set({ ly, op });\n          }\n        }\n      });\n    }\n    if (item.value === \"FILL,PATT1,PATT2,PATT3,PATT4,LABEL/label\") {\n      overLayers.layers.forEach((element) => {\n        if (element.layout && element.layout.visibility) {\n          if (element[\"source-layer\"] === \"FILL\") {\n            ly = element.id;\n            op = parseFloat(value / 100);\n            element.paint[\"fill-opacity\"] = op;\n\n            changePaintPropertyStore.set({ ly, op });\n          }\n          if (element[\"source-layer\"].includes(\"PATT\")) {\n            ly = element.id;\n            op = parseFloat(value / 100);\n            element.paint[\"fill-opacity\"] = op;\n\n            changePaintPropertyStore.set({ ly, op });\n          }\n         \n        }\n      });\n    }\n    if (\n      item.value ===\n      \"Columnes del Paleozoic,Columnes del Mesozoic,Paleogen LINK,Paleogen NO LINK,Neogen LINK,Neogen NO LINK\"\n    ) {\n      overLayers.layers.forEach((element) => {\n        if (element.layout && element.layout.visibility) {\n          if (\n            element[\"source-layer\"] === \"Columnes del Paleozoic\" ||\n            element[\"source-layer\"] === \"Columnes del Mesozoic\" ||\n            element[\"source-layer\"] === \"Paleogen LINK\" ||\n            element[\"source-layer\"] === \"Paleogen NO LINK\" ||\n            element[\"source-layer\"] === \"Neogen LINK\" ||\n            element[\"source-layer\"] === \"Neogen NO LINK\"\n          ) {\n            // console.log('ele', element,value)\n            ly = element.id;\n            op = parseFloat(value / 100);\n\n            element.paint[\"fill-opacity\"] = op;\n            //console.log('jj1222', element.paint)\n            changePaintPropertyStore.set({ ly, op });\n          }\n        }\n      });\n    }\n  }\n\n  function changeStateTallDrawer(tall) {\n    stateTallDrawer.set(tall);\n  }\n\n  setContext(\"overLayers\", overLayers);\n  setContext(\"activateLayer\", activateLayer);\n  setContext(\"activateLayerGroup\", activateLayerGroup);\n  setContext(\"changeBaseLayer\", changeBaseLayer);\n  setContext(\"estilTopo\", estilTopo);\n  setContext(\"changePaintProperty\", changePaintProperty);\n  setContext(\"changeColorProperty\", changeColorProperty);\n  //setContext(\"changeHighlightItem\", changeHighlightItem);\n  setContext(\"changeInitialColorProperty\", changeInitialColorProperty);\n  setContext(\"changePlace\", changePlace);\n  setContext(\"stateTallDrawer\", stateTallDrawer);\n</script>\n\n<style>\n  .container {\n    font-family: Arial, Helvetica, sans-serif;\n  }\n</style>\n\n<div class=\"container\">\n  <PanelTopBar bind:openModalInfo />\n  <PanelIconMenu />\n  <Map\n    lat={41.763}\n    lon={1.443}\n    zoom={7.58}\n    maxZoom={15.8}\n  \n    pitch={0}\n    bearing={0}\n    style={estilTopo}>\n    <!-- <Map lat={41.732} lon={1.732} zoom={8} maxZoom={15} style={estilTopo}> -->\n    <MapDisplayControls />\n    <!-- <LeftMenu /> -->\n    <MapOverlayLayers />\n    <ConsultaPopUp />\n    <!-- <ButtonHome /> -->\n    <!-- <Footer /> -->\n    <!-- <LegendIcon /> -->\n  </Map>\n  <!-- <PanelTall /> -->\n</div>\n",
    "<script>\n  import IconButton, { Icon } from \"@smui/icon-button\";\n\n  import { onMount } from \"svelte\";\n  import { keyApp } from \"../../config\";\n  import { getContext } from \"svelte\";\n\n  import mapbox from \"mapbox-gl\";\n\n  const overLayers = getContext(\"overLayers\");\n  const { getMap } = getContext(keyApp);\n  const map = getMap();\n\n  let llegenda_show = false;\n\n  function changeLlegendaState() {\n    if (changeLlegendaState) {\n      llegenda_show = !llegenda_show;\n    }\n  }\n</script>\n\n<style>\n  .container {\n    width: 200px;\n    background-color: white;\n    right: 10px;\n    padding: 5px;\n    border-radius: 10px !important;\n  }\n\n  .iconmenu {\n    z-index: 1 !important;\n    position: absolute;\n    margin-left: 16px !important;\n   \n    background-color: rgb(255, 255, 255);\n    border-radius: 20px;\n    height: 45px;\n    top: 79px;\n    float: right;\n    width: auto;\n    padding: 0px;\n  }\n  .llegendapdf {\n    z-index: 1000;\n    position: absolute;\n    margin-left: 16px !important;\n    \n    background-color: rgb(255, 255, 255);\n    border-radius: 20px;\n    height: 45px;\n    top: 0px;\n    float: right;\n    width: auto;\n    padding: 0px;\n    right: 56px;\n  }\n\n  @media (max-width: 540px) {\n    .llegendapdf {\n      display: flex;\n      top: initial;\n      right: 0;\n    }\n  }\n</style>\n\n<div class=\"container iconmenu wrapper\">\n\n  <IconButton on:click={changeLlegendaState}>\n    <Icon class=\"material-icons icono\" on>line_style</Icon>\n    <Icon class=\"material-icons icono\">line_style</Icon>\n\n  </IconButton>\n\n  {#if llegenda_show}\n    <div class=\"llegendapdf container\">\n      <embed\n        src=\"assets/icgc_geoindex.pdf\"\n        width=\"330\"\n        height=\"375\"\n        type=\"application/pdf\" />\n    </div>\n  {/if}\n</div>\n",
    "<script>\n  import { onMount, getContext } from \"svelte\";\n  import mapbox from \"mapbox-gl\";\n  import { keyApp } from \"../../config\";\n  import proj4 from \"proj4\";\n\n  const { getMap } = getContext(keyApp);\n  const map = getMap();\n\n  onMount(async() => {\n    map.on(\"mousemove\", function(e) {\n      const auxLat = e.lngLat.lat;\n      const auxLon = e.lngLat.lng;\n      //console.info(auxLat,auxLon)\n\n      proj4.defs([\n        [\n          \"EPSG:25831\",\n          \"+title=ETRS89_utm (m) +proj=utm +zone=31 +ellps=GRS80 +datum=WGS84 +units=m +no_defs\"\n        ],\n        [\n          \"EPSG:4258\",\n          \"+title=ETRS89_lonlat (long/lat) +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs\"\n        ],\n        [\n          \"UTM\",\n          \"+proj=utm +ellps=GRS80 +datum=nad83 +units=m +no_defs +zone=31U\"\n        ]\n      ]);\n      //proj4(fromProjection[, toProjection, coordinates])\n\n      var coords = proj4(\"EPSG:4258\", \"UTM\", [auxLon, auxLat]);\n      var auxX = coords[0];\n      var auxY = coords[1];\n      //console.info(auxX,auxY)\n\n      document.getElementById(\"info\").innerHTML =\n        \"UTM-31N (ETRS89)     X:\" + auxX.toFixed(1) + \"   Y:\" + auxY.toFixed(1);\n    });\n  });\n</script>\n\n<style>\n  #info {\n    display: block;\n    position: absolute;\n    bottom: 0;\n    height: 17px;\n    margin: 0 auto;\n    width: 266px;\n    padding: 2px;\n    padding-bottom: 1.5px;\n    left: 45%;\n    border: none;\n    border-radius: 3px;\n    font-size: 12px;\n    text-align: center;\n    color: #222;\n    background: hsla(0,0%,100%,.849);\n    \n  }\n</style>\n\n\n<div id=\"info\" />\n",
    "<script>\n  import { onMount, onDestroy } from \"svelte\";\n  import { keyApp } from \"../../config\";\n  import { getContext } from \"svelte\";\n  import IconButton, { Icon } from \"@smui/icon-button\";\nimport InfoBox from \"./InfoBox.svelte\";\n  import DrawerBottom from \"../../Panels/PanelTall/DrawerBottom.svelte\";\n\n  import mapbox from \"mapbox-gl\";\n\n  const changePaintProperty = getContext(\"changePaintProperty\");\n  const changeColorProperty = getContext(\"changeColorProperty\");\n  const changeInitialColorProperty = getContext(\"changeInitialColorProperty\");\n  const overLayers = getContext(\"overLayers\");\n  const { getMap } = getContext(keyApp);\n  const map = getMap();\n  //let consulta_show = false;\n  var tallbutton = false\n  var colbutton = false\n  var talltoshow = []\n  var coltoshow = []\n  var linkjpg = '';\n  var linkzip = '';\n  var tall_show = false;\n\n  var selectedTall = [];\n  var selectedCol = [];\n  var selectedTallnom = [];\n  var highliItem = [];\n  var typedata = '';\n  let exportarshow = false\nfunction esborra () {\n// console.log('es aquiwww??')\n  changeInitialColorProperty(highliItem[0]);\n  exportarshow = false\n}\n\n  function changeTallState() {\n    tall_show = !tall_show;\n    // changeInitialColorProperty(highliItem[0]);\n  }\n\n  function removeLastItem(item) {\n    //console.log('lastitem', item)\n  }\nlet exportartextok = '';\nlet exportartext = '';\n  onMount(async () => {\n    var popup = new mapbox.Popup({\n      offset: [0, -15],\n      closeOnClick: false,\n      closeButton: true,\n    });\n\n    //     console.log('abans', highliItem)\n    map.on(\"click\", function (e) {\n      popup.addTo(map).on(\n        \"close\",\n        function (e) {\n          // console.log(\"estic entrant??\", highliItem[0]);\n          // console.log('es aqui??')\n          // changeInitialColorProperty(highliItem[0]);    ///he borrador esto\n        }\n        // \"click\", changeTallState\n      );\n\n      var bbox = [\n        [e.point.x - 6.0, e.point.y - 6.0],\n        [e.point.x + 6.0, e.point.y + 6.0],\n      ];\n\n      var features = map.queryRenderedFeatures(bbox);\n      // console.log(\"info\", features[0]);\n\n// console.log(\"info\", features);\n\nif (features[0].layer.id.includes('Basament') || features[0].layer.id.includes('quaternaris')){\n  features.forEach((capa) => {\n    // console.log('kpa', capa)\n    if (features[0].layer.id.includes('PATT')){\n\n       if (capa.sourceLayer.includes('FILL')) {\n          // console.log('kpafill', capa)\n             features = [capa]\n            //  console.log('capa', capa.layer.id)\n          }\n    }\n       \n       \n    })\n\n  \n}\n// if (features[0].layer.id.includes('quaternaris')){\n//   features.forEach((capa) => {\n//         if (capa.sourceLayer === 'FILLq') {\n//           console.log('kpafillq', capa)\n//              features = capa\n//           }\n       \n//     })\n\n  \n// }\nelse{\n  features=[features[0]]  \n}\n                 //nomès pasa el de més amunt. \n// console.log(\"info2\", features);\n      let text = '';\n      let exportartext = '';\n      // let text = '<h3 style=\"color: #1a4971\">Descripció:</h3>';\n      var elementsArray = [];\n      var highlightedItems = [];\n\n      var episArray = [];\n      var idabsArray = [];\n      var edatArray = [];\n      var edatMetArray = [];\n      var epocaArray = [];\n      var eraArray = [];\n      var metArray = [];\n      var obsEdatArray = [];\n      var periodeArray = [];\n      var tallArray = [];\n      var colArray = [];\n      var inclinArray = [];\n      var dirArray = [];\n      var relArray = [];\n      var antroArray = [];\n      var estructArray = [];\n      var tallnomArray = [];\n      var tipusArray = [];\n\n      highlightedItems.push(features);\n\n      if (highliItem[0] !== undefined) {\n        // console.log('hello', highliItem[0])\n        changeInitialColorProperty(highliItem[0]);\n      }\n\n      highlightedItems.forEach((highItem) => {\n      \n        if (highItem.source === \"infogeo\" || highItem[0].source === \"infogeo\") {\n          highliItem = [];\n        \nif (highItem[0].layer.id.includes('FILL')){  //BS/QT\n\n\n      changeColorProperty(highItem[0]);\n      highliItem.push(highItem[0]);\n\n}\nelse{\n          changeColorProperty(highItem[0]);\n          highliItem.push(highItem[0]);\n        }}\n      });\n\n      // ELEMENTS A MOSTRAR AL POPUP //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n      features.forEach((element) => {\n        // console.log('elem', element)\n    \n        if (\n          element.source === \"infogeo\" &&\n          element.properties.DESCRIPCIO //importem descripcio\n        ) {\n          let desc = element.properties.DESCRIPCIO;\n          // console.log('oooooooo', element)\n          if (elementsArray.includes(desc)) {\n          } else {\n            elementsArray.push(desc);\n          }\n\n          if (element.properties.CODI_CAS != undefined) {\n            //importem CODI_CAS\n            let epigraf_publ = element.properties.CODI_CAS;\n\n            if (episArray.includes(epigraf_publ)) {\n            } else {\n              episArray.push(epigraf_publ);\n            }\n          }\n          if (element.properties.CODI_CAS == undefined && element.properties.ID_MAPA != undefined) {\n            let epigraf_publ = element.properties.ID_MAPA;\n\n            if (episArray.includes(epigraf_publ)) {\n            } else {\n              episArray.push(epigraf_publ);\n            }\n          }\n          if (element.properties.CODI_CAS == undefined && element.properties.EPIGRAF != undefined) {\n            let epigraf_publ = element.properties.EPIGRAF;\n\n            if (episArray.includes(epigraf_publ)) {\n            } else {\n              episArray.push(epigraf_publ);\n            }\n          }\n\n    \n\n          if (\n            element.sourceLayer === \"FILLq\" ||\n            element.sourceLayer === \"FILL\" \n          ) {\n            //importem codi IDABS dels poligons\n\n            let idabs_publ = element.properties.IDABS;\n            let edat_publ = element.properties.EDAT;\n            let epoca_publ = element.properties.EPOCA;\n            let era_publ = element.properties.ERA;\n            let periode_publ = element.properties.PERIODE;\n            let edatMet_publ = element.properties.EDAT_MET;\n            let met_publ = element.properties.MET;\n            let obsEdat_publ = element.properties.OBS_EDAT;\n\n            if (idabsArray.includes(idabs_publ)) {\n            } else {\n              idabsArray.push(idabs_publ);\n            }\n            if (edatArray.includes(edat_publ)) {\n            } else {\n              edatArray.push(edat_publ)\n            }\n            if (epocaArray.includes(epoca_publ)) {\n            } else {\n              epocaArray.push(epoca_publ)\n            }\n            if (eraArray.includes(era_publ)) {\n            } else {\n              eraArray.push(era_publ)\n            }\n            if (periodeArray.includes(periode_publ)) {\n            } else {\n              periodeArray.push(periode_publ)\n            }\n            if (edatMetArray.includes(edatMet_publ)) {\n            } else {\n              edatMetArray.push(edatMet_publ)\n            }\n            if (metArray.includes(met_publ)) {\n            } else {\n              metArray.push(met_publ)\n            }\n            if (obsEdatArray.includes(obsEdat_publ)) {\n            } else {\n              obsEdatArray.push(obsEdat_publ)\n            }\n\n\n          } else {\n            idabsArray.push(null);\n          }\n\n\n\n\n\n          if (element.sourceLayer === \"Traces de talls geològics\") {\n            //importem nom talls\n            // console.log('tallarryay',)\n            let talls_publ = element.properties.DESCRIPCIO;\n            let talls_nom = element.properties.ID_MAPA;\n\n            if (tallArray.includes(talls_publ)) {\n              // console.log('tallarrassy')\n            } else {\n              tallArray.push(talls_publ);\n              tallnomArray.push(talls_nom)\n              \n              // console.log('tallarray', element)\n              selectedTall = element.properties.NOM_TALL;\n              talltoshow = element.properties.ID_MAPA\n              linkzip = element.properties.LINK_ZIP\n              tallbutton=true\n              colbutton=false\n              typedata='talls'\n              // getMyFile(talls_publ)\n            }\n            // if (tallnomArray.includes(talls_nom)) {\n            // } else {\n            //   tallnomArray.push(talls_nom);\n            //   selectedTallnom = talls_nom;\n\n            //   // getMyFile(talls_publ)\n            // }\n          }\n\n         \n        if (element.sourceLayer === \"Paleozoic NO LINK\"  ||\n            element.sourceLayer === \"Paleozoic LINK\"  ||\n            element.sourceLayer === \"Mesozoic NO LINK\"  ||\n            element.sourceLayer === \"Mesozoic LINK\"  ||\n            element.sourceLayer === \"Paleogen LINK\"  ||\n            element.sourceLayer === \"Paleogen NO LINK\"  ||\n            element.sourceLayer === \"Neogen LINK\"  ||\n            element.sourceLayer === \"Neogen NO LINK\") {\n          //  console.log('consulta columnes ', colArray)\n            let cols_publ = element.properties.DESCRIPCIO;\n              let idabs_publ = element.properties.ID_MAPA;\n            let cols_jpg = element.properties.LINK_COL;\n            let cols_zip = element.properties.LINK_ZIP;\n            if (colArray.includes(cols_publ)) {\n            } else {\n              colArray.push(cols_publ);\n              idabsArray.push(idabs_publ)\n              selectedTall = element.properties.NOM_COL;\n              // coltoshow = element.properties.NOM_COL\n              linkjpg = element.properties.LINK_COL\n              linkzip = element.properties.LINK_ZIP\n              colbutton=true\n              tallbutton=false\n              typedata='cols'\n              // getMyFile(talls_publ)\n            }\n            // if (tallnomArray.includes(talls_nom)) {\n            // } else {\n            //   tallnomArray.push(talls_nom);\n            //   selectedTallnom = talls_nom;\n\n            //   // getMyFile(talls_publ)\n            // }\n          }\n\n          if (element.sourceLayer === \"Esquemes de relacions estratigràfiques\") {\n          //  console.log('consulta relacions ')\n            let cols_publ = element.properties.DESCRIPCIO;\n            let idabs_publ = element.properties.ID_MAPA;\n            if (relArray.includes(cols_publ)) {\n            } else {\n              relArray.push(cols_publ);\n              idabsArray.push(idabs_publ)\n              selectedTall = element.properties.IDABS;\n           \n              linkjpg = element.properties.LINK_REL\n              linkzip = element.properties.LINK_ZIP\n              colbutton=true\n              tallbutton=false\n              typedata='relacions'\n         \n                 }\n          }\n\n          if (element.layer.id.includes('Terrenys antropitzats')) {\n          //  console.log('consulta ANTROPICS ')\n            let cols_publ = element.properties.DESCRIPCIO;\n            let idabs_publ = element.properties.CODI_CAS;\n            let tipus = element.properties.TIPUS;\n            let edat = element.properties.EDAT;\n\n\n            if (antroArray.includes(cols_publ)) {\n            } else {\n              antroArray.push(cols_publ);\n              idabsArray.push(idabs_publ);\n              tipusArray.push(tipus);\n              edatArray.push(edat);\n              selectedTall = element.properties.EPIGRAF;\n           \n              colbutton=false\n              tallbutton=false\n              typedata='antropics'\n              // console.log('consulta ANTROPICS ', colbutton, tallbutton)\n                 }\n          }\n          if (element.layer.id.includes(`Mesures d'estructures`)) {\n          //  console.log('consulta estructures ')\n            let cols_publ = element.properties.DESCRIPCIO;\n            let cols_incl = element.properties.INCLIN;\n            let cols_dir = element.properties.DIR;\n            if (estructArray.includes(cols_publ)) {\n            } else {\n              estructArray.push(cols_publ);\n              inclinArray.push(cols_incl);\n              dirArray.push(cols_dir);\n              selectedTall = element.properties.EPIGRAF;\n           \n              colbutton=false\n              tallbutton=false\n              typedata='estructures'\n              // console.log('consulta estructuress ', colbutton, tallbutton)\n                 }\n          }\n\n        }\n      });\n\n      // iniciem exportacio dades segons contingut al clic////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n      if (elementsArray.length !== 0) {\n        // console.log('talld', elementsArray)\n        if (tallArray.length !== 0) {\n          //  console.log('tall', tallArray)\n          var descarregaTall = `<a href=\"${linkzip}\" style=\"color: #1a4971\">Descarrega el tall</a>`;\n          var tall =\n            `<button id=\"view-full\" style=\"color: #1a4971\">Veure el tall</button>` \n\n          text =\n            text +\n            tall +\n            `<div>\n                                                          <p style=\"color: #666\">TALL: ${tallArray}</p>\n                                                          \n                                                                                                           \n                                                          \n                                                          </div>` +\n                                                          descarregaTall;\n        exportartext = text\n         \n        let ep =  tallnomArray[0]+` :  `+ tallArray[0];\n                                                                       \n                                                                          exportartext = [\n                                                                            {'ep': ep}, \n                                                                          ]\n        }\nif (edatArray[0] === \" \"){\n  if (epocaArray[0]===undefined || epocaArray[0]== \" \"){\n                if (idabsArray[0] !== null && epocaArray.length == 0 ) {\n                  // console.log('entro axxxxxddddddddddddddquia', idabsArray)\n                  tallbutton = false\n                  colbutton = false\n                          text =\n                            text +\n                            `<div>\n                                                                          <p style=\"color: #666\"><b>${episArray[0]}:</b> ${elementsArray[0]}</p>\n                                                                          <p style=\"color: #666\">Era: ${eraArray[0]}</p>\n                                                                          <p style=\"color: #666\">Període: ${periodeArray[0]}</p>\n                                                                          <p style=\"color: #666\">Època: ${epocaArray[0]}</p>\n                                                                         \n                                                                          <p style=\"color: #666\">Full25m: ${idabsArray[0]}</p>\n                                                                          </div>`;\n                                                                          \n                                                                          let ep =  episArray[0]+` :  `+ elementsArray[0];\n                                                                          // console.log('ep', ep)\n                                                                          exportartext = [\n                                                                            {'ep':ep},\n                                                                            {'Era': eraArray[0]},\n                                                                            {'Període': periodeArray[0]},\n                                                                            {'Època': epocaArray[0]},\n                                                                            {'Full MGC25m-GTI': idabsArray[0]}\n\n                                                                          ]\n                        }\n          }\n  if (metArray[0]===undefined || metArray[0]== \" \"){\n    if (idabsArray[0] !== null && tallArray.length == 0 && epocaArray[0] === \" \") {\n                  // console.log('entro axxxxxquia', epocaArray[0]) //aqui entra si nomes epoca es ''\n                  tallbutton = false\n                  colbutton = false\n                          text =\n                            text +\n                            `<div>\n                                                                          <p style=\"color: #666\"><b>${episArray[0]}:</b> ${elementsArray[0]}</p>\n                                                                          <p style=\"color: #666\">Era: ${eraArray[0]}</p>\n                                                                          <p style=\"color: #666\">Període: ${periodeArray[0]}</p>\n                                                                       \n                                                                         \n                                                                          <p style=\"color: #666\">Full25m: ${idabsArray[0]}</p>\n                                                                          </div>`;\n                                                                          \n                                                                          let ep =  episArray[0]+` :  `+ elementsArray[0];\n                                                                          // console.log('ep', ep)\n                                                                          exportartext = [\n                                                                            {'ep':ep},\n                                                                            {'Era': eraArray[0]},\n                                                                            {'Període': periodeArray[0]},\n                                                                          \n                                                                            {'Full MGC25m-GTI': idabsArray[0]}\n\n                                                                          ]\n                        }\n                if (idabsArray[0] !== null && tallArray.length == 0 && epocaArray[0].length > 1) {\n                  // console.log('entro axxxxddxquia', epocaArray[0]) //aqui entra si nomes epoca es ''\n                  tallbutton = false\n                  colbutton = false\n                          text =\n                            text +\n                            `<div>\n                                                                          <p style=\"color: #666\"><b>${episArray[0]}:</b> ${elementsArray[0]}</p>\n                                                                          <p style=\"color: #666\">Era: ${eraArray[0]}</p>\n                                                                          <p style=\"color: #666\">Període: ${periodeArray[0]}</p>\n                                                                          <p style=\"color: #666\">Època: ${epocaArray[0]}</p>\n                                                                         \n                                                                          <p style=\"color: #666\">Full25m: ${idabsArray[0]}</p>\n                                                                          </div>`;\n                                                                          \n                                                                          let ep =  episArray[0]+` :  `+ elementsArray[0];\n                                                                          // console.log('ep', ep)\n                                                                          exportartext = [\n                                                                            {'ep':ep},\n                                                                            {'Era': eraArray[0]},\n                                                                            {'Període': periodeArray[0]},\n                                                                            {'Època': epocaArray[0]},\n                                                                            {'Full MGC25m-GTI': idabsArray[0]}\n\n                                                                          ]\n                        }\n          } else{\n          \n           \n                if (idabsArray[0] !== null && tallArray.length == 0 ) {\n                  //SI TE CODI IDABS (POLIGON)\n                  // console.log('entro aaaaaquia', epocaArray, edatArray) // aqui entra si epoc i edat es ''\n                  tallbutton = false\n                  colbutton = false\n                  \n                  if (epocaArray[0]=== \" \" && edatArray[0]=== \" \"){\n// epoca i edat no declarada\n\n\ntext =\n                    text +\n                    `<div>\n                                                                  <p style=\"color: #666\"><b>${episArray[0]}:</b> ${elementsArray[0]}</p>\n                                                                  <p style=\"color: #666\">Era: ${eraArray[0]}</p>\n                                                                  <p style=\"color: #666\">Període: ${periodeArray[0]}</p>\n                                                                  <p style=\"color: #666\">Edat del metamorfisme.: ${edatMetArray[0]}</p>\n                                                                  <p style=\"color: #666\">Metamorfisme: ${metArray[0]}</p>\n                                                                  <p style=\"color: #666\">Full25m: ${idabsArray[0]}</p>\n                                                                  </div>`;\n                                                                  \n                                                                  let ep =  episArray[0]+` :  `+ elementsArray[0];\n                                                                          exportartext = [\n                                                                            {'ep':ep},\n                                                                            {'Era': eraArray[0]},\n                                                                            {'Període': periodeArray[0]},\n                                                                            {'Edat del metamorfisme.': edatMetArray[0]},\n                                                                            {'Metamorfisme': metArray[0]},\n                                                                            {'Full MGC25m-GTI': idabsArray[0]}\n\n                                                                          ]\n\n\n\n\n\n                  } else{\n                  // si epoca i edat\n                  \n                  text =\n                    text +\n                    `<div>\n                                                                  <p style=\"color: #666\"><b>${episArray[0]}:</b> ${elementsArray[0]}</p>\n                                                                  <p style=\"color: #666\">Era: ${eraArray[0]}</p>\n                                                                  <p style=\"color: #666\">Període: ${periodeArray[0]}</p>\n                                                                  <p style=\"color: #666\">Època: ${epocaArray[0]}</p>\n                                                                  <p style=\"color: #666\">Edat: ${edatArray[0]}</p>\n\n                                                                  <p style=\"color: #666\">Edat del metamorfisme.: ${edatMetArray[0]}</p>\n                                                                  <p style=\"color: #666\">Metamorfisme: ${metArray[0]}</p>\n                                                                  <p style=\"color: #666\">Full25m: ${idabsArray[0]}</p>\n                                                                  </div>`;\n                                                                  \n                                                                  let ep =  episArray[0]+` :  `+ elementsArray[0];\n                                                                          exportartext = [\n                                                                            {'ep':ep},\n                                                                            {'Era': eraArray[0]},\n                                                                            {'Període': periodeArray[0]},\n                                                                            {'Època': epocaArray[0]},\n                                                                            {'Edat': edatArray[0]},\n                                                                            {'Edat del metamorfisme.': edatMetArray[0]},\n                                                                            {'Metamorfisme': metArray[0]},\n                                                                            {'Full MGC25m-GTI': idabsArray[0]}\n\n                                                                          ]\n                }\n              }\n          \n          \n          }\n\n\n}else{\n  if (metArray[0]===undefined || metArray[0]== \" \"){\n                if (idabsArray[0] !== null && tallArray.length == 0 ) {\n                  // console.log('entro aqssuia', idabsArray)\n                  tallbutton = false\n                  colbutton = false\n                          text =\n                            text +\n                            `<div>\n                                                                          <p style=\"color: #666\"><b>${episArray[0]}:</b> ${elementsArray[0]}</p>\n                                                                          <p style=\"color: #666\">Era: ${eraArray[0]}</p>\n                                                                          <p style=\"color: #666\">Període: ${periodeArray[0]}</p>\n                                                                          <p style=\"color: #666\">Època: ${epocaArray[0]}</p>\n                                                                          <p style=\"color: #666\">Edat: ${edatArray[0]}</p>\n                                                                          <p style=\"color: #666\">Full25m: ${idabsArray[0]}</p>\n                                                                          </div>`;\n                                                                          let ep =  episArray[0]+` :  `+ elementsArray[0];\n                                                                          exportartext = [\n                                                                            {'ep':ep},\n                                                                            {'Era': eraArray[0]},\n                                                                            {'Període': periodeArray[0]},\n                                                                            {'Època': epocaArray[0]},\n                                                                            {'Edat': edatArray[0]},\n                                                                            {'Full MGC25m-GTI': idabsArray[0]}\n\n                                                                          ]\n                        }\n          } else{\n          \n           \n                if (idabsArray[0] !== null && tallArray.length == 0 ) {\n                  //SI TE CODI IDABS (POLIGON)\n                  // console.log('entro aquia', idabsArray)\n                  tallbutton = false\n                  colbutton = false\n                  text =\n                    text +\n                    `<div>\n                                                                  <p style=\"color: #666\"><b>${episArray[0]}:</b> ${elementsArray[0]}</p>\n                                                                  <p style=\"color: #666\">Era: ${eraArray[0]}</p>\n                                                                  <p style=\"color: #666\">Període: ${periodeArray[0]}</p>\n                                                                  <p style=\"color: #666\">Època: ${epocaArray[0]}</p>\n                                                                  <p style=\"color: #666\">Edat: ${edatArray[0]}</p>\n\n                                                                  <p style=\"color: #666\">Edat del metamorfisme.: ${edatMetArray[0]}</p>\n                                                                  <p style=\"color: #666\">Metamorfisme: ${metArray[0]}</p>\n                                                                  <p style=\"color: #666\">Full25m: ${idabsArray[0]}</p>\n                                                                  </div>`;\n                                                                  let ep =  episArray[0]+` :  `+ elementsArray[0];\n                                                                          exportartext = [\n                                                                            {'ep':ep},\n                                                                            {'Era': eraArray[0]},\n                                                                            {'Període': periodeArray[0]},\n                                                                            {'Època': epocaArray[0]},\n                                                                            {'Edat': edatArray[0]},\n                                                                            {'Edat del metamorfisme.': edatMetArray[0]},\n                                                                            {'Metamorfisme': metArray[0]},\n                                                                            {'Full MGC25m-GTI': idabsArray[0]}\n\n                                                                          ]\n                }\n          \n          \n          }\n\n\n}\n          // if (metArray[0]===undefined || metArray[0]== \" \"){\n          //       if (idabsArray[0] !== null && tallArray.length == 0 ) {\n     \n          //                 text =\n          //                   text +\n          //                   `<div>\n          //                                                                 <p style=\"color: #666\">${episArray[0]}: ${elementsArray[0]}</p>\n          //                                                                 <p style=\"color: #666\">Era: ${eraArray[0]}</p>\n          //                                                                 <p style=\"color: #666\">Període: ${periodeArray[0]}</p>\n          //                                                                 <p style=\"color: #666\">Època: ${epocaArray[0]}</p>\n          //                                                                 <p style=\"color: #666\">Edat: ${edatArray[0]}</p>\n          //                                                                 <p style=\"color: #666\">IDABS: ${idabsArray[0]}</p>\n          //                                                                 </div>`;\n          //               }\n          // } else{\n          \n           \n          //       if (idabsArray[0] !== null && tallArray.length == 0 ) {\n          //         //SI TE CODI IDABS (POLIGON)\n              \n          //         text =\n          //           text +\n          //           `<div>\n          //                                                         <p style=\"color: #666\">${episArray[0]}: ${elementsArray[0]}</p>\n          //                                                         <p style=\"color: #666\">Era: ${eraArray[0]}</p>\n          //                                                         <p style=\"color: #666\">Període: ${periodeArray[0]}</p>\n          //                                                         <p style=\"color: #666\">Època: ${epocaArray[0]}</p>\n          //                                                         <p style=\"color: #666\">Edat: ${edatArray[0]}</p>\n\n          //                                                         <p style=\"color: #666\">Edat del metamorfisme.: ${edatMetArray[0]}</p>\n          //                                                         <p style=\"color: #666\">Metamorfisme: ${metArray[0]}</p>\n          //                                                         <p style=\"color: #666\">IDABS: ${idabsArray[0]}</p>\n          //                                                         </div>`;\n          //       }\n          \n          \n          // }\n\n       \n        if (idabsArray[0] === null && tallArray.length == 0 && inclinArray.length == 0 ) {\n          \n          //SI NO TE CODI IDABS (LINE/SYMBOL)\n          if (colArray[0] !== null && inclinArray.length == 0 && idabsArray[0] !== null) {    // columnes estrati\n          // console.log('entro col estraEEEEti', colArray, idabsArray)\n          //SI NO TE CODI IDABS (LINE/SYMBOL)\n\n          text =\n            idabsArray[1] +elementsArray[0]\n                                                          \n                                               \n                                                          \n            let ep =  idabsArray[1]+` :  `+ elementsArray[0];\n                                                                          exportartext = [\n                                                                            {'ep':ep},]\n        }\n\n        if (colArray[0] !== null && inclinArray.length == 0 &&  tipusArray[0] !== null) {    // contactes i antropic\n          // console.log('entro antropic',idabsArray, colArray[0],edatArray[0] )\n          //SI NO TE CODI IDABS (LINE/SYMBOL)\n\n          text =\n            idabsArray[1] +elementsArray[0]\n            let ep\n                                                if (idabsArray[1] !== undefined && colArray[0] !== undefined ){ //antropic\n                                                  // console.log('antropiiiiiii')\n                                                   ep =   idabsArray[1]+` :  `+ elementsArray[0];   \n\n                                                }     else{  //contactes fallles\n                                                  // console.log('antropffffffiiiiiii')\n                                                  if (edatArray[0] !== undefined && edatArray[0].length !== 1 && elementsArray[0].includes('Contacte')){\n                                                        // console.log('contacte', edatArray[0].length)\n                                                        ep =  elementsArray[0]; \n                                                      }\n                                                      if (edatArray[0] !== undefined && edatArray[0].length !== 1 && !elementsArray[0].includes('Contacte')){\n                                                        // console.log('edat', edatArray[0].length)\n                                                        ep =   elementsArray[0]; \n                                                      }else{\n                                                        // console.log('jjj')\n                                                       \n                                                        if (elementsArray[0].includes('Esquema')){\n                                                          ep =   idabsArray[1]+` :  `+ elementsArray[0]; \n                                                        }else{\n                                                           ep =    elementsArray[0];\n                                                        }\n                                                      }\n                                                   \n                                                }     \n                                                \n                                               \n            // let ep =   idabsArray[1]+` :  `+ elementsArray[0];                                            \n            // let ep =    elementsArray[0];\n                                                                          exportartext = [\n                                                                            {'ep':ep},\n                                                                            {'Tipus': tipusArray[0]},\n                                                                            // {'Edat': edatArray[0]},\n                                                                          ]\n        }\n        if (colArray[0] !== null && inclinArray.length == 0 && tipusArray[0]=== null && idabsArray[1] === null && idabsArray[1] === undefined) {    // contactes\n          // console.log('entro cONTACTES', colArray,idabsArray, elementsArray )\n          //SI NO TE CODI IDABS (LINE/SYMBOL)\n\n          text =\n            idabsArray[1] +elementsArray[0]\n                                                          \n                                               \n                                                          \n            let ep =   elementsArray[0];\n                                                                          exportartext = [\n                                                                            {'ep':ep},\n                                                                          ]\n        }\n\n        if (colArray[0] !== null && inclinArray.length == 0 && idabsArray[0] === null && idabsArray[1] !== undefined &&  tipusArray[0] === null ) {    // ESQUEMES RELACIONS\n          // console.log('entro col estrati', tipusArray,edatArray,idabsArray, elementsArray )\n          //SI NO TE CODI IDABS (LINE/SYMBOL)\n\n          text =\n            idabsArray[1] +elementsArray[0]\n                                                          \n                                               \n                                                          \n            let ep =   idabsArray[1]+` :  `+ elementsArray[0];\n                                                                          exportartext = [\n                                                                            {'ep':ep},]\n        }\n\n\n      }\n\n\n\n        if (idabsArray[0] !== null && tallArray.length !== 0 && inclinArray.length == 0){\n          // console.log('entro aquia', idabsArray)\n          text =\n            episArray[0] +elementsArray[0]\n                                                          \n                                               \n                                                          \n            let ep =  episArray[0]+` :  `+ elementsArray[0];\n                                                                          exportartext = [\n                                                                            {'ep':ep},]\n\n\n\n\n\n\n\n                                                                            \n        }\n      \n        if (colArray.length== 0 && inclinArray.length !== 0) {    // mesures\n          // console.log('entro mesures', colArray,inclinArray, dirArray,elementsArray)\n          //SI NO TE CODI IDABS (LINE/SYMBOL)\n\n\n          text =\n                            text +\n                            `<div>\n                                                                          \n                                                                          <p style=\"color: #666\">${elementsArray[0]}</p>\n                                                                          <p style=\"color: #666\">Inclinació: ${inclinArray[0]}</p>\n                                                                          <p style=\"color: #666\">Direcció: ${dirArray[0]}</p>\n                                                                         \n                                                                          \n                                                                          </div>`;\n                                                                          \n                                                                          let ep =  episArray[0]+` :  `+ elementsArray[0];\n                                                                          // console.log('ep', ep)\n                                                                          exportartext = [\n                                                                            {'':elementsArray[0]},\n                                                                            {'Inclinació': inclinArray[0]},\n                                                                            {'Direcció': dirArray[0]},\n                                                                        \n                                                                          ]\n\n\n\n\n\n                                                                        \n\n\n////\n          // text =\n          //   idabsArray[1] +elementsArray[0]\n                                                          \n                                               \n                                                          \n          //   let ep =  idabsArray[1]+` :  `+ elementsArray[0];\n          //                                                                 exportartext = [\n          //                                                                   {'ep':ep},]\n        }\n      \n      \n\n        \n      \n//  console.log('text', exportartext)   \n let showthatText = [];\n    exportartext.forEach(element => {\n      let str = JSON.stringify(element)\n      // console.log('e', str)\n      str = str.replace('\"\":', '').replace('\"',' ').replace('{','').replace('}','').replace('\":\"',': ').replace('\"', '').replace('ep:', '')\n      showthatText.push(str)\n      // console.log(showthatText)\n    });\n  exportartextok = showthatText    \n  exportarshow = true\n  // console.log('textok', exportartextok)\n        // popup.setHTML(icono).setLngLat(e.lngLat);\n\n        // document\n        //   .getElementById(\"view-full\")\n        //   .addEventListener(\"click\", changeTallState);\n      }\n\n    });\n    // console.log('oooooooooooooooooooooooo')\n   \n\n\n  });\n</script>\n\n<style>\n  .mapbox-popup {\n    max-width: 400px;\n    font: 12px/20px;\n    font-family: Arial, Helvetica, sans-serif;\n    border-radius: 10px !important;\n    box-shadow: 0 5px 2px rgba(0, 0, 0, 0.1) !important;\n    padding: 5px 8px 4px 8px !important;\n    font-family: Arial, Helvetica, sans-serif;\n  }\n  .mapboxgl-popup-content {\n    position: relative;\n    background: #fff;\n    border-radius: 10px !important;\n    box-shadow: 0 5px 2px rgba(0, 0, 0, 0.1) !important;\n    padding: 5px 8px 4px 8px !important;\n    pointer-events: auto;\n    font-family: Arial, Helvetica, sans-serif;\n  }\n  .iconoConsulta {\n    position: absolute;\n    margin-top: 132px;\n    right: 17px;\n  }\n  .containerDiv {\n    width: 80%;\n  }\n  .modal-overlay {\n    z-index: 2000;\n    font-size: 10px !important;\n    /* overflow: auto;\ndisplay: flex;\n position: fixed;\n    top: 35%;\n    left: 30%;\n    transform: translate(-23%,-23%); */\n  }\n  .modal-container {\n    overflow: auto;\n    display: block;\n    position: fixed;\n    top: 36%;\n    left: 26%;\n    bottom: 0;\n    transform: translate(-23%, -23%);\n    font-family: Arial, Helvetica, sans-serif;\n  }\n  .textModal {\n    font-size: small !important;\n    font-family: Arial, Helvetica, sans-serif;\n  }\n  .hola{\n  \n    background-color: #fff;\n    position: absolute;\n    top: 4.5em;\n    right: 0.51em;\n    width: 17em;\n    border-radius: 19px;\n    border-color: black;\n    border-style: solid;\n    border-width: 1px;\n    box-shadow: black;\n    padding-left: 15px;\n    padding-right: 10px;\n    padding-top: 5px;\n    \n  }\n</style>\n\n{#if exportarshow}\n<div class='hola'>\n  \n    <Icon style=\"        cursor: pointer;font-size: 28px; float: right;    color: black;    top: 0.23em;    position: relative;\" class=\" material-icons iconoConsulta\" on:click={esborra}>close</Icon>\n\n<InfoBox {exportartextok}  />\n      {#if tallbutton}\n      <button id=\"view-full\" style=\"color: #1a4971\" on:click={changeTallState}>Visualitza</button>\n      <a href={linkzip} style=\"color: #1a4971\">Descarrega</a>\n      \n\n      {/if}\n      {#if colbutton}\n      <button id=\"view-full\" style=\"color: #1a4971\" on:click={changeTallState}>Visualitza</button>\n      <a href={linkzip} style=\"color: #1a4971\">Descarrega</a>\n     \n      {/if}\n\n\n</div>\n\n\n{/if}\n\n{#if tall_show}\n  <div class=\"containerDiv\">\n  <DrawerBottom selected={selectedTall} {linkjpg} {linkzip} typedata={typedata}/>\n    <IconButton \n      on:click={changeTallState}\n      style=\"    position: absolute;\nright:50%;\nbottom: -14px;\nz-index: 10;\">\n      <Icon\n        style=\"        font-size: 30px;\ncolor: white;\nborder-style: solid;\nborder-radius: 17px;\nborder-width: 1px;\nbackground-color: black;\"\n        class=\" material-icons  \">\n        close\n      </Icon>\n    </IconButton>\n  </div>\n{/if}\n",
    "<script>\r\n\r\n    export let exportartextok;\r\n\r\n// let showthatText = [];\r\n//     exportartextok.forEach(element => {\r\n//       let str = JSON.stringify(element)\r\n//       console.log('e', str)\r\n//       str = str.replace('\"',' ').replace('{','').replace('}','').replace('\":\"',': ').replace('\"', '')\r\n//       showthatText.push(str)\r\n//       console.log(showthatText)\r\n//     });\r\n\r\n</script>\r\n<style>\r\n .hola{\r\n  \r\n  background-color: #ffffff;\r\n  position: absolute;\r\n  top: 4.5em;\r\n  right: 0%;\r\n  width: 20em;\r\n}\r\np, h4{\r\n  font-family: Fira Sans,Times,serif;\r\n    \r\n  \r\n}\r\n#text{\r\n  font-family: Fira Sans,Times,serif;\r\n    font-size: 13px;\r\n}\r\n</style>\r\n\r\n    \r\n  <h4>Informació</h4>\r\n  <div id=\"text\">\r\n    {#each exportartextok as info}\r\n  <p>{info}</p>\r\n    \r\n  {/each}\r\n \r\n  </div>\r\n  \r\n  \r\n",
    "<script>\n  import { onMount, setContext, onDestroy, getContext } from \"svelte\";\n  import {\n    activateLayerStore,\n    changeHighlightItemStore,\n    changeBaseLayerStore,\n    changePaintPropertyStore,\n    changeColorPropertyStore,\n    changeInitialColorPropertyStore,\n    changePlaceStore,\n  } from \"../../Utils/stores.js\";\n  // import mapbox from \"mapbox-gl\";\n  import { miraCentreDins } from \"../../Utils/Utils.svelte\";\n  import { mapbox } from \"./mapbox.js\";\n  import { keyApp } from \"../../config\";\n  import { layerTree, urlTerrainICGC } from \"../../config\";\n  import { each } from \"svelte/internal\";\n  import Logo_map from \"../../UI/Logo_map.svelte\";\n  setContext(keyApp, {\n    getMap: () => map,\n  });\n\n  export let lat;\n  export let lon;\n  export let zoom;\n  export let maxZoom;\n  export let style;\n  export let pitch;\n  export let bearing;\n  // export let map;\n  export let map = undefined;\n  //export let item;\n\n  let overLayers = getContext(\"overLayers\");\n  const activateLayerGroup = getContext(\"activateLayerGroup\");\n  const changePaintProperty = getContext(\"changePaintProperty\");\n  let canvas \n  let container;\n\n\n  onMount(async () => {\n    mapbox.accessToken =\n      \"pk.eyJ1IjoibHN0aXoiLCJhIjoiY2s5dGtnNTZ2MWVybzNobjEyam0yd2E3MyJ9.6dCvGbS93SKGMbOqZA4Qag\";\n\n    map = new mapbox.Map({\n      container,\n      style,\n      hash: true,\n      center: [lon, lat],\n      zoom,\n      maxZoom,\n      \n      bearing,\n      pitch,\n      logoPosition: \"top-right\", //logo mapbox\n      attributionControl: false,\n    });\n\n    // map.on(\"load\", (event) => {\n    //   window.devicePixelRatio=1\n    //   addSources().then(function () {\n    //     addTerrain3d();\n    //   });\n    // });\n    map.once(\"load\", (event) => {\n      addSources().then(function () {\n        addTerrain3d();\n      \n      });\n      \n      console.log(\"\");\n      map.resize();\n      let visib = false;\n      layerTree.forEach((element) => {\n        if (\n          element.groupId === \"opt_basament\" ||\n          element.groupId === \"opt_quaternari\"\n        ) {\n        } else {\n          activateLayerGroup(element, visib);\n        }\n      });\n\n\n\n\n      //addlayers\n\n\n\n      /// end\n      layerTree.forEach((element) => {\n        //console.log('ele', element.groupLabel)\n        element.items.forEach((item) => {\n          // console.log('ii', item)\n          changePaintProperty(item, 50);\n        });\n      });\n      console.log(\"\");\n\n    });\n  });\n\n  function resize() {\n    var factor = 0.5; // percentage of the screen\n    var w = window.innerWidth * factor;\n    var h = window.innerHeight * factor;\n    map.setSize(w, h);\n    camera.aspect = w / h;\n    camera.updateProjectionMatrix();\n}; \nwindow.addEventListener(\"resize\", resize);\n\n  async function addSources() {\n    console.log(map.getSource(\"mapbox-dem\"));\n    if (!map.getSource(\"mapbox-dem\")) {\n      try{      map.addSource(\"mapbox-dem\", {\n        type: \"raster-dem\",\n        url: \"mapbox://mapbox.mapbox-terrain-dem-v1\",\n        tileSize: 512,\n        maxzoom: 14,\n      });\n    }catch{}\n      // console.log(map.getSource(\"mapbox-dem\"));\n    }\n    if (!map.getSource(\"icgc-dem\")) {\n     try { map.addSource(\"icgc-dem\", {\n        type: \"raster-dem\",\n        tiles: [urlTerrainICGC],\n        tileSize: 512,\n        maxzoom: 14,\n      });\n    }catch{}\n      map.addLayer({\n        id: \"sky\",\n        type: \"sky\",\n        paint: {\n          \"sky-type\": \"atmosphere\",\n          \"sky-atmosphere-sun\": [0.0, 50.0],\n          \"sky-atmosphere-sun-intensity\": 5,\n        },\n      });\n    }\n\n  \n    addOverLayerToMap();\n\n\n\n\n  }\n  async function addOverLayerToMap() {\n    // console.log('entro overlayers')\n    if (overLayers) {\n      // console.log('entro add sources')\n      // add sources\n      Object.keys(overLayers.sources).forEach(function(key, index) {\n        if (!map.getSource(key)) {\n          map.addSource(key, overLayers.sources[key]);\n          \n        }\n      });\n\n      // add Keys\n      overLayers.layers.forEach(element => {\n        if (!map.getLayer(element.id)) {\n          map.addLayer(element, \"water-name-lakeline-platja\");\n        }\n      });\n    }\n    // console.log('surto overlayers')\n  }\n  function addTerrain3d() {\n    const bt3d = window.document.getElementById(\"bt3D\").className;\n    if (bt3d.indexOf(\"2d\") !== -1) {\n      console.log('');\n      try {\n        console.log('');\n        var { longitude, latitude } = map.getCenter();\n        const socDins = miraCentreDins(longitude, latitude, map.getZoom());\n   \n        if (socDins) {\n          map.setTerrain({\n            source: \"icgc-dem\",\n            exaggeration: 1.2,\n          });\n        } else {\n         map.setTerrain({\n            source: \"mapbox-dem\",\n            exaggeration: 1.5,\n          });\n        }\n      } catch (err) {}\n    }\n  }\n  //canvia opacitat al 50\n\n  //fa visible-none\n  const unsubscribeLayerActive = activateLayerStore.subscribe(\n    (newLayerActive) => {\n      if (map && newLayerActive) {\n        map.setLayoutProperty(\n          newLayerActive.ly,\n          \"visibility\",\n          newLayerActive.vis\n        );\n      }\n    }\n  );\n\n  onDestroy(unsubscribeLayerActive);\n  //canvia baselayer\n\n\n  const unsubscribechangeBaseLayer = changeBaseLayerStore.subscribe(\n    (newchangeBaseLayer) => {\n      if (map && newchangeBaseLayer) {\n\n        map.setStyle(newchangeBaseLayer)\n        map.on(\"styledata\", function () {\n          addSources().then(function () {\n            addTerrain3d();\n          });\n        });\n\n        map.resize();\n      }\n    }\n  );\n\n  onDestroy(unsubscribechangeBaseLayer);\n\n  //canvia opacitat segons la slidebar\n  const unsubscribechangePaintPropertyStore = changePaintPropertyStore.subscribe(\n    (itemStore) => {\n      if (map && itemStore) {\n        //console.log('mm', itemStore)\n        map.setPaintProperty(itemStore.ly, \"fill-opacity\", itemStore.op);\n      }\n    }\n  );\n  onDestroy(unsubscribechangePaintPropertyStore);\n\n  //funció ACTIVA I CREA highlight amb nou filtre\n  let myOldLayer = [];\n  let highOldId;\n  let originalOldFilter;\n  let new_OldFilter;\n  let newLayer = \"\";\n\n\n  const unsubscribechangeHighlightItem = changeHighlightItemStore.subscribe(\n    (itemStore) => {\n      if (map && itemStore) {\n        // console.log(\"mm\", itemStore);\n        //console.log(\"myOldLayer\", highOldId);\n        // console.log('oldLayer?:', newLayer)\n        if (newLayer !== \"\") {\n          // console.log(\"newLayerOLDooo\", newLayer);\n          // map.removeLayer(newLayer);                            ///he esborrat aquest removeLayer\n        }\n\n        // FALTA QUE SI HAY UN _HIGHLIGHT, QUE LO BORRE ANTES DE HACER UNO NUEVO... INDICAR CON ID ANTIGUO, DEJARLO\n        //REGISTRADO EN UNA VARIABLE\n        //AHORA CADA VEZ Q SE HACE CLIC SE CREA UN LAYER AUNQUE SEA IGUAL... Y ESE ES EL ERROR\n\n        // if (itemStore.item.layer.id === \"Talls geològics/5704\") {\n        //   //console.log(\"*******\", itemStore.item);\n\n        //   map.setFilter(\"Talls geològics/5704_highlighted\", [\n        //     \"in\",\n        //     \"NOM_TALL\",\n        //     itemStore.item.properties.NOM_TALL,\n        //   ]);\n\n        // }\n        ///////////////////////////////////////////////////////////////////\n\n        if (itemStore.id === \"modificats\") {\n          //  console.log('modificats', itemStore)\n          let highId = itemStore.item.layer.id;\n          let originalFilter = itemStore.item.layer.filter;\n          var new_Filter = [\n            \"all\",\n            // [\"in\", \"_symbol\", originalFilter[2]],\n            [\"in\", \"CODI_CAS\", itemStore.nom],\n          ];\n          var layers = map.getStyle().layers;\n          var firstSymbolId;\n          for (var i = 0; i < layers.length; i++) {\n            if (layers[i].id === \"Terrenys antropitzats/Terrenys modificats/3\") {\n              firstSymbolId = layers[i].id;\n\n              break;\n            }\n          }\n          map.addLayer(\n            {\n              id: `${highId}_highlight`,\n              type: \"line\",\n              source: \"infogeo\",\n              \"source-layer\": \"Terrenys modificats\", //quaternari\n              layout: {\n                visibility: \"visible\",\n              },\n              paint: {\n                \"line-opacity\": 1,\n                \"line-color\": \"#ADE5FF\",\n                \"line-width\": 5.033333,\n              },\n              filter: [\"in\", \"CODI_CAS\", itemStore.item.properties.CODI_CAS], // filter idabs i codi-cas\n            },\n            firstSymbolId\n            //falta filtre symbol\n          );\n          newLayer = `${highId}_highlight`;\n          // console.log(\"newLayer?:\", newLayer, new_Filter);\n          //map.setFilter(`${highId}_highlight`, [\"in\", \"IDABS\", itemStore.idabs] );\n          map.setFilter(`${highId}_highlight`, new_Filter);\n          //map.removeSource('polygon_highlighted1')\n        }\n\n\n\n        if (itemStore.id === \"antropics\") {\n          //  console.log('entrem antropicsssss', itemStore)\n          let highId = itemStore.item.layer.id;\n          let sourceL = itemStore.item.layer[\"source-layer\"];\n          let originalFilter = itemStore.item.layer.filter;\n          var new_Filter = [\n            \"all\",\n            // [\"in\", \"_symbol\", originalFilter[2]],\n            [\"in\", \"CODI_CAS\", itemStore.nom],\n          ];\n          var layers = map.getStyle().layers;\n          var firstSymbolId;\n          for (var i = 0; i < layers.length; i++) {\n            if (layers[i].id === \"Terrenys antropitzats/Terrenys rebaixats/3\") {\n              firstSymbolId = layers[i].id;\n\n              break;\n            }\n          }\n          map.addLayer(\n            {\n              id: `${highId}_highlight`,\n              type: \"fill\",\n              source: \"infogeo\",\n              \"source-layer\": sourceL, //quaternari\n              layout: {\n                visibility: \"visible\",\n              },\n              paint: {\n                \"fill-outline-color\": \"#000000\",\n                \"fill-color\": \"#ADE5FF\",\n                \"fill-opacity\": 0.75,\n              },\n              filter: [\"in\", \"CODI_CAS\", itemStore.item.properties.CODI_CAS], // filter idabs i codi-cas\n            },\n            firstSymbolId\n            //falta filtre symbol\n          );\n          newLayer = `${highId}_highlight`;\n          // console.log(\"newLayer?:\", newLayer, new_Filter);\n          //map.setFilter(`${highId}_highlight`, [\"in\", \"IDABS\", itemStore.idabs] );\n          map.setFilter(`${highId}_highlight`, new_Filter);\n          //map.removeSource('polygon_highlighted1')\n        }\n\n\n\n        if (itemStore.id === \"terraplenats\") {\n          //  console.log('terraplenats', itemStore)\n          let highId = itemStore.item.layer.id;\n          let originalFilter = itemStore.item.layer.filter;\n          var new_Filter = [\n            \"all\",\n            // [\"in\", \"_symbol\", originalFilter[2]],\n            [\"in\", \"CODI_CAS\", itemStore.nom],\n          ];\n          var layers = map.getStyle().layers;\n          var firstSymbolId;\n          for (var i = 0; i < layers.length; i++) {\n            if (layers[i].id === \"Terrenys antropitzats/Terrenys terraplenats\") {\n              firstSymbolId = layers[i].id;\n\n              break;\n            }\n          }\n          map.addLayer(\n            {\n              id: `${highId}_highlight`,\n              type: \"line\",\n              source: \"infogeo\",\n              \"source-layer\": \"Terrenys terraplenats\", //quaternari\n              layout: {\n                visibility: \"visible\",\n              },\n              paint: {\n                \"line-opacity\": 1,\n                \"line-color\": \"#ADE5FF\",\n                \"line-width\": 5.033333,\n              },\n              filter: [\"in\", \"CODI_CAS\", itemStore.item.properties.CODI_CAS], // filter idabs i codi-cas\n            },\n            firstSymbolId\n            //falta filtre symbol\n          );\n          newLayer = `${highId}_highlight`;\n          // console.log(\"newLayer?:\", newLayer, new_Filter);\n          //map.setFilter(`${highId}_highlight`, [\"in\", \"IDABS\", itemStore.idabs] );\n          map.setFilter(`${highId}_highlight`, new_Filter);\n          //map.removeSource('polygon_highlighted1')\n        }\n\n\n        \n        if (itemStore.id === \"talls\") {\n          //  console.log('tallsgeologics', itemStore)\n          let highId = itemStore.item.layer.id;\n          let originalFilter = itemStore.item.layer.filter;\n          var new_Filter = [\n            \"all\",\n            [\"in\", \"_symbol\", originalFilter[2]],\n            [\"in\", \"NOM_TALL\", itemStore.nom],\n          ];\n          var layers = map.getStyle().layers;\n          var firstSymbolId;\n          for (var i = 0; i < layers.length; i++) {\n            if (layers[i].id === \"Talls geològics/Traces de talls geològics/5704\") {\n              firstSymbolId = layers[i].id;\n\n              break;\n            }\n          }\n          map.addLayer(\n            {\n              id: `${highId}_highlight`,\n              type: \"line\",\n              source: \"infogeo\",\n              \"source-layer\": \"Traces de talls geològics\", //quaternari\n              layout: {\n                visibility: \"visible\",\n              },\n              paint: {\n                \"line-opacity\": 1,\n                \"line-color\": \"#ADE5FF\",\n                \"line-width\": 5.033333,\n              },\n              filter: [\"in\", \"NOM_TALL\", itemStore.item.properties.NOM_TALL], // filter idabs i codi-cas\n            },\n            firstSymbolId\n            //falta filtre symbol\n          );\n          newLayer = `${highId}_highlight`;\n          // console.log(\"newLayer?:\", newLayer, new_Filter);\n          //map.setFilter(`${highId}_highlight`, [\"in\", \"IDABS\", itemStore.idabs] );\n          map.setFilter(`${highId}_highlight`, new_Filter);\n          //map.removeSource('polygon_highlighted1')\n        }\n        ///////////////////////////////////////////////////////////////\n\n        /////ESQUEMES DE RELACIONS ESTRATIGRÀFIQUES\n\n        if (itemStore.id === \"polygonEsquemes\") {\n          //  console.log('esquemes', itemStore)\n          let highId = itemStore.item.layer.id;\n          // console.log('esquemesid', highId)\n          let originalFilter = itemStore.item.layer.filter;\n          var new_Filter = [\n            \"all\",\n            [\"in\", \"_symbol\", originalFilter[2]],\n            [\"in\", \"IDABS\", itemStore.idabs],\n          ];\n          var layers = map.getStyle().layers;\n          var firstSymbolId;\n          for (var i = 0; i < layers.length; i++) {\n            if (\n              layers[i].id ===\n              \"Registre geològic/Esquemes de relacions estratigràfiques\"\n            ) {\n              firstSymbolId = layers[i].id;\n\n              break;\n            }\n          }\n          map.addLayer(\n            {\n              id: `${highId}_highlight`,\n              type: \"line\",\n              source: \"infogeo\",\n              \"source-layer\": \"Esquemes de relacions estratigràfiques\", //quaternari\n              layout: {\n                visibility: \"visible\",\n              },\n              paint: {\n                \"line-opacity\": 1,\n                \"line-color\": \"#ADE5FF\",\n                \"line-width\": 5.033333,\n              },\n              filter: [\"in\", \"IDABS\", itemStore.item.properties.IDABS], // filter idabs i codi-cas\n            },\n            firstSymbolId\n            //falta filtre symbol\n          );\n          newLayer = `${highId}_highlight`;\n          // console.log(\"newLayer?:\", newLayer);\n          //map.setFilter(`${highId}_highlight`, [\"in\", \"IDABS\", itemStore.idabs] );\n          map.setFilter(`${highId}_highlight`, new_Filter);\n          //map.removeSource('polygon_highlighted1')\n        }\n\n        // COLUMNESSSSSS\n\n        // if (itemStore.id === \"polygonColumnes\") {\n        //           console.log('poligon columnes', itemStore)\n\n        //           let highId = itemStore.item.layer.id;\n        //           let originalFilter = itemStore.item.layer.filter;\n        //           let sourceL = itemStore.item.layer[\"source-layer\"]\n        //           console.log('poli', highId, originalFilter[2])\n        //           var new_Filter = [\n        //             \"all\",\n        //             [\"in\", \"_symbol\", originalFilter[2]],\n        //             [\"in\", \"IDABS\", itemStore.idabs],\n        //           ];\n        //           var layers = map.getStyle().layers\n        //           var firstSymbolId;\n        //           for (var i = 0; i < layers.length; i++) {\n        //               if (layers[i].id === \"Registre geològic/Columnes estratigràfiques/Columnes del Paleozoic/Paleozoic LINK/Paleozoic\") {\n        //                 console.log('1')\n        //                 firstSymbolId = layers[i].id;\n\n        //                 break;\n        //               }\n        //           }\n\n        //           map.addLayer(\n        //             {\n        //               id: `${highId}_highlight`,\n        //               type: \"fill\",\n        //               source: \"infogeo\",\n        //               \"source-layer\": sourceL, //quaternari\n        //               layout: {\n        //                 visibility: \"visible\",\n        //               },\n        //               paint: {\n        //                 \"fill-outline-color\": \"#000000\",\n        //                 \"fill-color\": \"#ADE5FF\",\n        //                 \"fill-opacity\": 0.75,\n        //               },\n        //                filter: [\"in\", \"_symbol\", originalFilter[2]], // filter idabs i codi-cas\n        //             },\n        //             firstSymbolId\n        //             //falta filtre symbol\n        //           );\n\n        //           newLayer = `${highId}_highlight`;\n        //          console.log(\"newLayer?:\", newLayer);\n        //           // map.setFilter(`${highId}_highlight`, [\"in\", \"IDABS\", itemStore.idabs] );\n\n        //           map.setFilter(`${highId}_highlight`, new_Filter);\n        //            console.log('despres')//map.removeSource('polygon_highlighted1')\n        //         }\n\n        if (itemStore.id === \"polygonColumnes\") {\n          // console.log('poligon columnes', itemStore)\n// \n          let highId = itemStore.item.layer.id;\n          let originalFilter = itemStore.item.layer.filter;\n          let sourceL = itemStore.item.layer[\"source-layer\"];\n          // console.log('poli', highId, originalFilter[2])\n          var new_Filter = [\n            \"all\",\n            [\"in\", \"_symbol\", originalFilter[2]],\n            [\"in\", \"IDABS\", itemStore.idabs],\n          ];\n          var layers = map.getStyle().layers;\n          var firstSymbolId;\n          for (var i = 0; i < layers.length; i++) {\n            if (\n              layers[i].id ===\n              \"Registre geològic/Columnes estratigràfiques/Columnes del Paleozoic/Paleozoic LINK/Paleozoic\"\n            ) {\n              // console.log('1')\n              firstSymbolId = layers[i].id;\n\n              break;\n            }\n          }\n\n          map.addLayer(\n            {\n              id: `${highId}_highlight`,\n              type: \"fill\",\n              source: \"infogeo\",\n              \"source-layer\": sourceL, //quaternari\n              layout: {\n                visibility: \"visible\",\n              },\n              paint: {\n                \"fill-outline-color\": \"#000000\",\n                \"fill-color\": \"#ADE5FF\",\n                \"fill-opacity\": 0.75,\n              },\n              filter: [\"in\", \"_symbol\", originalFilter[2]], // filter idabs i codi-cas\n            },\n            firstSymbolId\n            //falta filtre symbol\n          );\n\n          newLayer = `${highId}_highlight`;\n          //  console.log(\"newLayer?:\", newLayer);\n          // map.setFilter(`${highId}_highlight`, [\"in\", \"IDABS\", itemStore.idabs] );\n\n          map.setFilter(`${highId}_highlight`, new_Filter);\n          //  console.log('despres')//map.removeSource('polygon_highlighted1')\n        }\n\n        if (itemStore.id === \"polygonsQt\") {\n          // console.log('poligon quaternari', itemStore)\n          let highId = itemStore.item.layer.id;\n          let originalFilter = itemStore.item.layer.filter;\n          var new_Filter = [\n            \"all\",\n            [\"in\", \"_symbol\", originalFilter[2]],\n            [\"in\", \"IDABS\", itemStore.idabs],\n          ];\n          var layers = map.getStyle().layers;\n          var firstSymbolId;\n          for (var i = 0; i < layers.length; i++) {\n            if (\n              layers[i].id ===\n              \"Dipòsits quaternaris/Unitats geològiques del quaternari/FILLq/QHac\"\n            ) {\n              firstSymbolId = layers[i].id;\n\n              break;\n            }\n          }\n          map.addLayer(\n            {\n              id: `${highId}_highlight`,\n              type: \"fill\",\n              source: \"infogeo\",\n              \"source-layer\": \"FILLq\", //quaternari\n              layout: {\n                visibility: \"visible\",\n              },\n              paint: {\n                \"fill-outline-color\": \"#000000\",\n                \"fill-color\": \"#ADE5FF\",\n                \"fill-opacity\": 0.75,\n              },\n              filter: [\"in\", \"_symbol\", originalFilter[2]], // filter idabs i codi-cas\n            },\n            firstSymbolId\n            //falta filtre symbol\n          );\n          newLayer = `${highId}_highlight`;\n          // console.log(\"newLayer?:\", newLayer);\n          //map.setFilter(`${highId}_highlight`, [\"in\", \"IDABS\", itemStore.idabs] );\n          map.setFilter(`${highId}_highlight`, new_Filter);\n          //map.removeSource('polygon_highlighted1')\n        }\n\n        if (itemStore.id === \"polygonsBs\") {\n          // console.log(\"poligon basemenet\", itemStore);\n\n          let highId = itemStore.item.layer.id;\n          // console.log(\"poligon highId\", highId);\n          let originalFilter = itemStore.item.layer.filter;\n          var new_Filter = [\n            \"all\",\n            [\"in\", \"_symbol\", originalFilter[2]],\n            [\"in\", \"IDABS\", itemStore.idabs],\n          ];\n          var layers = map.getStyle().layers;\n          var firstSymbolId;\n          for (var i = 0; i < layers.length; i++) {\n            if (\n              layers[i].id ===\n              \"Basament prequaternari/Unitats geològiques del basament/FILL/CACe\"\n            ) {\n              firstSymbolId = layers[i].id;\n\n              break;\n            }\n          }\n          /////\n          map.addLayer(\n            {\n              id: `${highId}_highlight`,\n              type: \"fill\",\n              source: \"infogeo\",\n              \"source-layer\": \"FILL\", //basament\n              layout: {\n                visibility: \"visible\",\n              },\n              paint: {\n                \"fill-outline-color\": \"#000000\",\n                \"fill-color\": \"#ADE5FF\",\n                \"fill-opacity\": 0.75,\n              },\n              filter: [\"in\", \"_symbol\", originalFilter[2]], // filter idabs i codi-cas\n            },\n            firstSymbolId\n            //falta filtre symbol\n          );\n\n          newLayer = `${highId}_highlight`;\n          //console.log(\"newLayer?:\", newLayer);\n          map.setFilter(`${highId}_highlight`, new_Filter);\n\n          //     //map.removeSource('polygon_highlighted2')\n          //          }\n        }\n      }\n      myOldLayer.push(itemStore);\n    }\n  );\n  onDestroy(unsubscribechangeHighlightItem);\n\n  //funció activa tot el que sigui mateix codi_CAS amb blueLayer\n  var myBlueLayer = [];\n  const unsubscribechangeColorPropertyStore = changeColorPropertyStore.subscribe(\n    (itemStore) => {\n      // console.log('uee', itemStore)\n      myBlueLayer = []; // reset del bluelayer\n      if (map && itemStore) {\n        //  let blue = '#01f7f7'\n        let blue = \"#00fff2\";\n        // let blue = \"#8AFDE3\";\n        // console.log('oo', itemStore)\n        if (itemStore.ty === \"fill\") {\n          if (itemStore.op[\"fill-color\"] !== undefined) {\n            map.setPaintProperty(itemStore.ly, \"fill-color\", blue);\n          }\n          if (itemStore.op[\"fill-pattern\"] !== undefined) {\n            map.setPaintProperty(itemStore.ly, \"fill-pattern\", undefined);\n            map.setPaintProperty(itemStore.ly, \"fill-color\", blue);\n          }\n        }\n        if (itemStore.ty === \"line\") {\n          map.setPaintProperty(itemStore.ly, \"line-color\", blue);\n          map.setPaintProperty(itemStore.ly, \"line-width\", 4);\n        }\n        if (itemStore.ty === \"symbol\") {\n          map.setPaintProperty(itemStore.ly, \"icon-color\", blue);\n        }\n      }\n      myBlueLayer.push(itemStore);\n      // console.log('quehihadespres', myBlueLayer)\n    }\n  );\n  onDestroy(unsubscribechangeColorPropertyStore);\n  // funció torna aspecte original després del blueLayer\n  const unsubscribechangeInitialColorPropertyStore = changeInitialColorPropertyStore.subscribe(\n    (itemStore) => {\n      if (map && itemStore) {\n        // console.log(\"CHANGE TO INITIAL COLOR PATTERN\", itemStore);\n        if (newLayer !== \"\") {\n          // console.log(\"newLayerOLD\", newLayer);\n          map.removeLayer(newLayer); //funciona OK\n        }\n        // if (itemStore.ty === 'fill'){\n        // map.setPaintProperty(itemStore.ly, \"fill-color\", itemStore.op[\"fill-color\"]);\n\n        // }\n\n        if (itemStore.ty === \"fill\") {\n          if (itemStore.op[\"fill-color\"] !== undefined) {\n            map.setPaintProperty(\n              itemStore.ly,\n              \"fill-color\",\n              itemStore.op[\"fill-color\"]\n            );\n          }\n          if (itemStore.op[\"fill-pattern\"] !== undefined) {\n            map.setPaintProperty(\n              itemStore.ly,\n              \"fill-pattern\",\n              itemStore.op[\"fill-pattern\"]\n            );\n            map.setPaintProperty(\n              itemStore.ly,\n              \"fill-color\",\n              itemStore.op[undefined]\n            );\n          }\n        }\n        if (itemStore.ty === \"line\") {\n          map.setPaintProperty(\n            itemStore.ly,\n            \"line-color\",\n            itemStore.op[\"line-color\"]\n          );\n          map.setPaintProperty(\n            itemStore.ly,\n            \"line-width\",\n            itemStore.op[\"line-width\"]\n          );\n        }\n        if (itemStore.ty === \"symbol\") {\n          map.setPaintProperty(\n            itemStore.ly,\n            \"icon-color\",\n            itemStore.op[\"icon-color\"]\n          );\n        }\n      }\n      // myBlueLayer.push(itemStore)\n      // console.log('quehihadespres', myBlueLayer)\n    }\n  );\n  onDestroy(unsubscribechangeInitialColorPropertyStore);\n  //canvia de lloc el visor\n  const unsubscribechangePlaceStore = changePlaceStore.subscribe(\n    (coordStore) => {\n      if (map && coordStore) {\n        const coordx = coordStore.coords.x;\n        const coordy = coordStore.coords.y;\n\n        map.jumpTo({ center: [coordx, coordy], zoom: 14 });\n      }\n    }\n  );\n  onDestroy(unsubscribechangePlaceStore);\n</script>\n\n<style>\n  #map {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    width: 100vw;\n    height: 100vh;\n  }\n</style>\n\n<div id=\"map\" bind:this={container}>\n  {#if map}\n    <slot />\n    <Logo_map />\n  {/if}\n</div>\n",
    "\n <script>\n    import Drawer, {AppContent, Content, Header, Title, Subtitle, Scrim} from '@smui/drawer';\n    import Button, {Label} from '@smui/button';\n    import List, {Item, Text, Graphic, Separator, Subheader} from '@smui/list';\n    import H6 from '@smui/common/H6.svelte';\n    //import PanelIntro from './PanelIntro.svelte';\n    import PanelSearchBar from \"../../PanelSearchBar/PanelSearchBar.svelte\";\n    import { createEventDispatcher } from 'svelte';\n    import { stateDrawerIntro } from \"../../../Utils/stores.js\";\n    const dispatch = createEventDispatcher();\n    let clicked = 'nothing yet';\n    let myDrawer;\n    let myDrawerOpen = false;\n    let active = 'Gray Kittens';\n    let myDrawer2;\n    import PanelOverLayers from \"../../PanelIconMenu/PanelOverLayers.svelte\"\n    \n    export let myDrawer2Open = false;\n\n  </script>\n  \n  <style>\n  #container{\n    z-index: 2;\n    position: absolute;\n    left: 0;\n    width: 340px;\n    /* top: 46px; */\n    /* width: 250px; */\n    /* height: -webkit-fill-available; */\n    /* background-color: rgba(0,0,0,1); */\n    background-color: white;\n    height: 99%;\n    overflow-y: auto;\n    overflow-x: hidden;\n    \n  }\n  #container_ppal{\n    z-index: 2;\n    position: absolute;\n    left: 0;\n    top: 46px;\n    width: 250px;\n    height: 96% ;\n    /* background-color: rgba(0,0,0,1); */\n    background-color: white;\n    /* height: 924px; */\n    /* overflow-y: auto; */\n    font-family: Arial, Helvetica, sans-serif;\n    \n  }\n  @media (max-width: 624px) {\n    #container_ppal{\n    width: 200px;\n  }\n  #container{\n    width: 200px;\n   \n  }\n  }\n  @media (max-width: 500px) {\n    #container_ppal{\n    width: 200px;\n    font-size: small;\n  }\n  #container{\n    width: 200px;\n    font-size: small;\n  \n  }\n  }\n  @media (max-width: 321px) {\n    #container_ppal{\n    width: 200px;\n    font-size: small;\n  }\n  #container{\n    width: 200px;\n    font-size: small;\n  }\n  }\n  </style>\n   <div id=\"container_ppal\">\n  <div id=\"container\">\n\n      \n  \n \n      <PanelOverLayers />\n\n       \n      </div>\n   </div>\n       \n      \n   \n  ",
    "<script>\n  import Dialog, { Title, Content, Actions } from \"@smui/dialog\";\n  import Button, { Label } from \"@smui/button\";\n  import { fade } from \"svelte/transition\";\n  import LineRipple from \"@smui/line-ripple\";\n  import IconButton, { Icon } from \"@smui/icon-button\";\n\n  function overlay_click(e) {\n    if (\"close\" in e.target.dataset) show = false;\n  }\nexport let myUrl;\nexport let ifr;\n  export let show = false;\n  function closeButton () {\n    show = false\n  }\n</script>\n\n<style>\n  .field1{\n    margin: 0px;\n  }\n\n  .field2{\n\n  }\n  .modal-overlay {\n    z-index: 2000;\n    font-size: 10px !important;\n    font-family: Arial, Helvetica, sans-serif;\n    /* overflow: auto;\ndisplay: flex;\n position: fixed;\n    top: 35%;\n    left: 30%;\n    transform: translate(-23%,-23%); */\n  }\n  #urlMap{\n    width: -webkit-fill-available;\n    font-weight: 500;\n  }\n  #iframeMap{\n    width: -webkit-fill-available;\n    font-weight: 500;\n  }\n  .modal-container {\n    /* overflow: auto; */\n    display: block;\n    position: fixed;\n    top: 36%;\n    left: 26%;\n    bottom: 0;\n    transform: translate(-23%, -23%);\n    font-family: Arial, Helvetica, sans-serif;\n    height: 25%;\n    width: 75%;\n  }\n  .textModal{\n    font-size: small !important;\n    font-family: Arial, Helvetica, sans-serif;\n  }\nh6{\n  font-size: 1rem;\n  font-family: Arial, Helvetica, sans-serif;\n  font-weight: 100;\n  position: relative;\n    top: -35px;\n    margin-bottom: -25px;\n}\nh5{\n  font-size: 1.1rem;\n  font-family: Arial, Helvetica, sans-serif;\n}\n  @media (max-width: 600px) {\n    .modal-overlay {\n      /* font-size: smaller !important; */\n    }\n    h6{\n  font-size: 0.8rem;\n}\nh5{\n  font-size:0.9rem;\n}\n  }\n  @media (max-width: 321px) {\n    h6{\n  font-size: 0.7rem;\n}\nh5{\n  font-size:0.8rem;\n}\n\n  }\n</style>\n\n{#if show}\n  <div>\n    <div\n      class=\"modal-overlay\"\n      data-close\n      on:click={overlay_click}\n      transition:fade={{ duration: 150 }}>\n      <div class=\"modal-container text\">\n        <IconButton\n        on:click={closeButton}\n        style=\"    position: absolute;\n      right:-3px;\n      \n      z-index: 10;\">\n        <Icon\n          style=\"        font-size: 22px;\n      color: black;\n      \n      border-radius: 17px;\"\n          class=\" material-icons  \">\n          close\n        </Icon>\n      </IconButton>\n        <!-- <Title id=\"dialog-title\" >\n          <b>Visor Riscos Geològics</b>\n        </Title>\n        <LineRipple /> -->\n        <Content id=\"dialog-content\" class=\"textModal\" >    <div class=\"content\">\n          <div class=\"ui message modalMsg\">\n            <!-- <div class=\"header\">\n              Enllaçar\n            </div> -->\n         \n                <h6>Per enllaçar amb aquest mapa, copieu i enganxeu el següent\n                  text</h6>\n                <input type=\"text\" value={myUrl} id=\"urlMap\" >\n              \n                <h6>Per inserir aquest mapa al vostre web, copieu i enganxeu el següent\n                  text</h6>\n                <textarea id=\"iframeMap\" rows=\"3\" value={ifr}></textarea>\n      \n    \n          </div>\n    \n        </div>\n\n        </Content>\n\n      </div>\n    </div>\n\n  </div>\n  \n{/if}\n",
    "<script>\r\nimport { onMount, getContext } from \"svelte\";\r\nimport { Email, HackerNews, Reddit, LinkedIn, Pinterest, Telegram, Tumblr, Vk, WhatsApp, Xing, Facebook, Twitter } from 'svelte-share-buttons-component';\r\n\r\n  import { keyApp } from \"../../config\";\r\n\r\n  import mapbox from \"mapbox-gl\";\r\n  const { getMap } = getContext(keyApp);\r\n  const map = getMap();\r\n\r\nimport IconButton, { Icon } from \"@smui/icon-button\";\r\nimport EnllacaModal from './EnllacaModal.svelte';\r\n\r\n//console.log('map', map)\r\nlet show= false;\r\nlet myUrl = '';\r\nlet ifr = '';\r\n\r\n\r\n\tconst title = `Capes d'Informació Geològica`;\r\n\tconst desc = `Visor de Capes d'Informació Geològica`;\r\n\r\n\r\nfunction enllacaModal (){\r\n  //console.info('hola')\r\n\r\n  let currentURLRaw = window.location.href.valueOf();\r\n  // --> http://localhost:5000/#8.5/41.8247/1.8155\r\n  //console.info('//', currentURLRaw)\r\n  myUrl = currentURLRaw\r\n  \r\n   ifr = `<iframe width=\"100%\" height=\"100%\" frameborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\" src=\"${currentURLRaw}\"></iframe>`\r\n//console.log(ifr)\r\n\r\n  show = !show\r\n}\r\n\r\nfunction createUrl (){\r\n // console.log('create')\r\n  let currentURLRaw = window.location.href.valueOf();\r\n  // --> http://localhost:5000/#8.5/41.8247/1.8155\r\n  //console.info('//', currentURLRaw)\r\n  // myUrl = currentURLRaw\r\nmyUrl = currentURLRaw\r\n\r\n}\r\n\r\n</script>\r\n\r\n\r\n\r\n<style>\r\n\r\n\r\n.footer {\r\n  position: fixed;\r\n    bottom: 0px;\r\n    width: 100%;\r\n    z-index: 1000000;\r\n    background: #fed601;\r\n    opacity: 1;\r\n    height: 4%;\r\n    min-height: 25px;\r\n    \r\n}\r\n.enllaca{\r\n  display: flex;\r\n  position: fixed;\r\n    bottom: -18px;\r\n    cursor: pointer;\r\n}\r\n.rrss{\r\n      display: flex;\r\n    position: fixed;\r\n    bottom: -10px;\r\n    /* cursor: pointer; */\r\n    right: 0;\r\n}\r\np{    font-weight: 600;\r\n    top: 1px;\r\n    left: -5px;\r\n    position: relative;\r\n}\r\n\r\n</style>\r\n<div class=\"footer\">\r\n \r\n    <div class=\"row links\">\r\n      <div class=\"hidden-xs col-sm-6 text-center enllaca\" on:click={enllacaModal}>\r\n        <IconButton   >\r\n          <!-- <Icon class=\"material-icons icono\" tabindex=\"1\" on>menu</Icon> -->\r\n          <i class=\"fa fa-link\"></i>\r\n          \r\n        </IconButton>\r\n        <p>Enllaça</p>\r\n        \r\n       \r\n      </div>\r\n      <div class=\"col-sm-6 text-center rrss\" on:click={createUrl} >\r\n        <div id=\"share\">\r\n          \r\n<Email subject=\"{title}\" body=\"{desc} {myUrl}\" />\r\n\r\n<LinkedIn class=\"share-button\" url={myUrl} />\r\n\r\n\r\n<!-- \r\n<WhatsApp class=\"share-button\" text=\"{title} {myUrl}\" />\r\n\r\n<Facebook class=\"share-button\" url={myUrl} /> -->\r\n<Twitter class=\"share-button\" text=\"{title}\" url={myUrl} />\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n</div>\r\n{#if show}\r\n<EnllacaModal show={show} myUrl={myUrl} ifr={ifr}/>\r\n{/if}",
    "<script>\r\n      import IconButton, { Icon } from \"@smui/icon-button\";\r\n    export let groupLabel;\r\n    export let showinfo;\r\n export let labelArray\r\n    import { onMount } from \"svelte\";\r\n    let oldlabel = ''\r\n    onMount(async() => {\r\n        // console.log('oor', showinfo, oldlabel, labelArray)\r\n        oldlabel = groupLabel\r\n        // console.log('oo1', oldlabel)\r\n    })\r\n    function letfalse () {\r\n        // console.log('entro inii', showinfo)\r\nshowinfo=false\r\n// console.log('entro final', showinfo)\r\n    }\r\n\r\n</script>\r\n\r\n<style>\r\n\r\n    .infoboxQt{\r\n        /* position: fixed; */\r\n        /* top:200px; */\r\n    /* top: 10%; */\r\n    left: 22em;\r\n    /* width: 39em; */\r\n    /* background-color: #f5f5f5; */\r\n \r\n    margin-top: -12px;\r\n    margin-left: 5px;\r\n    margin-right: 11px;\r\n    margin-bottom: 13px;\r\n    max-height: 300px;\r\n    overflow-y: scroll;\r\n    font-size: 14px;\r\n    padding: 3px;\r\n    font-family: 'Fira Sans', sans-serif;\r\n\r\n\r\n    }\r\n    \r\n    .infoboxBs{\r\n        /* position: fixed; */\r\n        /* top:200px; */\r\n        /* top:28%; */\r\n        left: 22em;\r\n    /* width: 39em; */\r\n    /* background-color:#f5f5f5; */\r\n   \r\n    margin-top: -12px;\r\n    margin-left: 5px;\r\n    margin-right: 11px;\r\n    margin-bottom: 13px;\r\n    max-height: 300px;\r\n    overflow-y: scroll;\r\n    font-size: 14px;\r\n    padding: 3px;\r\n\r\n    }\r\n    \r\n    .infoboxTalls{\r\n        /* position: fixed; */\r\n        /* top:200px; */\r\n    /* top: 49%; */\r\n    left: 22em;\r\n    /* width: 39em; */\r\n    /* background-color:#f5f5f5; */\r\n \r\n    margin-top: -12px;\r\n    margin-left: 5px;\r\n    margin-right: 11px;\r\n    margin-bottom: 13px;\r\n    max-height: 300px;\r\n    overflow-y: scroll;\r\n    font-size: 14px;\r\n    padding: 3px;\r\n\r\n    }\r\n</style>\r\n\r\n{#if showinfo}\r\n<div>\r\n    \r\n<div class=\"infoboxBs\">\r\n    <!-- <IconButton style=\"position:fixed;left:39.5em\" on:click={letfalse}>\r\n        <Icon style=\"font-size: 25px; \" class=\" material-icons  \"> close </Icon>\r\n      \r\n      </IconButton>\r\n<h4>{groupLabel}</h4> -->\r\n{#if groupLabel===\"Basament prequaternari\"}\r\n<p>Cartografia harmonitzada del basament prequaternari del Geotreball I (GT I). La cartografia és contínua. S’interpreta la \r\n    distribució de les unitats de basament cobertes per dipòsits quaternaris o antròpics, segons un model d’unitats geològiques. \r\n    Els elements que conformen la capa s’estructuren en 3 conjunts d’informació: unitats geològiques; contactes (sedimentaris, \r\n    metamòrfics i magmàtics); i falles i plecs. Cada unitat cartogràfica s’identifica amb un epígraf que es caracteritza per un \r\n    color i en algun cas també per una trama. En futures versions s’adjuntarà l’equivalència entre els epígrafs publicats als \r\n    fulls MGC25m i els epígrafs actualitzats. \r\n     <a target=\"_blank\" href=\"https://tilemaps.icgc.cat/tileserver/geoindex/infogeo/dades/llegendes/BAS_LLEG\">Veure llegenda de signes convencionals</a>. \r\n\r\n</p>\r\n{/if}\r\n\r\n\r\n\r\n\r\n{#if groupLabel===\"Dipòsits quaternaris\"}\r\n\r\n<p>Cartografia harmonitzada dels dipòsits quaternaris del Geotreball I (GT I). La cartografia és contínua. S’interpreta la\r\n     distribució de les unitats quaternàries cobertes per dipòsits antròpics, segons un model d’unitats geològiques.\r\n      No inclou els materials d’alteració superficial de les unitats prequaternàries. Els elements que inclou la capa \r\n      s’estructuren en 3 conjunts d’informació: unitats geològiques; contactes i elements geomorfològics. Cada unitat \r\n      cartogràfica s’identifica amb un epígraf que es caracteritza per un color i en algun cas també per una trama. En \r\n      futures versions s’adjuntarà l’equivalència entre els epígrafs publicats als fulls MGC25m i els epígrafs actualitzats. \r\n      <a target=\"_blank\" href=\"https://tilemaps.icgc.cat/tileserver/geoindex/infogeo/dades/llegendes/QUAT_LLEG\">Veure llegenda de signes convencionals</a>.  </p>\r\n\r\n\r\n{/if}\r\n{#if groupLabel===\"Talls geològics\"}\r\n\r\n<p>Representació gràfica de la intersecció dels cossos geològics en el subsòl amb un pla vertical d'una orientació determinada. \r\n    De la intersecció d’aquest pla amb la superfície topogràfica en resulta la línia de la traça del tall. La present versió \r\n    permet visualitzar i descarregar talls geològics del Geotreball I (GT I). Cada tall representa una aproximació de la \r\n    distribució dels materials geològics en fondària, seguint un model d’unitats geològiques, coherent amb la informació de \r\n    superfície i de subsòl disponible.  <a target=\"_blank\" href=\"https://tilemaps.icgc.cat/tileserver/geoindex/infogeo/dades/llegendes/TALLS_LLEG\">Veure llegenda de signes convencionals.</a>. \r\n    </p>\r\n\r\n\r\n{/if}\r\n{#if groupLabel===\"Registre geològic\"}\r\n\r\n<p>La capa Registre Geològic inclou esquemes representatius de les successions litostratigràfiques d’àmbits geogràfics específics. \r\n    La present versió de la capa Registre Geològic permet visualitzar i descarregar Columnes estratigràfiques sintètiques \r\n    i Esquemes de relacions estratigràfiques del Geotreball I (GT I).<br />\r\n    Les Columnes estratigràfiques són representatives de les successions de roques sedimentàries i volcàniques presents a l’àmbit d’un mapa. \r\n    S’inclouen columnes representatives del Neogen, Paleogen, Mesozoic i Paleozoic.\r\n    <a target=\"_blank\" href=\"https://tilemaps.icgc.cat/tileserver/geoindex/infogeo/dades/llegendes/REL_LLEG\">Veure llegenda</a>.  <br />\r\n    Els Esquemes de relacions estratigràfiques són una representació gràfica sintètica de la posició cronoestratigràfica i estructural \r\n    de les diferents unitats geològiques presents a l’àmbit d’un mapa.\r\n         <a target=\"_blank\" href=\"https://tilemaps.icgc.cat/tileserver/geoindex/infogeo/dades/llegendes/COLS_LLEG\">Veure llegenda de signes convencionals</a>.  \r\n    </p>\r\n\r\n\r\n{/if}\r\n{#if groupLabel===\"Terrenys antropitzats\"}\r\n\r\n<p>Cartografia harmonitzada de terrenys antropitzats dels Geotreball I (GT I) i Geotreball II (GT II). El concepte terreny \r\n    antropitzat es refereix a aquelles àrees on l’activitat humana ha modificat la configuració natural del terreny \r\n    significativament. A la present versió es diferencien 3 tipologies de terrenys antropitzats: terrenys terraplenats, \r\n    terrenys rebaixats i terrenys modificats. Cada tipologia inclou diferents unitats identificades mitjançant un epígraf. \r\n    <a target=\"_blank\" href=\"https://tilemaps.icgc.cat/tileserver/geoindex/infogeo/dades/llegendes/ANT_LLEG\">Veure llegenda</a>.  </p>\r\n\r\n\r\n{/if}\r\n{#if groupLabel===\"Mesures d'estructures\"}\r\n\r\n<p>Mesures de diferents tipus d’estructures de caràcter puntual del Geotreball I (GT I). Cada tipologia d’estructura té \r\n    un símbol específic que s’orienta en funció de la direcció de màxim pendent en el cas de les estructures planars \r\n    (estratificació i foliació), i la direcció en el cas de les estructures lineals. L’orientació de les estructures es \r\n    proporciona a partir de la mesura de l’azimut (de 0 a 360º en sentit horari) i la inclinació respecte el pla horitzontal \r\n    de la direcció de màxim pendent. En el cas de la lineació d’intersecció es proporciona l’azimut i la inclinació respecte \r\n    el pla horitzontal. En les mesures del sentit del paleocorrent només es proporciona l’azimut. La majoria d’orientacions \r\n    s’han mesurat al camp amb la brúixola, en afloraments específics. \r\n    <a target=\"_blank\" href=\"https://tilemaps.icgc.cat/tileserver/geoindex/infogeo/dades/llegendes/MESU_LLEG\">Veure llegenda de signes convencionals</a>. \r\n    </p>\r\n\r\n\r\n{/if}\r\n<!-- <IconButton style=\"position:fixed;left:24.5em\" on:click={letfalse}>\r\n    <Icon style=\"font-size: 25px; \" class=\" material-icons  \"> close </Icon>\r\n  \r\n  </IconButton> -->\r\n</div>\r\n</div>\r\n{/if}",
    "<script>\n  import { getContext } from \"svelte\";\n  import Checkbox from \"@smui/checkbox\";\n  import FormField from \"@smui/form-field\";\n  import SliderOpacity from \"./SliderOpacity.svelte\";\n  import LegendLayers from \"./LegendLayers.svelte\";\n  import { onMount, setContext, onDestroy } from \"svelte\";\n  import overLayersStyle from \"../../infogeo_v7_style.json\";\n  import Button from \"@smui/button\";\n  let overLayers = { ...overLayersStyle };\n  //let slider_show = false;\n  let display = false;\n\n  export let activated = true;\n\n  export let item;\n// console.log('i', item.value)\n  let slider_show = true;\n\n  const activateLayer = getContext(\"activateLayer\");\n\n\n\n  let array = item.value.split(\",\");\n\n  array.forEach((capa) => {\n      overLayers.layers.forEach((element) => {\n        if (element.layout && element.layout.visibility) {\n          if (element[\"source-layer\"] === capa) {\n            if (element.layout[\"visibility\"] === \"visible\"){\n              activated = true\n            } else {\n              activated = false\n            }\n          }\n        }\n      });\n    });\n\n\n  // onMount(async() => {\n  //   if (item.value === \"P_despreniments\") {\n  //     activated = false;\n  //   }\n  //   if (item.value === \"P_esllavissades\") {\n  //     activated = false;\n  //   }\n  //   if (item.value === \"P_esfondraments\") {\n  //     activated = false;\n  //   }\n  //   if (item.value === \"P_cons\") {\n  //     activated = false;\n  //   }\n  //   if (item.value === \"p_allaus\") {\n  //     activated = false;\n  //   }\n  //   // if (item.value === \"P_inundabilitat\") {\n  //   //   activated = false;\n  //   // }\n  // });\n\n  // function showSliderOpacity() {\n  //   if (showSliderOpacity) {\n  //     slider_show = !slider_show;\n  //   }\n  // }\n</script>\n\n<style>\n.labels{\n  color:black;\n  width: 100% !important;\n  font-weight: 700;\n  font-size: 13px;\n  font-family: Arial, Helvetica, sans-serif;\n}\n.field{\n  width: 100% !important;\n  padding-left: 10px;\n  font-family: Arial, Helvetica, sans-serif;\n}\n@media (max-width: 624px) {\n  .labels{\n    font-weight: 500;\n  font-size: smaller;\n  \n}\n  }\n  @media (max-width: 500px) {\n    .labels{\n      font-weight: 500;\nfont-size: smaller;\n\n}\n  }\n  @media (max-width: 321px) {\n    .labels{\n      font-weight: 500;\nfont-size: smaller;\n\n}\n  }\n\n</style>\n\n<FormField class=\"field\" style=\"padding-left: 10px;\">\n\n  <Checkbox\n    bind:checked={activated}\n    on:change={() => activateLayer(item, activated)} />\n    {#if item.label.includes(\"Columnes\")}\n    <span class=\"labels\" style=\"color:grey; font-weight: 600;\" >\n      {item.label}\n     \n     \n  \n    </span>\n    {:else}\n    <span class=\"labels\" >\n    {item.label}\n     {#if item.label === 'Unitats geològiques' && activated && item.value === 'FILLq,PATT1q,LABELq/label'}\n      <SliderOpacity {item} />\n    {/if}\n\n    {#if item.label === 'Unitats geològiques' && activated && item.value === 'FILL,PATT1,PATT2,PATT3,PATT4,LABEL/label'}\n      <SliderOpacity {item}  />\n\n      \n    {/if}\n   \n\n  </span>\n    {/if}\n  \n\n</FormField>\n",
    "<script>\n  import { getContext } from \"svelte\";\n  import LayerCheckBox from \"./LayerCheckBox.svelte\";\n  import Checkbox from \"@smui/checkbox\";\n  import { columnes } from \"../../config\";\n  import FormField from \"@smui/form-field\";\n  import SliderOpacity from \"../PanelIconMenu/SliderOpacity.svelte\";\n  import IconButton, { Icon } from \"@smui/icon-button\";\n  // import { Button, Icon, MaterialApp } from 'svelte-materialify';\n  // import { mdiHome, mdiAlert, mdiPen, mdiCloud } from '@mdi/js';\nimport InfoBox from \"./InfoBox.svelte\";\nimport Hoverable from './Hoverable.svelte';\n  export let layer;\nlet showinfo = false;\n  let display = false;\n  let activated = true;\n  let displayy = false;\n  export let labelArray; \n\n\n  function colapseGroup() {\n\n    display = !display;\n    if (!display){\n    showinfo = false\n  }}\n  function colapseGroupCol() {\n    displayy = !displayy;\n    \n  }\n  function removeInfoBox(){\n// console.log('j')\n  }\n  function showInfoBox () {\n    // console.log('entro info box')\n    showinfo = false\n      // showinfo = !showinfo\n      let lyr = layer.groupLabel\n      // console.log('uu', labelArray, lyr)\n      if (labelArray === lyr) {\n     \n        labelArray= ''   \n        // console.log('si incluye', labelArray)\n      } else {\n     \n         labelArray =lyr;   \n         showinfo = true\n        //  console.log('no incluye', labelArray)\n      }\n }\n\n  let slider_show = true;\n  const activateLayerGroup = getContext(\"activateLayerGroup\");\n</script>\n\n<style>\n  .multiselect {\n    /* width: 85%; */\n    padding-bottom: 10PX;\n    font-family: Arial, Helvetica, sans-serif;\n    \n  }\n\n  .selectBox {\n    position: relative;\n    cursor: pointer;\n    \n  }\n.select{\n  margin: 0px !important;\n  font-size: smaller;\n}\n.overSelect:hover{\n  border-radius: 11px;    \n  border-color: #fff35d70;\n    border-style: solid;\n}\n.overSelect:active{\n  border-radius: 11px;    \n  border-color: #fff35d70;\n  border-style: inset;\n}\n.overSelect:focus{\n  border-radius: 11px;    \n  border-color: #fff35d70;\n    border-style: solid;\n}\n  .selectBox select {\n    width: 100%;\n    font-weight: bold;\n  }\n\n  .overSelect {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n  }\n\n  .checkboxes {\n    /* border: 1px #dadada solid; */\n    background-color: #fff;\n    display: flex;\n    flex-direction: column;\n    padding-right: 30px;\n    width: 80%;\n  }\n\n  .headCheck {\n    font-size: 14px;\n    font-weight: bold;\n    color:rgb(0, 0, 0)\n  }\n  .field{\n  width: 100% !important;\n  padding-left: 100px;\n}\n.indentedfield{\n\n}\n.iButon{\n  float: right;\n}\n\n</style>\n\n<form>\n  <div class=\"multiselect\" >\n    <div style=\"display: flex;\n    height: 32px;\">\n\n        <div style=\"width:100%\" class=\"selectBox\" on:click={colapseGroup}>\n          <select class=\"select\" style=\"border-radius: 11px;    border-color: transparent;\n          background-color: #e5e5bf;\">\n\n            <option>{layer.groupLabel}</option>\n      \n          </select>\n        \n          <div class=\"overSelect\" />\n        </div>\n\n\n      <div style=\"position:relative;right:-12px;cursor:pointer\" on:click={showInfoBox} title=\"Informació de la capa\">\n            <!-- <IconButton style=\"position:relative;right:-3px;top:-10px\" on:click={removeInfoBox}> -->\n            <Icon style=\"font-size: 25px \" class=\" material-icons  \"> info_outlined </Icon>\n\n          <!-- </IconButton> -->\n\n      </div>\n  \n\n    </div>\n\n   \n    {#if display}\n      <div id={layer.groupId} class=\"checkboxes\">\n        {#if layer.groupId !==\"opt_elements\" }       \n<div >\n        <FormField>\n          <Checkbox\n          indeterminate={true}\n            bind:checked={activated}\n            class=\"indentedfield\"\n            on:change={() => activateLayerGroup(layer, activated)} />\n       \n        <span class=\"headCheck\" slot=\"label\">Visualitza-ho tot </span>\n       \n        </FormField>\n        \n    </div>\n{/if}\n  {#each layer.items as item, index}\n{#if item.label ===\"Columnes estratigràfiques\" }\n\n{#each columnes as column, index}\n<form>\n  <div class=\"multiselect\"  style=\"    margin-left: 18px;\n  margin-top: 8px;width:98%\" >\n    <div style=\"display: flex;\n    height: 32px\">\n\n        <div style=\"width:100%; \" class=\"selectBox\" on:click={colapseGroupCol}>\n          <select class=\"select\" style=\"  border-style: none;\">\n\n            <option >{column.groupLabel}</option>\n      \n          </select>\n        \n          <div class=\"overSelect\"  />\n        </div>\n\n\n\n    </div>\n\n  \n    {#if displayy}\n      <div id={column.groupId} class=\"checkboxes\">\n<!-- <div >\n  <div >\n    <FormField>\n      <Checkbox\n      indeterminate={true}\n        bind:checked={activated}\n        class=\"indentedfield\"\n        on:change={() => activateLayerGroup(layer, activated)} />\n   \n    <span class=\"headCheck\" slot=\"label\">Visualitza totes les columnes</span>\n   \n    </FormField>\n    \n  </div>\n    </div> -->\n\n  {#each column.items as item, index}\n\n\n\n    <LayerCheckBox  {item} {activated} />\n\n      \n  {/each}\n\n\n      \n\n      </div>\n    {/if}\n  </div>\n</form>\n{/each}\n\n\n\n\n{:else}\n    <LayerCheckBox  {item} {activated} />\n{/if}\n      \n        {/each}\n\n\n      \n\n      </div>\n    {/if}\n  </div>\n\n\n  <InfoBox groupLabel={layer.groupLabel} showinfo={showinfo} {labelArray}/>\n</form>\n\n\n<!-- <InfoBox groupLabel={layer.groupLabel} showinfo={showinfo} {labelArray}/> -->\n",
    "<script>\n  import IconButton, { Icon } from \"@smui/icon-button\";\n  import { onMount, getContext } from \"svelte\";\n  import { keyApp } from \"../../config\";\n\n  //console.log(\"entro llegenda\");\n\n  export let item;\n</script>\n\n<style>\n  .container {\n    display: grid;\n    width: 200px;\n    background-color: white;\n    right: 10px;\n    padding: 5px;\n    border-radius: 10px !important;\n  }\n</style>\n\n<div class=\"container\">{item.label}</div>\n",
    "<script>\n  import IconButton, { Icon } from \"@smui/icon-button\";\n  import { getContext } from \"svelte\";\n  import { baseLayers } from \"../../config\";\n const changeBaseLayer = getContext(\"changeBaseLayer\");\n const removeWmsBaseLayer = getContext(\"removeWmsBaseLayer\");\n  let basemap_show = false;\n\n  let mapselected = baseLayers[0];\nlet wms = baseLayers[2]\nlet wmsactive = false\n// console.log('wms', wms)\n\nvar elwms = document.getElementById('wmsid');\n\n// function letwms(){\n//   // console.log('kokoko')\n//   if ( document.getElementById(\"wmsid\").checked === false){\n//     // console.log('era false')\n//   wms = { url:\n//       \"removeestructuralwms\",\n//   },\n//   changeBaseLayer(wms)\n//     //remove wms\n//   }else{\n//     wms = baseLayers[2]\n//     // console.log('era true')\n//     changeBaseLayer(wms)\n//   }\n//   // \n// }\n// function letwmsfalse (){\n//   // console.log('wmsac', wmsactive)\n//   wmsactive= false\n//   document.getElementById(\"wmsid\").checked = false;\n// }\n \n</script>\n\n<style>\n  /* .container {\n    width: 84%;\n    left: 15px;\n    padding: 10px;\n    padding-left: 15px;\n    border-radius: 10px !important;\n  } */\n  .container{\n    width: 84%;\n    /* left: 15px; */\n    padding: 1px 10px 10px 10px;\n    border-radius: 10px!important;\n    position: relative;\n    top: -11px;\n  }\n\n  .wrapper {\n    display: grid;\n    /* grid-template-columns: 90px 90px;\n    grid-template-rows: 60px 60px; */\n    /* padding: 3px; */\n    grid-gap: 10px;\n    border-radius: 10px !important;\n  }\n  label {\n    color: black;\n    background-color: rgba(255, 255, 255, 1);\n    /* text-align: center !important; */\n    font-size: 13px !important;\n  }\n</style>\n\n<div class=\"container\">\n\n  <div id=\"menu\" class=\"wrapper\">\n\n    {#each baseLayers as value}\n    {#if value.url === \"estructuralwms\"}\n        <!-- <div style=\"height:50px;border-width: 1px;border-color: #bdb9b9;border-style: solid; background-image: url('{value.image}')\"> -->\n          <div >\n          <label>\n            <input id=\"wmsid\"\n              type=\"checkbox\"\n              checked={wmsactive}\n              {value}\n              \n              on:click={letwms}\n               />\n            {value.label}\n          </label>\n        </div>\n\n    {:else}\n        <div >\n              <label>\n                <input\n                  type=\"radio\"\n                  checked={value.label === mapselected.label ? true : false}\n                  {value}\n                  bind:group={mapselected}\n                  on:change={() => changeBaseLayer(mapselected)} \n              />\n                {value.label}\n              </label>\n            </div>\n\n    {/if}\n    \n    {/each}\n\n  </div>\n</div>\n",
    "<script>\n  import IconButton, { Icon } from \"@smui/icon-button\";\n  import { slide, fade } from \"svelte/transition\";\n\n  import PanelOverLayers from \"./PanelOverLayers.svelte\";\n  //import PanelCompareBaseMap from \"./PanelCompareBaseMap.svelte\";\n  import PanelBaseMap from \"./PanelBaseMap.svelte\";\n  import mapbox from \"mapbox-gl\";\n  import LeftMenu from \"../PanelDrawLeft/PanelLayers/LeftMenu.svelte\"\n\n  let starred = false;\n  let capes_show = false;\n  //let compare_show = false;\n  let basemap_show = false;\n  let switchLayer = true;\n  let llegenda_show = false;\n  let perillositat_selected;\n  let despreniments_selected;\n  let dense = false;\n  let prominent = false;\n  let variant = \"fixed\";\n  let collapsed = false;\n\n  let title = \"infoGeologica\";\n  //let Adjust = ShortFixedAdjust;\n\n  //export let show = false;\n  let modal_show = false;\n  //let compare_show;\n\n  function doSomething() {\n    starred = !starred;\n  }\n  setTimeout(() => {\n  capes_show = true}, 4000\n)\n  function changeCapesState() {\n    basemap_show = false;\n    //compare_show = false;\n    if (changeCapesState) {\n      capes_show = !capes_show;\n    }\n  }\n  function changeBasemapState() {\n    capes_show = false;\n    // compare_show = false;\n    if (changeBasemapState) {\n      basemap_show = !basemap_show;\n    }\n  }\n  function changeLlegendaState() {\n    basemap_show = false;\n    capes_show = false;\n\n    if (changeLlegendaState) {\n      llegenda_show = !llegenda_show;\n    }\n  }\n  function changeDrawerIntroState() {\n    \n    stateDrawerIntro.set(function() {\n      \n      return true;\n    });\n  }\n  // function changeCompareState() {\n\n  //   capes_show = false;\n  //   basemap_show = false;\n  //   if (changeCompareState) {\n  //     compare_show = !compare_show;\n  //   }\n  // }\n</script>\n\n<style>\n  .iconmenu {\n    \n    z-index: 10;\n    position: fixed;\n    margin-left: 0;\n    /* background-color: hsla(0,0%,100%,.7); */\n    border-radius: 40px;\n    height: 50px;\n    margin-top: -61px;\n    font-family: Arial, Helvetica, sans-serif;\n    color: black;\n  }\n\n@media (max-width: 624px) {\n  .iconmenu {\n    margin-left: 0;\n    height: 50px;\n    margin-top: -61px;\n  \n  }\n  }\n  @media (max-width: 415px) {\n    .iconmenu {\n    margin-left: 0;\n    height: 50px;\n    margin-top: -61px;\n  \n  }\n  }\n  @media (max-width: 321px) {\n    .iconmenu {\n    margin-left: 0;\n    height: 50px;\n    margin-top: -61px;\n  \n  }\n  }\n</style>\n\n<div class=\"iconmenu\" >\n\n  <!-- ICONA CAPES -->\n  <IconButton on:click={changeCapesState}  >\n    <!-- <Icon class=\"material-icons icono\" tabindex=\"1\" on>menu</Icon> -->\n    <!-- <Icon class=\"material-icons icono\" tabindex=\"1\" style={'font-size: 38px;'}>menu_outlined</Icon> -->\n    <i class=\"fa fa-bars\"></i>\n  </IconButton>\n  <!-- ICONA BASEMAP -->\n\n  <!-- <IconButton on:click={changeBasemapState}>\n    <Icon class=\"material-icons icono\" on>border_all</Icon>\n    <Icon class=\"material-icons icono\">border_all</Icon>\n  </IconButton> -->\n\n  <!-- <div class=\"wrapper desplegables\"> -->\n\n\n    <!-- {#if basemap_show}\n      <PanelBaseMap bind:show={basemap_show} />\n    {/if} -->\n\n    <!-- {#if compare_show}\n      <PanelCompareBaseMap   />\n    {/if} -->\n\n  <!-- </div> -->\n\n</div>\n\n    {#if capes_show}\n      <LeftMenu />\n    {/if}",
>>>>>>> 1ed08ea1a226fd9513960ae50faf6e54be727dee
    "<script>\n  import { onMount, getContext } from \"svelte\";\n  import LayerGroup from \"./LayerGroup.svelte\";\n  import PanelSearchBar from \"../PanelSearchBar/PanelSearchBar.svelte\";\n  import { layerTree } from \"../../config\";\nimport PanelBaseMap from \"./PanelBaseMap.svelte\";\nlet labelArray = ''\n</script>\n\n<style>\n  #fitcontent{\n    font-family: Arial, Helvetica, sans-serif;\n  }\n   /* #capaselect {\n    /* width: 215px;\n    background-color: white; \n    left: 10px;\n    padding-left: 15px;\n    padding-top: 15px;\n    /*border-radius: 10px !important; \n    max-height: 700px;\n    overflow: auto;\n  }  */\n  #capaselect{\n    left: -5px;\n    padding-left: 15px;\n    position: relative;\n    padding-top: 0px;\n    max-height: 700px;\n    /* overflow: auto; */\n    top: -17px;\n  }\n  h2{\n    /* color: white; */\n    padding-left: 10px;\n    /* font-weight: 200; */\n    font-size: larger;\n    position: relative;\n    top: -10px;\n  }\n  .headerImage2{\n/* position: relative;\ntop: -27px; */\n  }\n\n  @media (max-width: 624px) {\n    h2 {\n      font-size: 1rem !important;\n    }  \n  \n  }\n  @media (max-width: 500px) {\n    h2 {\n      font-size: 1rem !important;\n    }  \n\n  }\n  @media (max-width: 321px) {\n    h2 {\n      font-size: 1rem !important;\n    }  \n\n  }\n</style>\n<div class=\"fitcontent\">\n \n<div>\n\n    <div class=\"headerImage\">\n      <!-- <h2>Cercador:</h2> -->\n    <PanelSearchBar />\n <div>\n     <div class=\"headerImage2\">\n      \n      <h2>Selector de mapa base:</h2>\n    <PanelBaseMap />\n\n\n    </div>\n</div>\n        <h2>Selector de capes:</h2>\n    </div>\n    <div id=\"capaselect\" class=\"container list\">\n\n\n\n      {#each layerTree as layer, index}\n    <LayerGroup {layer} {labelArray}/>\n      {/each}\n\n    </div>\n</div>\n  \n\n\n \n\n\n </div>",
    "<script>\n  import { onMount, getContext } from \"svelte\";\n  import Button from \"@smui/button\";\n  import mapbox from \"mapbox-gl\";\n  import { keyApp } from \"../../config\";\n\n  export let item;\n\n  let overLayers = getContext(\"overLayers\");\n\n  const changePaintProperty = getContext(\"changePaintProperty\");\n\n  // let slider_show = false;\n\n  // var slider = document.getElementById(\"slider\");\n\n  // var sliderValue = document.getElementById(\"slider-value\");\n\n  function changeOpacity(e) {\n \n   changePaintProperty(item, event.target.value);\n     \n    // console.log('event target',event.target.value)\n    // console.log('itemvaue', item)\n  }\n</script>\n\n<style>\n  .map-overlay {\n    font: bold 12px/20px \"Helvetica Neue\", Arial, Helvetica, sans-serif;\n    position: relative;\n    width: 75% !important;\n    top: 0px !important;\n    left: -5px !important;\n    padding: 0px;\n  }\n\n  .map-overlay .map-overlay-inner {\n    background-color: #fff;\n    box-shadow: 0px !important;\n    border-radius: 0px !important;\n    padding: 0px !important;\n    margin-bottom: 0px !important;\n  }\n\n  .map-overlay label {\n    display: block;\n    margin: 0 0 10px;\n  }\n\n  .map-overlay input {\n    background-color: transparent;\n    display: inline-block;\n    width: 100%;\n    position: relative;\n    margin: 0;\n    cursor: ew-resize;\n  }\n</style>\n\n<div class=\"map-overlay top\">\n  <div class=\"map-overlay-inner\">\n\n    <input\n     \n      on:change={changeOpacity}\n      type=\"range\"\n      min=\"0\"\n      max=\"100\"\n      step=\"0\"\n      value=\"50\" />\n      <!-- <input\n      id=\"slider\"\n      on:change={changeOpacity}\n      type=\"range\"\n      min=\"0\"\n      max=\"100\"\n      step=\"0\"\n      value=\"50\" /> -->\n  </div>\n</div>\n",
    "<script>\n  import Textfield, { Input, Textarea } from \"@smui/textfield\";\n  import Icon from \"@smui/textfield/icon/index\";\n  import HelperText from \"@smui/textfield/helper-text/index\";\n  import CharacterCounter from \"@smui/textfield/character-counter/index\";\n  import { Icon as CommonIcon } from \"@smui/common\";\n  import IconButton from \"@smui/icon-button\";\n  import FloatingLabel from \"@smui/floating-label\";\n  import LineRipple from \"@smui/line-ripple\";\n  import NotchedOutline from \"@smui/notched-outline\";\n  import { onMount, getContext } from \"svelte\";\n  import Button from \"@smui/button\";\n  import mapbox from \"mapbox-gl\";\n  import { keyApp } from \"../../config\";\n  import PanelSearchResults from \"./PanelSearchResults.svelte\";\n  import Checkbox from \"@smui/checkbox\";\n  import FormField from \"@smui/form-field\";\n  import AutoComplete from \"simple-svelte-autocomplete\";\n  import Select from \"@smui/select\";\n\n  let selectedValue = undefined;\n  let opcioCoord = [];\n\n  const changePlace = getContext(\"changePlace\");\n\n  let searchTerm = \"\";\n\n  let minCharacter = 2;\n  let maxResults = 0;\n  let fullTextSearch = \"exact\";\n  var json = [];\n\n  let coords = [];\n  let option;\n  let val = \"\";\n  let timer;\n\n  const debounce = v => {\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n      searchTerm = v;\n      findResults(searchTerm);\n    }, 250);\n  };\n  const searchUrl =\n    \"https://betaserver.icgc.cat/icgc_geocoder/?maxresultats=17&obtenirCoordGeografiques=si&tipus=Municipi&metode=localitzaToponim&ordre=alfabetic&trobaTots=no&nom=\";\n\n  const findResults = async event => {\n    const response = await fetch(`${searchUrl}${searchTerm}`);\n\n    json = await response.json();\n\n    json.forEach(element => {\n      const nomOpcio = element.nom;\n\n      const coordOpcio = element.coordenadesLonLat;\n\n      const opcio = [{ coordOpcio, nomOpcio }];\n    });\n  };\n\n  function changePlaces(option) {\n    coords = option.coordenadesLonLat;\n\n    changePlace({ coords });\n    searchTerm = option.nom\n    //searchTerm = \"\";\n  }\n\n  function removeTerm() {\n    \n    searchTerm = \"\";\n  }\n\nfunction changeTerm(option){\n  searchTerm = option.nom\n  addEventListener(\"keypress\", function onEvent(event) {\n    \n    if (event.key === \"Enter\") {\n\n        changePlaces(option)\n    }\n    if (event.key === \"Escape\") {\n      //console.log('h')\n        removeTerm()\n    }\n});\naddEventListener(\"keydown\", function onEvent(event) {\n    \n  \n    if (event.key === \"Escape\") {\n\n        removeTerm()\n    }\n});\n}\n  \n</script>\n\n<style>\n  .form-group{\n    align-content: space-between;\n  }\n  #text {\n    color: blueviolet;\n  }\n  .search-text-input {\n    margin-top: 17px;\n    margin-left: 25px !important;\n    /* width: 220px !important; */\n  }\n  .searchbox {\n    /* min-width: 120px !important; */\n    width: 87%;\n    margin-top: 0!important;\n    height: 33px!important;\n    margin-left: -14px!important;\n    z-index: 1000!important;\n  }\n  #optionLabel {\n    /* border-color: black;\n    background-color: white; */\n    color: black;\n    /* border-width: 1px; */\n    z-index: 3000 !important;\n    cursor: pointer;\n  }\n  .optionLabel:hover {\n    color: rgb(50, 112, 205);\n  }\n\n  .results {\n    display: flex;\n    flex-wrap: wrap;\n    width: 146px !important;\n    justify-content: space-around;\n    margin-top: 2em;\n    background-color: dimgray;\n  }\n\n  #resultsBox {\n    display: block;\n    margin-top: 20px;\n    background-color: dimgray;\n  }\n  .iconaSurt {\n    size: small;\n  }\n  #buttonSurt{\n    margin-left: 0px;\n    color: black;\n    background-color: blue !important;\n \n  }\n  /* .selectResults {\n    /* position: absolute; */\n    /*border-color: #000; */\n    /* background-color: #fff; */\n    /* border-width: thin; */\n    /* outline: auto; */\n    /* outline-color: #00008b; */\n    /* left: 19px;\n    top: 102px;\n    margin-left: -6px;\n    margin-top: -6px;\n    overflow-y: auto;\n    max-height: 528px;\n    width: 88%;\n  } */ \n  /* .selectResults {\n    left: 19px;\n    top: 99px;\n    margin-left: -7px;\n    margin-top: -69px;\n    overflow-y: auto;\n    \n    max-height: 200px;\n    width: 90.3%;\n    border-style: ridge;\n    } */\n    .selectResults{\n      left: 19px;\n    top: 99px;\n    margin-left: -13px;\n    margin-top: -13px;\n    overflow-y: auto;\n    max-height: 200px;\n    width: 86.0%;\n    border-style: solid;\n    border-width: 1px;\n    border-color: #cccccc;\n    }\n  @media (max-width: 624px) {\n    .results {\n    display: flex;\n    flex-wrap: wrap;\n    width: 146px !important;\n    justify-content: space-around;\n    margin-top: 2em;\n    background-color: dimgray;\n  }\n    .selectResults {\n      left: 19px;\n    top: 102px;\n    margin-left: -6px;\n    margin-top: -6px;\n    overflow-y: auto;\n    max-height: 528px;\n    width: 88%;\n      \n    }\n    #optionLabel {\n      font-size: small !important;\n    }\n\n    .searchbox {\n    width: 70%;\n    margin-top: 0!important;\n    height: 43px!important;\n    margin-left: -7px!important;\n    z-index: 1000!important;\n    }\n\n  }\n  @media (max-width: 500px) {\n    .selectResults {\n      left: 19px;\n    top: 102px;\n    margin-left: -6px;\n    margin-top: -6px;\n    overflow-y: auto;\n    max-height: 528px;\n    width: 88%;\n      \n    }\n    #optionLabel {\n      font-size: x-small !important;\n    }\n\n    .searchbox {\n    width: 62%;\n    margin-top: 0!important;\n    height: 43px!important;\n    margin-left: -7px!important;\n    z-index: 1000!important;\n    }\n  }\n  @media (max-width: 321px) {\n\n    .mdc-icon-button {\n    width: 8px !important;\n    height: 8px !important;\n    }\n    \n    .selectResults {\n      left: 19px;\n    top: 102px;\n    margin-left: -6px;\n    margin-top: -6px;\n    overflow-y: auto;\n    max-height: 528px;\n    width: 88%;\n      \n    }\n    .search-text-input {\n    margin-top: 17px;\n    margin-left: 15px !important;\n    /* width: 220px !important; */\n  }\n    #optionLabel {\n      font-size: x-small !important;\n    }\n\n    .searchbox {\n    width: 80%;\n    margin-top: 0!important;\n    height: 30px!important;\n    margin-left: -2px!important;\n    z-index: 1000!important;\n    }\n  }\n</style>\n\n<div class=\"search-text-input \">\n\n  <form class=\"form\">\n    <div class=\"form-group\">\n      <input\n        withTrailingIcon\n        placeholder=\"Cerca un municipi\"\n        id=\"searchTerm\"\n        class=\"form-control searchbox\"\n        type=\"text\"\n        bind:value={searchTerm}\n        style=\"border-top-color: transparent;\n        border-left: transparent;\n        background-color: #f3f3f3;\n        border-right: transparent;\n        border-radius: 6px;\"\n        on:keyup={({ target: { value } }) => debounce(value)} />\n        <!-- <IconButton class=\"buttonSurt\" on:click={removeTerm(searchTerm)}>\n          <Icon style=\"font-size: smaller\" class=\"material-icons iconaSurt \">\n            clear\n          </Icon>\n        </IconButton> -->\n        {#if searchTerm.length > 2}\n      <IconButton id=\"buttonSurt\" style=\" top: 4px;\" on:click={removeTerm(searchTerm)} >\n        <Icon style=\"font-size: smaller;padding-left:-10px;\" class=\"material-icons iconaSurt \">\n          clear\n        </Icon>\n         </IconButton>\n    {/if}\n    </div>\n\n  </form>\n\n\n{#if searchTerm.length > 2}\n \n  <div class=\"selectResults\" >\n    {#each json as option}\n      <option on:submit={changePlaces(option)}\n        on:click={changePlaces(option)}\n        on:focus={changeTerm(option)}\n        id=\"optionLabel\"\n        labelFieldName=\"nom\" tabindex=\"0\">\n        {option.nom}\n      </option>\n    {/each}\n\n  </div>\n{/if}\n\n\n  \n</div>\n",
    "<script>\n  import { onMount, getContext } from \"svelte\";\n  import Select from \"@smui/select\";\n\n  const changePlace = getContext(\"changePlace\");\n\n  export let json;\n  export let selectedValue;\n  let coords = [];\n  let option;\n\n  function changeToCoord(selectedValue) {\n    json.forEach(element => {\n     \n      const nomOpcio = element.nom;\n\n      const coordOpcio = element.coordenadesLonLat;\n\n      const opcio = [{ coordOpcio, nomOpcio }];\n\n      if (opcio[0].nomOpcio === selectedValue) {\n        coords = opcio[0].coordOpcio;\n\n        changePlace({ coords });\n      } else {\n        return;\n      }\n    });\n  }\n</script>\n\n<style>\n  .results {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-around;\n    margin-top: 2em;\n  }\n  #resultsBox {\n    display: block;\n    margin-top: 20px;\n  }\n  .selectResults {\n    border-radius: 2px;\n    position: relative;\n    left: -53px;\n    top: -7px;\n    height: 43px;\n    z-index: 1;\n  }\n  @media (max-width: 665px) {\n    .results {\n      font-size: 1rem !important;\n      position: absolute;\n      /* left: 50%; */\n      /* top: 50%; */\n      font-size: small;\n      width: 200px !important;\n    }\n    .selectResults {\n      border-radius: 0;\n      position: absolute;\n      left: 14px;\n      top: -10px;\n      height: 27px;\n      z-index: 1;\n      font-size: small;\n      width: 110px;\n    }\n    .optionLabel {\n      font-size: x-small !important;\n    }\n  }\n</style>\n\n<div class=\"results\" tabindex=\"0\">\n  <select\n    class=\"selectResults\"\n    bind:value={selectedValue}\n    onchange={changeToCoord(selectedValue)} tabindex=\"0\" >\n    {#each json as option}\n      <option class=\"optionLabel\" labelFieldName=\"nom\" tabindex=\"0\">{option.nom}</option>\n    {/each}\n\n  </select>\n</div>\n",
    "<script>\n  export let linkjpg;\n  export let selected;\n  export let typedata;\n  // console.log(\"typoe\", typedata);\n\n  let url;\n  if (typedata === \"cols\" || typedata === \"relacions\") {\n    url = linkjpg;\n  }\n  if (typedata === \"talls\") {\n    url = `https://tilemaps.icgc.cat/tileserver/geoindex/infogeo/dades/talls/${selected}.jpg`;\n  } else {\n  }\n</script>\n\n<style>\n  #containertalls {\n    z-index: 2;\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n  }\n  #containercols {\n    z-index: 2;\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n \n    display: flex;\n    justify-content: center;\n  }\n  .tall {\n    width: 70%;\n    border-width: 2px;\n    border-style: solid;\n    margin-left: 15%;\n    max-width: 100%;\n    max-height: 71em;\n  }\n  .col {\n    border-width: 2px;\n    border-style: solid;\n\n    max-width: 100%;\n    max-height: 56em;\n  }\n  .tanca {\n    float: right;\n    position: relative;\n  }\n</style>\n\n{#if typedata === 'cols' || typedata === 'relacions'}\n  <div id=\"containercols\"><img src={url} alt=\"imatgeCol\" class=\"col\" /></div>\n  {/if}\n   {#if typedata === 'talls'}\n  <div id=\"containertalls\"><img src={url} alt=\"imatgeTall\" class=\"tall\" /></div>\n{/if}\n",
    "\n <script>\n  import Drawer, {AppContent, Content, Header, Title, Subtitle, Scrim} from '@smui/drawer';\n  import Button, {Label} from '@smui/button';\n  import List, {Item, Text, Graphic, Separator, Subheader} from '@smui/list';\n  import H6 from '@smui/common/H6.svelte';\n  import CrossSection from './CrossSection.svelte'\n  import IconButton, { Icon } from \"@smui/icon-button\";\n  export let selected;\nexport let typedata;\nexport let linkjpg;\n\n//  console.log('pip', selected, linkjpg)\n\n</script>\n\n<style>\n#container{\n  z-index: 2;\n  position: absolute;\n \n bottom: -7px;\n  max-height: 248px;\n  width: 100%;\n  background-color: rgba(255,255,255,.9);\n  \n}\n</style>\n\n<div id=\"container\">\n    \n<CrossSection {selected} {linkjpg} typedata={typedata}/>\n\n\n\n     \n    </div>\n\n     ",
<<<<<<< HEAD
    "<script>\r\n    import { onMount, getContext } from \"svelte\";\r\n    //import { keyApp } from \"../../config\";\r\n    import { keyApp } from \"../../config\";\r\n    import  { mapbox } from '../../Components/Map/mapbox';\r\n    import Fa from \"svelte-fa\";\r\n    import {\r\n      faWind,faCube, faWater\r\n    } from \"@fortawesome/free-solid-svg-icons\";\r\n    import Icon from \"@smui/textfield/icon/index\";\r\n    import IconButton from \"@smui/icon-button\";\r\n\r\n  // console.log('w', window.width)\r\n  let button3d = false;\r\n  let seaCurrent = false;\r\n//   const letWindyShow = getContext(\"letWindyShow\");\r\n//   const letCurrentShow = getContext(\"letCurrentShow\");\r\n//   const letshowthewind = getContext(\"letshowthewind\");\r\n//   const letNoshowthewind = getContext(\"letNoshowthewind\");\r\n    const { getMap } = getContext(keyApp);\r\n    const map = getMap();\r\n\r\n\r\nlet pit = undefined\r\n onMount(async () => {\r\n \r\n\r\n    //     console.log('abans', highliItem)\r\n    map.on(\"pitchend\", function (e) {\r\n      setTimeout(() => {\r\n      \r\n        \r\n\r\n     \r\n      let ur  = map['_canvas']['baseURI']\r\n      let purl = ur.toString()\r\n      purl = purl.split(\"/\");\r\n   \r\nif (purl.length > 7){\r\n\r\n  button3d = true\r\n}else{\r\n \r\n  button3d = false\r\n}\r\n\r\n    }, 250);\r\n\r\n\r\n\r\n\r\n      \r\n    })\r\n\r\n    })\r\n\r\n\r\n\r\n//     onChange( () => {\r\n//       console.log('canvi')\r\n// pit = map['_easeOptions']['pitch']\r\n// console.log(map['_easeOptions']['pitch'])\r\n//     })\r\n   let windy = true\r\n    function getWind(){\r\n          windy = !windy\r\n          letWindyShow()\r\n          if (windy){\r\n            button3d=false\r\n            seaCurrent = false\r\n          }\r\n    }\r\n  \r\n    function getCurrent(){\r\n      seaCurrent = !seaCurrent\r\n      //  letWindyShow()\r\n       letCurrentShow()\r\n          if (seaCurrent){\r\n            button3d=false\r\n            windy =false\r\n          }\r\n    }\r\n    function flyHome(){\r\n      // console.log('1')\r\n        map.flyTo({\r\n            center: [3.29076, 42.30306],\r\n        zoom: 12.87,\r\n        pitch: 0, // pitch in degrees\r\n        bearing: 0,\r\n            });\r\n    }\r\n    function see2d(){\r\n      \r\n      // console.log('entro per canviar a 2d')\r\n      button3d=false\r\n      map.easeTo({ pitch: 0, bearing: 0 });\r\n      // letWindyShow()\r\n    }\r\n    function see3d(){\r\n      // console.log('3')\r\n      button3d=true\r\n      // console.log('entro per canviar a 3d')\r\n      windy = false\r\n      map.easeTo({ pitch: 70, bearing: 10 });\r\n      // console.log('2', map['_easeOptions']['pitch'])\r\n      letNoshowthewind()\r\n      \r\n      // letWindyShow()\r\n    }\r\n    \r\n  </script>\r\n  \r\n  <style>\r\n  \r\n  .buttonHome{\r\n    z-index: 100;\r\n      top: 77px;\r\n      right: 16px;\r\n      position: absolute;\r\n  }\r\n  .divButtons{\r\n    z-index: 100;\r\n  bottom: 38%;\r\n  right: -6px;\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 158px;\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  width: 51px;\r\n  }\r\n  .iconi{\r\n    padding-left: 10px;\r\n  }\r\n  @media (max-width: 500px) {\r\n    .divButtons{\r\n    z-index: 100;\r\n  bottom: 32%;\r\n  right: -4px;\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 158px;\r\n  /* background-color: white; */\r\n  border-radius: 8px;\r\n  width: 37px;\r\n  }\r\n  }\r\n  </style>\r\n  \r\n  \r\n  \r\n  \r\n  {#if window.innerWidth >500}\r\n  <!-- <div class=\"divButtons\" > -->\r\n  <div style=\"        z-index: 100;\r\n  bottom: 38%;\r\n  right: 8px;\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  height: auto;\r\n  background-color: white;\r\n  border-radius: 19px;\r\n  \">\r\n  <!-- <IconButton title=\"Torna a la vista inicial\" class=\"buttonSurt\" on:click={flyHome}>\r\n    <Icon\r\n   \r\n      style=\"    color: black;\r\n      \r\n      padding: 0px;\r\n      \r\n      border-radius: 49px;\"\r\n      class=\"material-icons iconaSurt iconi\">\r\n      home\r\n    </Icon>\r\n  </IconButton> -->\r\n  {#if button3d}\r\n  <IconButton title=\"3D/2D\" class=\"buttonSurt\" on:click={see2d}>\r\n    <Fa\r\n    icon={faCube}\r\n    size=\"2x\"\r\n    class=\"iconi\"\r\n    style=\"      color: blue;\r\n    top: -13px;\r\n    position: relative;\r\n    padding: 0px;\r\n    \r\n    border-radius: 49px;\" /> <p style=\"bottom: 43px;\r\n    position: relative;\r\n    font-size: 17px;color: blue\">3D</p>\r\n  </IconButton>\r\n  {:else}\r\n  <IconButton title=\"3D/2D\" class=\"buttonSurt\" on:click={see3d}>\r\n    <Fa\r\n    icon={faCube}\r\n    class=\"iconi\"\r\n    size=\"2x\"\r\n    style=\"     color: grey;\r\n    top: -13px;\r\n    position: relative;\r\n    padding: 0px;\r\n    \r\n    border-radius: 49px;\" />\r\n    <p style=\"bottom: 43px;\r\n    position: relative;\r\n    font-size: 17px; color: grey\">3D</p>\r\n  </IconButton>\r\n  {/if}\r\n  \r\n  <!-- {#if !windy}\r\n  \r\n  <IconButton title=\"Anima el vent en 2D\" class=\"buttonSurt\" on:click={getWind}>\r\n    <Fa\r\n    icon={faWind}\r\n    size=\"2x\"\r\n    style=\"      color: grey;\r\n      \r\n    padding: 0px;\r\n    \r\n    border-radius: 49px;\" /> \r\n  </IconButton>\r\n  {:else}\r\n  \r\n  <IconButton title=\"Anima el vent en 2D\" class=\"buttonSurt\" on:click={getWind}>\r\n    <Fa\r\n    icon={faWind}\r\n    size=\"2x\"\r\n    style=\"      color: blue;\r\n      \r\n    padding: 0px;\r\n    \r\n    border-radius: 49px;\" />\r\n  </IconButton>\r\n  {/if} -->\r\n  \r\n  <!-- {#if !seaCurrent}\r\n  \r\n  <IconButton title=\"Anima la mar de fons en 2D\" class=\"buttonSurt\" on:click={getCurrent}>\r\n    <Fa\r\n    icon={faWater}\r\n    size=\"2x\"\r\n    style=\"      color: grey;\r\n      \r\n    padding: 0px;\r\n    \r\n    border-radius: 49px;\" /> \r\n  </IconButton>\r\n  {:else}\r\n  \r\n  <IconButton title=\"Anima la mar de fons en 2D\" class=\"buttonSurt\" on:click={getCurrent}>\r\n    <Fa\r\n    icon={faWater}\r\n    size=\"2x\"\r\n    style=\"      color: blue;\r\n      \r\n    padding: 0px;\r\n    \r\n    border-radius: 49px;\" />\r\n  </IconButton>\r\n  {/if} -->\r\n  \r\n  </div>\r\n  {/if}\r\n  \r\n  <!-- MENYS DE 500PX WIDTH -->\r\n  {#if window.innerWidth <500}\r\n  <!-- <div class=\"divButtons\" > -->\r\n  <div style=\"z-index: 10000;\r\n  bottom: 35%;\r\n  /* width: 70%; */\r\n  right: 7px;\r\n  height: 10px;\r\n  opacity: 1.6;\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: fit-content;\r\n  border-radius: 10px;\r\n  background-color: white;\r\n  box-shadow: 0px 0px 11px 3px rgb(143 154 154 / 68%), 0 6px 20px 0 rgb(243 243 243 / 0%);\r\n  border-radius: 10px;\">\r\n  <!--background: linear-gradient( \r\n    180deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0) 24%, rgb(236 236 236) 24%,rgb(252 253 253) 100%)\">\r\n   <div style=\"        z-index: 100;\r\n  bottom: 32%;\r\n  right: -4px;\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: auto;\r\n  background-color: white;\r\n  border-radius: 10px;\r\n  }\"> -->\r\n  <!-- <IconButton title=\"Torna a la vista inicial\" class=\"buttonSurt\" on:click={flyHome}>\r\n    <Icon\r\n   \r\n      style=\"    color: black;\r\n      \r\n      position: relative;\r\n      padding: 0px;\r\n      font-size: 28px;\r\n      \r\n      border-radius: 49px;\r\n  \"\r\n      class=\"material-icons iconaSurt iconi\">\r\n      home\r\n    </Icon>\r\n  </IconButton> -->\r\n  {#if button3d}\r\n  <IconButton title=\"3D/2D\" class=\"buttonSurt\" on:click={see2d}>\r\n    <Fa\r\n    icon={faCube}\r\n    size=\"1x\"\r\n    class=\"iconi\"\r\n    style=\"      color: blue;\r\n    \r\n    top: -10px;\r\n    position: relative;\r\n    padding: 0px;\r\n    padding-top: 7px;\r\n    right: 6px;\r\n    border-radius: 49px;\" /> <p style=\"bottom: -13px;\r\n    right: 5px;\r\n    position: absolute;\r\n    font-size: 15px;color: blue\">3D</p>\r\n  </IconButton>\r\n  {:else}\r\n  <IconButton title=\"3D/2D\" class=\"buttonSurt\" on:click={see3d}>\r\n    <Fa\r\n    icon={faCube}\r\n    class=\"iconi\"\r\n    size=\"1x\"\r\n    style=\"     color: grey;\r\n    top: -10px;\r\n    position: relative;\r\n    padding: 0px;\r\n    padding-top: 7px;\r\n    right: 6px;\r\n    border-radius: 49px;\" />\r\n    <p style=\"bottom: -13px;\r\n    right: 5px;\r\n    position: absolute;\r\n    font-size: 15px; color: grey\">3D</p>\r\n  </IconButton>\r\n  {/if}\r\n<!--   \r\n  {#if !windy}\r\n  \r\n  <IconButton title=\"Anima el vent en 2D\" class=\"buttonSurt\" on:click={getWind}>\r\n    <Fa\r\n    icon={faWind}\r\n    size=\"1x\"\r\n    style=\"      color: grey;\r\n      \r\n    padding: 0px;\r\n  \r\n    position: relative;\r\n    border-radius: 49px;\" /> \r\n  </IconButton>\r\n  {:else}\r\n  \r\n  <IconButton title=\"Anima el vent en 2D\" class=\"buttonSurt\" on:click={getWind}>\r\n    <Fa\r\n    icon={faWind}\r\n    size=\"1x\"\r\n    style=\"      color: blue;\r\n   \r\n    position: relative;\r\n    padding: 0px;\r\n    \r\n    border-radius: 49px;\" />\r\n  </IconButton>\r\n  {/if}\r\n  \r\n  \r\n  {#if !seaCurrent}\r\n  \r\n  <IconButton title=\"Anima el vent en 2D\" class=\"buttonSurt\" on:click={getCurrent}>\r\n    <Fa\r\n    icon={faWater}\r\n    size=\"1x\"\r\n    style=\"      color: grey;\r\n  \r\n    padding: 0px;\r\n  \r\n    position: relative;\r\n    border-radius: 49px;\" /> \r\n  </IconButton>\r\n  {:else}\r\n  \r\n  <IconButton title=\"Anima el vent en 2D\" class=\"buttonSurt\" on:click={getCurrent}>\r\n    <Fa\r\n    icon={faWater}\r\n    size=\"1x\"\r\n    style=\"      color: blue;\r\n  \r\n    position: relative;\r\n    padding: 0px;\r\n    \r\n    border-radius: 49px;\" />\r\n  </IconButton>\r\n  {/if} -->\r\n  \r\n  </div>\r\n  {/if}\r\n  ",
    "<script>\r\n  import { stateDrawer } from \"../../Utils/stores.js\";\r\n  import PanelSearchBar from \"../PanelSearchBar/PanelSearchBar.svelte\";\r\n  import Modal from \"../../UI/Modal.svelte\";\r\n  import Logo from \"../../UI/Logo.svelte\";\r\n  import Title from \"./Title.svelte\"\r\n  import TopAppBar, {\r\n    Row,\r\n    Section,\r\n       FixedAdjust,\r\n    DenseFixedAdjust,\r\n    ProminentFixedAdjust,\r\n    ShortFixedAdjust\r\n  } from \"@smui/top-app-bar\";\r\n  import IconButton from \"@smui/icon-button\";\r\n  let dense = false;\r\n  let prominent = false;\r\n  let variant = \"fixed\";\r\n  let collapsed = false;\r\n\r\n\r\n  let Adjust = ShortFixedAdjust;\r\n\r\n  export let show = false;\r\n  let modal_show = false;\r\n\r\n  function changeDrawerState() {\r\n    stateDrawer.set(function() {\r\n      return true;\r\n    });\r\n  }\r\n\r\n  function openInfoDialog() {\r\n    openModalInfo = true;\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .topAppBar{\r\n    border-radius: 10;\r\n  }\r\n  #titulo {\r\n    /* font-size: 1.82em !important; */\r\n    font-size: 22px;\r\n    padding-left: 72px;\r\n    padding-bottom: 9px;\r\n  }\r\n  .logos{\r\n    right: 0;\r\n  }\r\n  @media (max-width: 624px) {\r\n    #titulo {\r\n      font-size: 1.5rem !important;\r\n    }\r\n  }\r\n  @media (max-width: 500px) {\r\n    #titulo {\r\n      font-size: 1rem !important;\r\n    }\r\n  }\r\n  @media (max-width: 321px) {\r\n    #titulo {\r\n      font-size: 0.9rem !important;\r\n    }\r\n  }\r\n  @media (max-width: 775px) {\r\n    .btinfor {\r\n      opacity: 0 !important;\r\n    }\r\n  }\r\n</style>\r\n\r\n<Modal bind:show={modal_show} />\r\n<div class=\"top-app-bar-container flexor\">\r\n  <TopAppBar class=\"topAppBar\" variant=\"short\" {dense} {prominent} bind:collapsed>\r\n    <Row>\r\n    \r\n       <!-- <Section> \r\n          <PanelSearchBar />\r\n      \r\n       </Section> -->\r\n\r\n      <Section id=\"titulo\" style=\"padding-left: 55px;\">\r\n        \r\n        <Title />\r\n          \r\n         <!-- <Logo />   -->\r\n         <IconButton\r\n          on:click={() => {\r\n            modal_show = true;\r\n            show = false;\r\n          }}\r\n          id=\"topbarInfo\"\r\n          style=\"color:black\"\r\n          class=\"btinfo material-icons\"\r\n          aria-label=\"Informació\">\r\n          info\r\n        </IconButton>\r\n           \r\n   \r\n   \r\n      </Section>\r\n\r\n      <!-- <Section align=\"end\" toolbar class=\"btinfor\"> -->\r\n\r\n\r\n      <!-- </Section> -->\r\n    </Row>\r\n  </TopAppBar>\r\n  <div use:Adjust />\r\n</div>\r\n",
    "<script>\r\n \r\n \r\n let title = \"ICGC Geoíndex - Capes d’informació geològica derivades del Mapa Geològic de Catalunya 1:25.000\";\r\n</script>\r\n\r\n<style>\r\n\r\n  #titulo {\r\n    /* font-size: 1.82em !important; */\r\n    font-size: 1.4rem;\r\n    text-align-last: center;\r\n    text-align: center;\r\n    padding-bottom: 9px;\r\n    padding-top: 2px;\r\n    \r\n  }\r\n  @media (max-width: 1050px) {\r\n    #titulo {\r\n      font-size: 1.0rem !important;\r\n      text-align-last: center;\r\n      text-align: center;\r\n      padding-top: 2px;\r\n      /* padding-left: 33%; */\r\n    }\r\n  }\r\n  @media (max-width: 960px) {\r\n    #titulo {\r\n      font-size: 0.8rem !important;\r\n      text-align-last: center;\r\n      text-align: center;\r\n      padding-top: 2px;\r\n      /* padding-left: 26%; */\r\n    }\r\n  }\r\n  @media (max-width: 700px) {\r\n    #titulo {\r\n      font-size: 0.69rem !important;\r\n      text-align-last: center;\r\n      text-align: center;\r\n      padding-top: 2px;\r\n      /* padding-left: 23%; */\r\n    }\r\n  }\r\n  @media (max-width: 321px) {\r\n    #titulo {\r\n      font-size: 0.69rem !important;\r\n      text-align-last: center;\r\n      text-align: center;\r\n      padding-top: 2px;\r\n      /* padding-left: 17%; */\r\n    }\r\n  }\r\n</style>\r\n\r\n<div class=\"headerLogo\"  style=\"    width: -webkit-fill-available;\">\r\n  <h1 id=\"titulo\" tabindex=\"0\">{title}</h1>\r\n</div>\r\n",
    "<script>\n\n</script>\n\n<style>\n  .headerLogo {\n    position: absolute;\n    z-index: 1000;\n    right: 50px;\n    opacity: 1;\n  }\n\n  @media (max-width: 775px) {\n    .headerLogo {\n      opacity: 0;\n    }\n  }\n</style>\n\n<div class=\"headerLogo\">\n  <a\n    title=\"Institut Catogràfic i Geològic de Catalunya\"\n    href=\"https://www.icgc.cat\"\n    target=\"_blank\">\n    <img\n      width=\"125\"\n      alt=\"Logi ICGCG\"\n      src=\"assets/ICGC_white.svg\"\n      class=\"ui image logo\" />\n  </a>\n</div>\n",
    "<script>\r\n\r\n</script>\r\n\r\n<style>\r\n  .headerLogo {\r\n    position: absolute;\r\n    z-index: 1000;\r\n    right: 7%;\r\n    bottom: -4px;\r\n    opacity: 1;\r\n  }\r\n\r\n  @media (max-width: 775px) {\r\n    .headerLogo {\r\n      opacity: 0;\r\n    }\r\n  }\r\n</style>\r\n\r\n<div class=\"headerLogo\">\r\n  <a\r\n    title=\"Institut Catogràfic i Geològic de Catalunya\"\r\n    href=\"https://www.icgc.cat\"\r\n    target=\"_blank\">\r\n    <img\r\n      width=\"125\"\r\n      alt=\"Logi ICGCG\"\r\n      src=\"assets/icgc_blanc.png\"\r\n      class=\"ui image logo\" />\r\n  </a>\r\n\r\n</div>\r\n",
    "<script>\r\n  import Dialog, { Title, Content, Actions } from \"@smui/dialog\";\r\n  import Button, { Label } from \"@smui/button\";\r\n  import { fade } from \"svelte/transition\";\r\n  import LineRipple from \"@smui/line-ripple\";\r\n  import IconButton, { Icon } from \"@smui/icon-button\";\r\n  function overlay_click(e) {\r\n    if (\"close\" in e.target.dataset) show = false;\r\n  }\r\n\r\n  export let show = false;\r\n  function closeButton () {\r\n    show = false\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .modal-overlay {\r\n    z-index: 2000;\r\n    font-size: 10px !important;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    /* overflow: auto;\r\ndisplay: flex;\r\n position: fixed;\r\n    top: 35%;\r\n    left: 30%;\r\n    transform: translate(-23%,-23%); */\r\n  }\r\n  .modal-container {\r\n    overflow: auto;\r\n    display: block;\r\n    position: fixed;\r\n    top: 31%;\r\n    left: 26%;\r\n    bottom: 16%;\r\n    transform: translate(-23%, -23%);\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    border-radius: 18px;\r\n  }\r\n  .textModal{\r\n    font-size: small !important;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n  }\r\nh6{\r\n  font-size: 1rem;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  font-weight: 100;\r\n}\r\nh5{\r\n  font-size: 1.1rem;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  margin-top: -43px;\r\n    margin-bottom: -26px;\r\n}\r\n  @media (max-width: 600px) {\r\n    .mdc-dialog__title {\r\nfont-size: smaller;\r\n    }\r\n    .modal-overlay {\r\n      /* font-size: smaller !important; */\r\n    }\r\n    h6{\r\n  font-size: 0.8rem;\r\n}\r\nh5{\r\n  font-size:0.9rem;\r\n  margin-top: -43px;\r\n    margin-bottom: -26px;\r\n}\r\n  }\r\n  @media (max-width: 321px) {\r\n    .mdc-dialog__title {\r\nfont-size: smaller;\r\n    }\r\n    h6{\r\n  font-size: 0.7rem;\r\n}\r\nh5{\r\n  font-size:0.8rem;\r\n  margin-top: -43px;\r\n    margin-bottom: -26px;\r\n}\r\n\r\n  }\r\n</style>\r\n\r\n{#if show}\r\n  <div>\r\n    <div\r\n      class=\"modal-overlay\"\r\n      data-close\r\n      on:click={overlay_click}\r\n      transition:fade={{ duration: 150 }}>\r\n      <div class=\"modal-container text\">\r\n        <IconButton\r\n        on:click={closeButton}\r\n        style=\"    position: absolute;\r\n      right:-3px;\r\n      \r\n      z-index: 10;\">\r\n        <Icon\r\n          style=\"              font-size: 22px;\r\n          color: black;\r\n          \r\n          border-radius: 17px;\"\r\n          class=\" material-icons  \">\r\n          close\r\n        </Icon>\r\n      </IconButton>\r\n        <Title id=\"dialog-title\" >\r\n          <h5><b>Capes d’informació geològica derivades del Mapa Geològic de Catalunya 1:25 000</b></h5>\r\n        </Title>\r\n        <LineRipple />\r\n        <Content id=\"dialog-content\" class=\"textModal\" ><h6>\r\n          El visor <i>Capes d’informació geològica derivades del Mapa Geològic 1:25 000 </i>permet consultar informació estructurada \r\n          per capes derivada dels fulls publicats de la sèrie Mapa geològic de Catalunya 1:25 000 en el marc dels projectes \r\n          Geotreball I (GT I) i Geotreball II (GT II). La present versió permet consultar de forma interactiva informació \r\n          referent a 6 capes d’informació: Terrenys antròpics, Cartografia del Basament, Cartografia del Quaternari, \r\n          Registre geològic (columnes estratigràfiques i esquemes de relacions estratigràfiques), Talls geològics i Mesures d’estructures. \r\n          També permet descarregar algun dels continguts que es mostren i documentació complementària associada. \r\n          El visor està vinculat al Referencial Geològic de Catalunya que l’ICGC està implementant i que és la plataforma \r\n          encarregada d’elaborar, emmagatzemar, estructurar, mantenir i difondre, a través de diferents canals, informació \r\n          geològica oficial del conjunt del territori.<br />\r\n          La informació geològica que integra el visor és fonamentalment de caràcter qualitatiu. Es tracta d’una informació \r\n          descriptiva i indicativa, que no pot substituir interpretacions d’especialistes, recomanacions professionals \r\n          i/o investigacions i recerques específiques detallades. Les interpretacions que s’exposen es basen en el\r\n           coneixement dels autors dels fulls publicats del MGC25m i de l’equip de geòlegs de l’ICGC responsables de sintetitzar \r\n           i estructurar el conjunt de la informació que es proporciona. Es preveu que el contingut d’aquestes capes \r\n           d’informació s’ampliï progressivament a mesura que es disposi de nova informació. Els continguts actuals són \r\n           susceptibles de canviar a conseqüència de l’existència noves dades i observacions, d’avenços en el coneixement,\r\n          o millores en els mètodes d’interpretació. En aquests sentit, per evitar confusions es recomana que el present \r\n          visor se citi o es referenciï com: <br />\r\n          ICGC, 2021. Visor de capes d’informació geològica derivades del Mapa geològic de Catalunya 1:25 000. Versió 1 de 15/09/2021. \r\n            <a target=\"_blank\"\r\n              href=\"https://visors.icgc.cat/informaciogeologica/\">\r\n              https://visors.icgc.cat/informaciogeologica/\r\n            </a> (data de consulta)\r\n             <br /><br />\r\n            Per més informació o comentaris sobre el visor adreceu-vos a  \r\n            <a\r\n              href=\"mailto:icgc@icgc.cat\">\r\n              icgc@icgc.cat\r\n            </a>\r\n\r\n               \r\n        </h6>\r\n\r\n        </Content>\r\n\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n  \r\n{/if}\r\n"
  ],
  "names": [],
  "mappings": "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"
=======
    "<script>\r\n    import { onMount, getContext } from \"svelte\";\r\n    //import { keyApp } from \"../../config\";\r\n    import { keyApp } from \"../../config\";\r\n    import  { mapbox } from '../../Components/Map/mapbox';\r\n    import Fa from \"svelte-fa\";\r\n    import { miraCentreDins } from \"../../Utils/Utils.svelte\"\r\n    import {\r\n      faWind,faCube, faWater\r\n    } from \"@fortawesome/free-solid-svg-icons\";\r\n    import Icon from \"@smui/textfield/icon/index\";\r\n    import IconButton from \"@smui/icon-button\";\r\n\r\n  // console.log('w', window.width)\r\n  let button3d = false;\r\n  let seaCurrent = false;\r\n//   const letWindyShow = getContext(\"letWindyShow\");\r\n//   const letCurrentShow = getContext(\"letCurrentShow\");\r\n//   const letshowthewind = getContext(\"letshowthewind\");\r\n//   const letNoshowthewind = getContext(\"letNoshowthewind\");\r\n    const { getMap } = getContext(keyApp);\r\n    const map = getMap();\r\n\r\n\r\nlet pit = undefined\r\n//  onMount(async () => {\r\n \r\n\r\n//     //     console.log('abans', highliItem)\r\n//     map.on(\"pitchend\", function (e) {\r\n//       setTimeout(() => {\r\n      \r\n        \r\n\r\n     \r\n//       let ur  = map['_canvas']['baseURI']\r\n//       let purl = ur.toString()\r\n//       purl = purl.split(\"/\");\r\n   \r\n// if (purl.length > 7){\r\n\r\n//   button3d = true\r\n// }else{\r\n \r\n//   button3d = false\r\n// }\r\n\r\n//     }, 250);\r\n\r\n\r\n\r\n\r\n      \r\n//     })\r\n\r\n//     })\r\n\r\n\r\n\r\n//     onChange( () => {\r\n//       console.log('canvi')\r\n// pit = map['_easeOptions']['pitch']\r\n// console.log(map['_easeOptions']['pitch'])\r\n//     })\r\n   let windy = true\r\n    function getWind(){\r\n          windy = !windy\r\n          letWindyShow()\r\n          if (windy){\r\n            button3d=false\r\n            seaCurrent = false\r\n          }\r\n    }\r\n  \r\n    function getCurrent(){\r\n      seaCurrent = !seaCurrent\r\n      //  letWindyShow()\r\n       letCurrentShow()\r\n          if (seaCurrent){\r\n            button3d=false\r\n            windy =false\r\n          }\r\n    }\r\n    function flyHome(){\r\n      // console.log('1')\r\n        map.flyTo({\r\n            center: [3.29076, 42.30306],\r\n        zoom: 12.87,\r\n        pitch: 0, // pitch in degrees\r\n        bearing: 0,\r\n            });\r\n    }\r\n    function see2d(){\r\n      \r\n      // console.log('entro per canviar a 2d')\r\n      button3d=false\r\n      map.easeTo({ pitch: 0, bearing: 0 });\r\n      map.setTerrain();\r\n      // letWindyShow()\r\n    }\r\n    function see3d(){\r\n      // console.log('3')\r\n      button3d=true\r\n      // console.log('entro per canviar a 3d')\r\n      // windy = false\r\n      map.easeTo({ pitch: 70, bearing: 10 });\r\n      var { longitude, latitude } = map.getCenter();\r\n    \r\n    const socDins = miraCentreDins(longitude, latitude, map.getZoom());\r\n   \r\n    if (socDins) {\r\n     \r\n      map.setTerrain({\r\n        source: \"icgc-dem\",\r\n        exaggeration: 1.2,\r\n      });\r\n    } else {\r\n     \r\n      map.setTerrain({\r\n        source: \"mapbox-dem\",\r\n        exaggeration: 1.5,\r\n      });\r\n    }\r\n    \r\n      // console.log('2', map['_easeOptions']['pitch'])\r\n      // letNoshowthewind()\r\n      \r\n      // letWindyShow()\r\n    }\r\n    \r\n  </script>\r\n  \r\n  <style>\r\n  \r\n  .buttonHome{\r\n    z-index: 100;\r\n      top: 77px;\r\n      right: 16px;\r\n      position: absolute;\r\n  }\r\n  .divButtons{\r\n    z-index: 100;\r\n  bottom: 38%;\r\n  right: -6px;\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 158px;\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  width: 51px;\r\n  }\r\n  .iconi{\r\n    padding-left: 10px;\r\n  }\r\n  @media (max-width: 500px) {\r\n    .divButtons{\r\n    z-index: 100;\r\n  bottom: 32%;\r\n  right: -4px;\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 158px;\r\n  /* background-color: white; */\r\n  border-radius: 8px;\r\n  width: 37px;\r\n  }\r\n  }\r\n  </style>\r\n  \r\n  \r\n  \r\n  \r\n  {#if window.innerWidth >500}\r\n  <!-- <div class=\"divButtons\" > -->\r\n  <div style=\"        z-index: 100;\r\n  bottom: 38%;\r\n  right: 8px;\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  height: auto;\r\n  background-color: white;\r\n  border-radius: 19px;\r\n  \">\r\n  <!-- <IconButton title=\"Torna a la vista inicial\" class=\"buttonSurt\" on:click={flyHome}>\r\n    <Icon\r\n   \r\n      style=\"    color: black;\r\n      \r\n      padding: 0px;\r\n      \r\n      border-radius: 49px;\"\r\n      class=\"material-icons iconaSurt iconi\">\r\n      home\r\n    </Icon>\r\n  </IconButton> -->\r\n  {#if button3d}\r\n  <IconButton title=\"3D/2D\" class=\"buttonSurt\" on:click={see2d}>\r\n    <Fa\r\n    icon={faCube}\r\n    size=\"2x\"\r\n    id=\"bt3D\"\r\n    class=\"iconi  on3d\"\r\n    style=\"      color: blue;\r\n    top: -13px;\r\n    position: relative;\r\n    padding: 0px;\r\n    \r\n    border-radius: 49px;\" /> <p style=\"bottom: 43px;\r\n    position: relative;\r\n    font-size: 17px;color: blue\">3D</p>\r\n  </IconButton>\r\n  {:else}\r\n  <IconButton title=\"3D/2D\" class=\"buttonSurt\" on:click={see3d}>\r\n    <Fa\r\n    icon={faCube}\r\n    class=\"iconi off\"\r\n    size=\"2x\"\r\n    id=\"bt3D\"\r\n    style=\"     color: grey;\r\n    top: -13px;\r\n    position: relative;\r\n    padding: 0px;\r\n    \r\n    border-radius: 49px;\" />\r\n    <p style=\"bottom: 43px;\r\n    position: relative;\r\n    font-size: 17px; color: grey\">3D</p>\r\n  </IconButton>\r\n  {/if}\r\n  \r\n  <!-- {#if !windy}\r\n  \r\n  <IconButton title=\"Anima el vent en 2D\" class=\"buttonSurt\" on:click={getWind}>\r\n    <Fa\r\n    icon={faWind}\r\n    size=\"2x\"\r\n    style=\"      color: grey;\r\n      \r\n    padding: 0px;\r\n    \r\n    border-radius: 49px;\" /> \r\n  </IconButton>\r\n  {:else}\r\n  \r\n  <IconButton title=\"Anima el vent en 2D\" class=\"buttonSurt\" on:click={getWind}>\r\n    <Fa\r\n    icon={faWind}\r\n    size=\"2x\"\r\n    style=\"      color: blue;\r\n      \r\n    padding: 0px;\r\n    \r\n    border-radius: 49px;\" />\r\n  </IconButton>\r\n  {/if} -->\r\n  \r\n  <!-- {#if !seaCurrent}\r\n  \r\n  <IconButton title=\"Anima la mar de fons en 2D\" class=\"buttonSurt\" on:click={getCurrent}>\r\n    <Fa\r\n    icon={faWater}\r\n    size=\"2x\"\r\n    style=\"      color: grey;\r\n      \r\n    padding: 0px;\r\n    \r\n    border-radius: 49px;\" /> \r\n  </IconButton>\r\n  {:else}\r\n  \r\n  <IconButton title=\"Anima la mar de fons en 2D\" class=\"buttonSurt\" on:click={getCurrent}>\r\n    <Fa\r\n    icon={faWater}\r\n    size=\"2x\"\r\n    style=\"      color: blue;\r\n      \r\n    padding: 0px;\r\n    \r\n    border-radius: 49px;\" />\r\n  </IconButton>\r\n  {/if} -->\r\n  \r\n  </div>\r\n  {/if}\r\n  \r\n  <!-- MENYS DE 500PX WIDTH -->\r\n  {#if window.innerWidth <500}\r\n  <!-- <div class=\"divButtons\" > -->\r\n  <div style=\"z-index: 10000;\r\n  bottom: 35%;\r\n  /* width: 70%; */\r\n  right: 7px;\r\n  height: 10px;\r\n  opacity: 1.6;\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: fit-content;\r\n  border-radius: 10px;\r\n  background-color: white;\r\n  box-shadow: 0px 0px 11px 3px rgb(143 154 154 / 68%), 0 6px 20px 0 rgb(243 243 243 / 0%);\r\n  border-radius: 10px;\">\r\n  <!--background: linear-gradient( \r\n    180deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0) 24%, rgb(236 236 236) 24%,rgb(252 253 253) 100%)\">\r\n   <div style=\"        z-index: 100;\r\n  bottom: 32%;\r\n  right: -4px;\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: auto;\r\n  background-color: white;\r\n  border-radius: 10px;\r\n  }\"> -->\r\n  <!-- <IconButton title=\"Torna a la vista inicial\" class=\"buttonSurt\" on:click={flyHome}>\r\n    <Icon\r\n   \r\n      style=\"    color: black;\r\n      \r\n      position: relative;\r\n      padding: 0px;\r\n      font-size: 28px;\r\n      \r\n      border-radius: 49px;\r\n  \"\r\n      class=\"material-icons iconaSurt iconi\">\r\n      home\r\n    </Icon>\r\n  </IconButton> -->\r\n  {#if button3d}\r\n  <IconButton title=\"3D/2D\" class=\"buttonSurt\" on:click={see2d}>\r\n    <Fa\r\n    icon={faCube}\r\n    size=\"1x\"\r\n    id=\"bt3D\"\r\n    class=\"iconi iconi on3d\"\r\n    style=\"      color: blue;\r\n    \r\n    top: -10px;\r\n    position: relative;\r\n    padding: 0px;\r\n    padding-top: 7px;\r\n    right: 6px;\r\n    border-radius: 49px;\" /> <p style=\"bottom: -13px;\r\n    right: 5px;\r\n    position: absolute;\r\n    font-size: 15px;color: blue\">3D</p>\r\n  </IconButton>\r\n  {:else}\r\n  <IconButton title=\"3D/2D\" class=\"buttonSurt\" on:click={see3d}>\r\n    <Fa\r\n    icon={faCube}\r\n    class=\"iconi off\"\r\n    size=\"1x\"\r\n    id=\"bt3D\"\r\n    style=\"     color: grey;\r\n    top: -10px;\r\n    position: relative;\r\n    padding: 0px;\r\n    padding-top: 7px;\r\n    right: 6px;\r\n    border-radius: 49px;\" />\r\n    <p style=\"bottom: -13px;\r\n    right: 5px;\r\n    position: absolute;\r\n    font-size: 15px; color: grey\">3D</p>\r\n  </IconButton>\r\n  {/if}\r\n<!--   \r\n  {#if !windy}\r\n  \r\n  <IconButton title=\"Anima el vent en 2D\" class=\"buttonSurt\" on:click={getWind}>\r\n    <Fa\r\n    icon={faWind}\r\n    size=\"1x\"\r\n    style=\"      color: grey;\r\n      \r\n    padding: 0px;\r\n  \r\n    position: relative;\r\n    border-radius: 49px;\" /> \r\n  </IconButton>\r\n  {:else}\r\n  \r\n  <IconButton title=\"Anima el vent en 2D\" class=\"buttonSurt\" on:click={getWind}>\r\n    <Fa\r\n    icon={faWind}\r\n    size=\"1x\"\r\n    style=\"      color: blue;\r\n   \r\n    position: relative;\r\n    padding: 0px;\r\n    \r\n    border-radius: 49px;\" />\r\n  </IconButton>\r\n  {/if}\r\n  \r\n  \r\n  {#if !seaCurrent}\r\n  \r\n  <IconButton title=\"Anima el vent en 2D\" class=\"buttonSurt\" on:click={getCurrent}>\r\n    <Fa\r\n    icon={faWater}\r\n    size=\"1x\"\r\n    style=\"      color: grey;\r\n  \r\n    padding: 0px;\r\n  \r\n    position: relative;\r\n    border-radius: 49px;\" /> \r\n  </IconButton>\r\n  {:else}\r\n  \r\n  <IconButton title=\"Anima el vent en 2D\" class=\"buttonSurt\" on:click={getCurrent}>\r\n    <Fa\r\n    icon={faWater}\r\n    size=\"1x\"\r\n    style=\"      color: blue;\r\n  \r\n    position: relative;\r\n    padding: 0px;\r\n    \r\n    border-radius: 49px;\" />\r\n  </IconButton>\r\n  {/if} -->\r\n  \r\n  </div>\r\n  {/if}\r\n  ",
    "<script>\n  import { stateDrawer } from \"../../Utils/stores.js\";\n  import PanelSearchBar from \"../PanelSearchBar/PanelSearchBar.svelte\";\n  import Modal from \"../../UI/Modal.svelte\";\n  import ModalInfo from \"../../UI/ModalInfo.svelte\";\n  import Logo from \"../../UI/Logo.svelte\";\n  import Title from \"./Title.svelte\"\n  import TopAppBar, {\n    Row,\n    Section,\n       FixedAdjust,\n    DenseFixedAdjust,\n    ProminentFixedAdjust,\n    ShortFixedAdjust\n  } from \"@smui/top-app-bar\";\n  import IconButton from \"@smui/icon-button\";\n  let dense = false;\n  let prominent = false;\n  let variant = \"fixed\";\n  let collapsed = false;\n\n\n  let Adjust = ShortFixedAdjust;\n\n  export let show = false;\n  let modal_show = false;\n  let modalinfovisor_show = false;\n  // setTimeout(() => {\n  //   modalinfovisor_show = true\n  //   }, 2000);\n  function changeDrawerState() {\n    stateDrawer.set(function() {\n      return true;\n    });\n  }\n\n  function openInfoDialog() {\n    openModalInfo = true;\n  }\n</script>\n\n<style>\n  .topAppBar{\n    border-radius: 10;\n  }\n  #titulo {\n    /* font-size: 1.82em !important; */\n    font-size: 22px;\n    padding-left: 72px;\n    padding-bottom: 9px;\n  }\n  .logos{\n    right: 0;\n  }\n  @media (max-width: 624px) {\n    #titulo {\n      font-size: 1.5rem !important;\n    }\n  }\n  @media (max-width: 500px) {\n    #titulo {\n      font-size: 1rem !important;\n    }\n  }\n  @media (max-width: 321px) {\n    #titulo {\n      font-size: 0.9rem !important;\n    }\n  }\n  @media (max-width: 775px) {\n    .btinfor {\n      opacity: 0 !important;\n    }\n  }\n</style>\n\n<Modal bind:show={modal_show} />\n<ModalInfo bind:show={modalinfovisor_show} />\n<div class=\"top-app-bar-container flexor\">\n  <TopAppBar class=\"topAppBar\" variant=\"short\" {dense} {prominent} bind:collapsed>\n    <Row>\n    \n       <!-- <Section> \n          <PanelSearchBar />\n      \n       </Section> -->\n\n      <Section id=\"titulo\" style=\"padding-left: 55px;\">\n        \n        <Title />\n          \n         <!-- <Logo />   -->\n         <IconButton\n         on:click={() => {\n           modalinfovisor_show = true;\n           modal_show = false;\n           show = false;\n         }}\n         id=\"topbarInfovisor\"\n         style=\"color:black\"\n         class=\"btinfo material-icons\"\n         aria-label=\"Informació del Visor\">\n         help\n       </IconButton>\n         <IconButton\n          on:click={() => {\n            modal_show = true;\n            show = false;\n            modalinfo_show = false;\n          }}\n          id=\"topbarInfo\"\n          style=\"color:black\"\n          class=\"btinfo material-icons\"\n          aria-label=\"Informació\">\n          info\n        </IconButton>\n           \n   \n   \n      </Section>\n\n      <!-- <Section align=\"end\" toolbar class=\"btinfor\"> -->\n\n\n      <!-- </Section> -->\n    </Row>\n  </TopAppBar>\n  <div use:Adjust />\n</div>\n",
    "<script>\n \n \n let title = \"Capes d’informació del Mapa Geològic de Catalunya 1:25.000\";\n</script>\n\n<style>\n\n  #titulo {\n    /* font-size: 1.82em !important; */\n    font-size: 22px;\n    text-align-last: center;\n    text-align: center;\n    padding-bottom: 9px;\n    padding-top: 2px;\n    \n  }\n  @media (max-width: 1050px) {\n    #titulo {\n      font-size: 1.3rem !important;\n      text-align-last: center;\n      text-align: center;\n      padding-top: 2px;\n      /* padding-left: 33%; */\n    }\n  }\n  @media (max-width: 960px) {\n    #titulo {\n      font-size: 1.2rem !important;\n      text-align-last: center;\n      text-align: center;\n      padding-top: 2px;\n      /* padding-left: 26%; */\n    }\n  }\n  @media (max-width: 700px) {\n    #titulo {\n      font-size: 0.9rem !important;\n      text-align-last: center;\n      text-align: center;\n      padding-top: 2px;\n      /* padding-left: 23%; */\n    }\n  }\n  @media (max-width: 321px) {\n    #titulo {\n      font-size: 0.9rem !important;\n      text-align-last: center;\n      text-align: center;\n      padding-top: 2px;\n      /* padding-left: 17%; */\n    }\n  }\n</style>\n\n<div class=\"headerLogo\"  style=\"    width: -webkit-fill-available;\">\n  <h1 id=\"titulo\" tabindex=\"0\">{title}</h1>\n</div>\n",
    "<script>\n\n</script>\n\n<style>\n  .headerLogo {\n    position: absolute;\n    z-index: 1000;\n    right: 50px;\n    opacity: 1;\n  }\n\n  @media (max-width: 775px) {\n    .headerLogo {\n      opacity: 0;\n    }\n  }\n</style>\n\n<div class=\"headerLogo\">\n  <a\n    title=\"Institut Catogràfic i Geològic de Catalunya\"\n    href=\"https://www.icgc.cat\"\n    target=\"_blank\">\n    <img\n      width=\"125\"\n      alt=\"Logi ICGCG\"\n      src=\"assets/ICGC_white.svg\"\n      class=\"ui image logo\" />\n  </a>\n</div>\n",
    "<script>\r\n\r\n</script>\r\n\r\n<style>\r\n  .headerLogo {\r\n    position: absolute;\r\n    z-index: 1000;\r\n    right: 40%;\r\n    bottom: 17px;\r\n    opacity: 1;\r\n  }\r\n\r\n  @media (max-width: 775px) {\r\n    .headerLogo {\r\n      opacity: 0;\r\n    }\r\n  }\r\n</style>\r\n\r\n<div class=\"headerLogo\">\r\n  <a\r\n    title=\"Institut Catogràfic i Geològic de Catalunya\"\r\n    href=\"https://www.icgc.cat\"\r\n    target=\"_blank\">\r\n    <img\r\n      width=\"125\"\r\n      alt=\"Logi ICGCG\"\r\n      src=\"assets/icgc_blanc.png\"\r\n      class=\"ui image logo\" />\r\n  </a>\r\n\r\n</div>\r\n",
    "<script>\n  import Dialog, { Title, Content, Actions } from \"@smui/dialog\";\n  import Button, { Label } from \"@smui/button\";\n  import { fade } from \"svelte/transition\";\n  import LineRipple from \"@smui/line-ripple\";\n  import IconButton, { Icon } from \"@smui/icon-button\";\n  function overlay_click(e) {\n    if (\"close\" in e.target.dataset) show = false;\n  }\n\n  export let show = false;\n  function closeButton () {\n    show = false\n  }\n</script>\n\n<style>\n  .modal-overlay {\n    z-index: 2000;\n    font-size: 10px !important;\n    font-family: Arial, Helvetica, sans-serif;\n    /* overflow: auto;\ndisplay: flex;\n position: fixed;\n    top: 35%;\n    left: 30%;\n    transform: translate(-23%,-23%); */\n  }\n  .modal-container {\n    overflow-y: auto;\n    overflow-x: hidden;\n    display: block;\n    position: fixed;\n    top: 31%;\n    left: 26%;\n    bottom: 0%;\n    transform: translate(-23%, -23%);\n    font-family: Arial, Helvetica, sans-serif;\n    border-radius: 18px;\n  }\n  .textModal{\n    font-size: small !important;\n    font-family: Arial, Helvetica, sans-serif;\n  }\nh6{\n  font-size: 1rem;\n  font-family: Arial, Helvetica, sans-serif;\n  font-weight: 100;\n  color: black\n}\nh5{\n  font-size: 1.1rem;\n  font-family: Arial, Helvetica, sans-serif;\n  margin-top: -43px;\n    margin-bottom: -26px;\n}\n  @media (max-width: 600px) {\n    .mdc-dialog__title {\nfont-size: smaller;\n    }\n    .modal-overlay {\n      /* font-size: smaller !important; */\n    }\n    h6{\n  font-size: 0.8rem;\n}\nh5{\n  font-size:0.9rem;\n  margin-top: -43px;\n    margin-bottom: -26px;\n}\n  }\n  @media (max-width: 321px) {\n    .mdc-dialog__title {\nfont-size: smaller;\n    }\n    h6{\n  font-size: 0.7rem;\n}\nh5{\n  font-size:0.8rem;\n  margin-top: -43px;\n    margin-bottom: -26px;\n}\n\n  }\n</style>\n\n{#if show}\n  <div>\n    <div\n      class=\"modal-overlay\"\n      data-close\n      on:click={overlay_click}\n      transition:fade={{ duration: 150 }}>\n      <div class=\"modal-container text\">\n        <IconButton\n        on:click={closeButton}\n        style=\"    position: absolute;\n      right:-3px;\n      \n      z-index: 10;\">\n        <Icon\n          style=\"              font-size: 22px;\n          color: black;\n          \n          border-radius: 17px;\"\n          class=\" material-icons  \">\n          close\n        </Icon>\n      </IconButton>\n        <Title id=\"dialog-title\" >\n          <h5><b>Capes d’informació del Mapa Geològic de Catalunya 1:25.000</b></h5>\n        </Title>\n        <LineRipple />\n        <Content id=\"dialog-content\" class=\"textModal\" ><h6>\n          El visor <i>Capes d’informació del Mapa Geològic de Catalunya 1:25.000 (MGC25m) </i>permet consultar informació estructurada per \n          capes derivades dels fulls publicats de la sèrie Mapa Geològic de Catalunya 1:25.000 en el marc del Geotreball I (GT I) \n          i Geotreball II (GT II). <br />\n          La present versió permet consultar de forma interactiva informació referent a 6 capes d’informació: Dipòsits quaternaris, \n          Basament prequaternari, Terrenys antropitzats, Mesures d’estructures, Talls geològics i Registre geològic \n          (Columnes estratigràfiques i Esquemes de relacions estratigràfiques). També permet descarregar alguns dels \n          continguts que es mostren i documentació complementària associada.<br />\n          El visor està vinculat al sistema de capes d’informació geològica que l’ICGC està implementant i que està orientat \n          a emmagatzemar, actualitzar i difondre, a través de diferents canals, informació geològica del conjunt del territori. \n          La informació geològica que integra el visor és fonamentalment de caràcter qualitatiu. Es tracta d’una informació \n          descriptiva i indicativa, que no pot substituir interpretacions d’especialistes, recomanacions professionals i/o \n          investigacions i recerques específiques detallades. Les interpretacions que s’exposen es basen en el coneixement \n          dels autors dels fulls publicats del MGC25m i de l’equip de geòlegs de l’ICGC. Es preveu que el contingut d’aquestes \n          capes d’informació s’ampliï progressivament a mesura que es disposi de nova informació. Els continguts actuals són \n          susceptibles de canviar a conseqüència de l’existència noves dades i observacions, d’avenços en el coneixement, o \n          millores en els mètodes d’interpretació. <br />\n          Es recomana que el present visor es referenciï com: <br />\n          ICGC, 2021. Visor de Capes d’informació del Mapa Geològic de Catalunya 1:25.000. Versió 1 de 30/11/2021. \n            <a target=\"_blank\"\n              href=\"https://visors.icgc.cat/infogeo25\">\n              https://visors.icgc.cat/infogeo25/\n            </a> (data de consulta).\n             <br /><br />\n            Per més informació o comentaris sobre el visor adreceu-vos a  \n            <a\n              href=\"mailto:info@icgc.cat\">\n              info@icgc.cat\n            </a>\n\n               \n        </h6>\n\n        </Content>\n\n      </div>\n    </div>\n\n  </div>\n  \n{/if}\n",
    "<script>\n  import Dialog, { Title, Content, Actions } from \"@smui/dialog\";\n  import Button, { Label } from \"@smui/button\";\n  import { fade } from \"svelte/transition\";\n  import LineRipple from \"@smui/line-ripple\";\n  import IconButton, { Icon } from \"@smui/icon-button\";\n  function overlay_click(e) {\n    if (\"close\" in e.target.dataset) show = false;\n  }\n\n  export let show = false;\n  function closeButton () {\n    show = false\n  }\n</script>\n\n<style>\n  .indent{\n    padding-left: 15px;\n  }\n  .modal-overlay {\n    z-index: 2000;\n    font-size: 10px !important;\n    font-family: Arial, Helvetica, sans-serif;\n    /* overflow: auto;\ndisplay: flex;\n position: fixed;\n    top: 35%;\n    left: 30%;\n    transform: translate(-23%,-23%); */\n  }\n  .modal-container {\n    overflow-y: auto;\n    overflow-x: hidden;\n    display: block;\n    position: fixed;\n    top: 22%;\n    left: 26%;\n    bottom: -7%;\n    transform: translate(-23%, -23%);\n    font-family: Arial, Helvetica, sans-serif;\n    border-radius: 18px;\n  }\n  .textModal{\n    font-size: small !important;\n    font-family: Arial, Helvetica, sans-serif;\n  }\nh6{\n  font-size: 1rem;\n  font-family: Arial, Helvetica, sans-serif;\n  font-weight: 100;\n  color: black;\n}\nh5{\n  font-size: 1.1rem;\n  font-family: Arial, Helvetica, sans-serif;\n  margin-top: -43px;\n    margin-bottom: -26px;\n}\n  @media (max-width: 600px) {\n    .mdc-dialog__title {\nfont-size: smaller;\n    }\n    .modal-overlay {\n      /* font-size: smaller !important; */\n    }\n    h6{\n  font-size: 0.8rem;\n}\nh5{\n  font-size:0.9rem;\n  margin-top: -43px;\n    margin-bottom: -26px;\n}\n  }\n  @media (max-width: 321px) {\n    .mdc-dialog__title {\nfont-size: smaller;\n    }\n    h6{\n  font-size: 0.7rem;\n}\nh5{\n  font-size:0.8rem;\n  margin-top: -43px;\n    margin-bottom: -26px;\n}\n\n  }\n</style>\n\n{#if show}\n  <div>\n    <div\n      class=\"modal-overlay\"\n      data-close\n      on:click={overlay_click}\n      transition:fade={{ duration: 150 }}>\n      <div class=\"modal-container text\">\n        <IconButton\n        on:click={closeButton}\n        style=\"    position: absolute;\n      right:-3px;\n      \n      z-index: 10;\">\n        <Icon\n          style=\"              font-size: 22px;\n          color: black;\n          \n          border-radius: 17px;\"\n          class=\" material-icons  \">\n          close\n        </Icon>\n      </IconButton>\n        <Title id=\"dialog-title\" >\n          <h5><b>Funcionalitats</b></h5>\n        </Title>\n        <LineRipple />\n        <Content id=\"dialog-content\" class=\"textModal\" ><h6>\n              <p>\n            <b>Visualització de les capes:</b>\n          </p>\n          <p>\n            Les capes activades en iniciar el visor són, per defecte, Basament\n            prequaternari i Dipòsits quaternaris. Inicialment, la resta de capes estan\n            desactivades. Per visualitzar o amagar una capa cal clicar el botó\n            check situat a l’esquerra d’aquesta.\n          </p>\n          <p>\n            Es pot ajustar, amb una barra lliscant, la transparència de les unitats geològiques en les capes Basament\n            prequaternari i Dipòsits quaternaris, respectivament.\n          </p>\n          <p>\n            Recomanacions de visualitzacions de les capes:\n          </p>\n          <p class='indent'>\n            · Es recomana visualitzar les capes Mesures d’estructures, Talls geològics\n            i Esquemes de relacions estratigràfiques (Registre Geològic) juntament amb\n            la capa Basament prequaternari.\n          </p>\n          <p class='indent'>\n            · Es recomana visualitzar la capa Columnes estratigràfiques (Registre geològic) desactivant la resta de\n            capes.\n          </p>\n          <p>\n            En clicar el botó 3D es pot veure en continu la cartografia en relleu. Amb aquest mode activat, \n            es controla la navegació 3D amb el botó dret del ratolí.\n          </p>\n          <p>\n            <b>Informació de les capes:</b>\n            <b></b>\n          </p>\n          <p>\n            En clicar sobre qualsevol punt del mapa, el visor retornarà informació de\n            les capes visibles segons aquest ordre de prioritat:\n          </p>\n          <p class='indent'>\n            1. Mesures d’estructures\n          </p>\n          <p class='indent'>\n            2. Talls geològics\n          </p>\n          <p class='indent'>\n            3. Terrenys antropitzats\n          </p>\n          <p class='indent'>\n            4. Registre geològic\n          </p>\n          <p class='indent'>\n            5. Dipòsits quaternaris\n          </p>\n          <p class='indent'>\n            6. Basament prequaternari\n          </p>\n          <p>\n            <b>Informació Mesures d’estructures:</b>\n            tipus de mesura, orientació i, si s’escau, inclinació.\n          </p>\n          <p>\n            <b>Informació Talls geològics: </b>\n            identificador/s del full 1:25.000 i el número de tall geològic del mapa\n            publicat GTI. Clicant sobre una traça de tall s’il·lumina la traça\n            corresponent i es pot visualitzar i descarregar el tall geològic. La\n            descàrrega inclou el tall en format jpg i una taula en format xlsx,\n            amb informació litostratigràfica de les unitats que el composen.\n          </p>\n          <p>\n            <b>Informació Terrenys antropitzats:</b>\n            epígraf, descripció, tipus de terreny i edat. Clicant sobre un terreny\n            antropitzat s’il·luminen tots els del mateix epígraf distribuïts en el\n            conjunt del territori cartografiat.\n          </p>\n          <p>\n            <b>Informació Registre geològic:</b>\n          </p>\n          <p class='indent'>\n            <b>Informació Columnes estratigràfiques:</b>\n            identificador/s del full 1:25.000 del mapa publicat GTI i la seva\n            descripció. Clicant en un grup cronoestratigràfic, s’il·lumina aquest grup\n            en tot territori cartografiat, ressaltant el del mapa corresponent. Es pot\n            visualitzar i descarregar les columnes estratigràfiques. La descàrrega\n            inclou la columna<b> </b>en format jpg i una taula en format xlsx, amb\n            informació litostratigràfica de les unitats que la composen.\n          </p>\n          <p class='indent'>\n            <b>Informació Esquemes de relacions estratigràfiques:</b>\n            identificador/s del full 1:25.000 del mapa publicat GTI i la seva\n            descripció. Clicant en un mapa, aquest s’il•lumina i es pot visualitzar i\n            descarregar l’esquema de relacions estratigràfiques. La descàrrega inclou\n            l’esquema en format jpg i una taula en format xlsx, amb informació\n            litostratigràfica de les unitats que el composen.\n          </p>\n          <p>\n            <i></i>\n          </p>\n          <p>\n            <b>Informació Dipòsits quaternaris i Basament prequaternari:</b>\n          </p>\n          \n          <p class='indent'>\n            <b >     Informació Unitats geològiques:</b>\n            unitat, descripció, edats geològiques, l’identificador del full 1:25.000 i,\n            si s’escau, el tipus de metamorfisme i la seva edat. Clicant una unitat\n            geològica, s’il•luminen totes les del mateix epígraf distribuïdes en el\n            conjunt del territori cartografiat, ressaltant en un altre color les del\n            full corresponent.\n          </p>\n          <p class='indent'>\n            <b >Informació Contactes, Falles i plecs i Elements geomorfològics:</b>\n            descripció de l'element. Clicant sobre un element s’il·luminen tots els del mateix tipus\n            distribuïts en el conjunt del territori cartografiat.\n          </p>\n \n               \n        </h6>\n\n        </Content>\n\n      </div>\n    </div>\n\n  </div>\n  \n{/if}\n"
  ],
  "names": [],
  "mappings": "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"
>>>>>>> 1ed08ea1a226fd9513960ae50faf6e54be727dee
}